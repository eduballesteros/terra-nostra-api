2025-05-30T00:01:44.375+02:00 DEBUG 2572 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T00:01:44.430+02:00 DEBUG 2572 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:01:44.430+02:00 DEBUG 2572 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T00:01:44.431+02:00 DEBUG 2572 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T00:01:44.432+02:00 DEBUG 2572 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T00:01:44.516+02:00 DEBUG 2572 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T00:01:44.766+02:00 DEBUG 2572 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:01:45.081+02:00 DEBUG 2572 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /carrito/46
2025-05-30T00:01:45.081+02:00 DEBUG 2572 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:01:45.082+02:00 DEBUG 2572 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /carrito/46
2025-05-30T00:01:45.083+02:00 DEBUG 2572 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/carrito/46", parameters={}
2025-05-30T00:01:45.083+02:00 DEBUG 2572 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T00:01:45.137+02:00 DEBUG 2572 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T00:01:45.141+02:00 DEBUG 2572 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T00:01:45.223+02:00 DEBUG 2572 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T00:01:45.244+02:00 DEBUG 2572 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:01:45.244+02:00 DEBUG 2572 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T00:01:45.262+02:00 DEBUG 2572 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T00:01:45.448+02:00 DEBUG 2572 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/resenias/producto/34
2025-05-30T00:01:45.448+02:00 DEBUG 2572 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:01:45.448+02:00 DEBUG 2572 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/resenias/producto/34
2025-05-30T00:01:45.448+02:00 DEBUG 2572 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/resenias/producto/34", parameters={}
2025-05-30T00:01:45.449+02:00 DEBUG 2572 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ReseniaController#obtenerReseniasPorProducto(Long)
2025-05-30T00:01:45.485+02:00 DEBUG 2572 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T00:01:45.615+02:00 DEBUG 2572 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        rm1_0.id,
        rm1_0.comentario,
        rm1_0.fecha,
        rm1_0.producto_id,
        rm1_0.usuario_id,
        rm1_0.valoracion 
    from
        resenas rm1_0 
    where
        rm1_0.producto_id=? 
    order by
        rm1_0.fecha desc
2025-05-30T00:01:45.636+02:00 DEBUG 2572 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T00:01:45.657+02:00 DEBUG 2572 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:01:45.657+02:00 DEBUG 2572 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ReseniaDto(id=9, productoId=34, nombreProducto=Ashwagandha Bio, usuarioId=46, nombreUsuario=Eduardo (truncated)...]
2025-05-30T00:01:45.658+02:00 DEBUG 2572 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:01:45.747+02:00  INFO 2572 --- [http-nio-8081-exec-1] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 46
2025-05-30T00:01:45.747+02:00 DEBUG 2572 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T00:01:45.753+02:00 DEBUG 2572 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=1, usuarioId=46, fechaCreacion=2025-05-18T13:03:53.251543, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T00:01:45.771+02:00 DEBUG 2572 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:01:45.800+02:00 DEBUG 2572 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /carrito/46
2025-05-30T00:01:45.800+02:00 DEBUG 2572 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:01:45.800+02:00 DEBUG 2572 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /carrito/46
2025-05-30T00:01:45.801+02:00 DEBUG 2572 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/carrito/46", parameters={}
2025-05-30T00:01:45.801+02:00 DEBUG 2572 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T00:01:45.841+02:00 DEBUG 2572 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T00:01:45.918+02:00 DEBUG 2572 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T00:01:45.938+02:00 DEBUG 2572 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T00:01:45.959+02:00 DEBUG 2572 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T00:01:46.028+02:00  INFO 2572 --- [http-nio-8081-exec-6] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 46
2025-05-30T00:01:46.028+02:00 DEBUG 2572 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T00:01:46.033+02:00 DEBUG 2572 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=1, usuarioId=46, fechaCreacion=2025-05-18T13:03:53.251543, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T00:01:46.050+02:00 DEBUG 2572 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:16:16.374+02:00 DEBUG 2572 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T00:16:16.375+02:00 DEBUG 2572 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:16:16.375+02:00 DEBUG 2572 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T00:16:16.375+02:00 DEBUG 2572 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T00:16:16.375+02:00 DEBUG 2572 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T00:16:16.380+02:00  INFO 2572 --- [http-nio-8081-exec-7] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T00:16:16.434+02:00  INFO 2572 --- [http-nio-8081-exec-7] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T00:16:16.441+02:00 DEBUG 2572 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T00:16:16.518+02:00  INFO 2572 --- [http-nio-8081-exec-7] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 2
2025-05-30T00:16:16.519+02:00 DEBUG 2572 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:16:16.530+02:00 DEBUG 2572 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=46, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T00:16:16.546+02:00 DEBUG 2572 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:16:18.830+02:00 DEBUG 2572 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/categorias
2025-05-30T00:16:18.831+02:00 DEBUG 2572 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:16:18.831+02:00 DEBUG 2572 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/categorias
2025-05-30T00:16:18.832+02:00 DEBUG 2572 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/categorias", parameters={}
2025-05-30T00:16:18.833+02:00 DEBUG 2572 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#obtenerCategorias()
2025-05-30T00:16:18.836+02:00 DEBUG 2572 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:16:18.837+02:00 DEBUG 2572 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Suplementos Naturales, Tés e Infusiones Naturales, Superalimentos, Alimentación Saludable, Cosmétic (truncated)...]
2025-05-30T00:16:18.841+02:00 DEBUG 2572 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T00:16:18.842+02:00 DEBUG 2572 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:16:18.842+02:00 DEBUG 2572 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:16:18.842+02:00 DEBUG 2572 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T00:16:18.843+02:00 DEBUG 2572 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T00:16:18.843+02:00 DEBUG 2572 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T00:16:18.845+02:00  INFO 2572 --- [http-nio-8081-exec-5] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T00:16:18.851+02:00 DEBUG 2572 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T00:16:18.851+02:00 DEBUG 2572 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:16:18.852+02:00 DEBUG 2572 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T00:16:18.852+02:00 DEBUG 2572 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T00:16:18.852+02:00 DEBUG 2572 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T00:16:18.897+02:00  INFO 2572 --- [http-nio-8081-exec-5] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T00:16:18.900+02:00 DEBUG 2572 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T00:16:18.907+02:00 DEBUG 2572 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T00:16:18.971+02:00  INFO 2572 --- [http-nio-8081-exec-5] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 2
2025-05-30T00:16:18.972+02:00 DEBUG 2572 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:16:18.972+02:00 DEBUG 2572 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=46, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T00:16:18.974+02:00 DEBUG 2572 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:16:19.267+02:00 DEBUG 2572 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:16:19.295+02:00 DEBUG 2572 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /carrito/46
2025-05-30T00:16:19.295+02:00 DEBUG 2572 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:16:19.295+02:00 DEBUG 2572 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /carrito/46
2025-05-30T00:16:19.295+02:00 DEBUG 2572 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/carrito/46", parameters={}
2025-05-30T00:16:19.296+02:00 DEBUG 2572 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T00:16:19.341+02:00 DEBUG 2572 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T00:16:19.420+02:00 DEBUG 2572 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T00:16:19.441+02:00 DEBUG 2572 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T00:16:19.465+02:00 DEBUG 2572 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T00:16:19.636+02:00 DEBUG 2572 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T00:16:19.643+02:00  INFO 2572 --- [http-nio-8081-exec-1] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 46
2025-05-30T00:16:19.643+02:00 DEBUG 2572 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T00:16:19.653+02:00 DEBUG 2572 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=1, usuarioId=46, fechaCreacion=2025-05-18T13:03:53.251543, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T00:16:19.701+02:00 DEBUG 2572 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:16:19.721+02:00 DEBUG 2572 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:16:19.802+02:00 DEBUG 2572 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /carrito/46
2025-05-30T00:16:19.802+02:00 DEBUG 2572 --- [http-nio-8081-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:16:19.802+02:00 DEBUG 2572 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /carrito/46
2025-05-30T00:16:19.803+02:00 DEBUG 2572 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/carrito/46", parameters={}
2025-05-30T00:16:19.803+02:00 DEBUG 2572 --- [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T00:16:19.839+02:00 DEBUG 2572 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T00:16:19.923+02:00 DEBUG 2572 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T00:16:19.942+02:00 DEBUG 2572 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T00:16:19.960+02:00 DEBUG 2572 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T00:16:20.025+02:00  INFO 2572 --- [http-nio-8081-exec-10] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 46
2025-05-30T00:16:20.025+02:00 DEBUG 2572 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T00:16:20.030+02:00 DEBUG 2572 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=1, usuarioId=46, fechaCreacion=2025-05-18T13:03:53.251543, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T00:16:20.054+02:00 DEBUG 2572 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:16:33.232+02:00 DEBUG 2572 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing DELETE /api/usuario/email/ballesterospereze@gmail.com
2025-05-30T00:16:33.233+02:00 DEBUG 2572 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:16:33.233+02:00 DEBUG 2572 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured DELETE /api/usuario/email/ballesterospereze@gmail.com
2025-05-30T00:16:33.234+02:00 DEBUG 2572 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : DELETE "/api/usuario/email/ballesterospereze@gmail.com", parameters={}
2025-05-30T00:16:33.234+02:00 DEBUG 2572 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#eliminarUsuarioPorEmail(String)
2025-05-30T00:16:33.241+02:00  INFO 2572 --- [http-nio-8081-exec-8] c.t.t.controllers.UsuarioController      : 🗑️ Intentando eliminar usuario con email: ballesterospereze@gmail.com
2025-05-30T00:16:33.281+02:00  INFO 2572 --- [http-nio-8081-exec-8] c.t.terranostra.services.UsuarioService  : 🗑️ Intentando eliminar usuario con email: ballesterospereze@gmail.com
2025-05-30T00:16:33.293+02:00 DEBUG 2572 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-05-30T00:16:33.335+02:00  INFO 2572 --- [http-nio-8081-exec-8] c.t.terranostra.services.UsuarioService  : ✅ Usuario con email ballesterospereze@gmail.com eliminado correctamente
2025-05-30T00:16:33.345+02:00 DEBUG 2572 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    delete 
    from
        usuarios 
    where
        id=?
2025-05-30T00:16:34.216+02:00  WARN 2572 --- [http-nio-8081-exec-8] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1451, SQLState: 23000
2025-05-30T00:16:34.216+02:00 ERROR 2572 --- [http-nio-8081-exec-8] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot delete or update a parent row: a foreign key constraint fails (`terranostradb`.`carrito`, CONSTRAINT `FKbunaoq2qnb3gd29rcqv2e2dal` FOREIGN KEY (`usuario_id`) REFERENCES `usuarios` (`id`))
2025-05-30T00:16:34.272+02:00 ERROR 2572 --- [http-nio-8081-exec-8] c.t.t.controllers.UsuarioController      : ❌ Error al eliminar usuario con email: ballesterospereze@gmail.com

org.springframework.dao.DataIntegrityViolationException: could not execute statement [Cannot delete or update a parent row: a foreign key constraint fails (`terranostradb`.`carrito`, CONSTRAINT `FKbunaoq2qnb3gd29rcqv2e2dal` FOREIGN KEY (`usuario_id`) REFERENCES `usuarios` (`id`))] [delete from usuarios where id=?]; SQL [delete from usuarios where id=?]; constraint [null]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:290) ~[spring-orm-6.2.1.jar:6.2.1]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241) ~[spring-orm-6.2.1.jar:6.2.1]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:566) ~[spring-orm-6.2.1.jar:6.2.1]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:795) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:758) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:698) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:416) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.1.jar:6.2.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.1.jar:6.2.1]
	at com.tfg.terranostra.services.UsuarioService$$SpringCGLIB$$0.eliminarUsuarioPorEmail(<generated>) ~[classes/:na]
	at com.tfg.terranostra.controllers.UsuarioController.eliminarUsuarioPorEmail(UsuarioController.java:155) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.FrameworkServlet.doDelete(FrameworkServlet.java:936) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:596) ~[tomcat-embed-core-10.1.34.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.34.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.2.jar:6.4.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [Cannot delete or update a parent row: a foreign key constraint fails (`terranostradb`.`carrito`, CONSTRAINT `FKbunaoq2qnb3gd29rcqv2e2dal` FOREIGN KEY (`usuario_id`) REFERENCES `usuarios` (`id`))] [delete from usuarios where id=?]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:62) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.performNonBatchedMutation(AbstractMutationExecutor.java:134) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:55) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.persister.entity.mutation.AbstractDeleteCoordinator.doStaticDelete(AbstractDeleteCoordinator.java:279) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.persister.entity.mutation.AbstractDeleteCoordinator.delete(AbstractDeleteCoordinator.java:87) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:131) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:644) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:511) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:414) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:41) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1429) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:491) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2354) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1978) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:169) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:267) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562) ~[spring-orm-6.2.1.jar:6.2.1]
	... 101 common frames omitted
Caused by: java.sql.SQLIntegrityConstraintViolationException: Cannot delete or update a parent row: a foreign key constraint fails (`terranostradb`.`carrito`, CONSTRAINT `FKbunaoq2qnb3gd29rcqv2e2dal` FOREIGN KEY (`usuario_id`) REFERENCES `usuarios` (`id`))
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:109) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:988) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1166) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1101) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1467) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1084) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	... 121 common frames omitted

2025-05-30T00:16:34.296+02:00 DEBUG 2572 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [text/plain, */*, application/json, application/*+json]
2025-05-30T00:16:34.296+02:00 DEBUG 2572 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Error al eliminar usuario"]
2025-05-30T00:16:34.298+02:00 DEBUG 2572 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-30T00:16:58.436+02:00 DEBUG 2572 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing DELETE /api/usuario/email/ballesterosperezn@gmail.com
2025-05-30T00:16:58.438+02:00 DEBUG 2572 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:16:58.439+02:00 DEBUG 2572 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured DELETE /api/usuario/email/ballesterosperezn@gmail.com
2025-05-30T00:16:58.439+02:00 DEBUG 2572 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : DELETE "/api/usuario/email/ballesterosperezn@gmail.com", parameters={}
2025-05-30T00:16:58.440+02:00 DEBUG 2572 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#eliminarUsuarioPorEmail(String)
2025-05-30T00:16:58.440+02:00  INFO 2572 --- [http-nio-8081-exec-2] c.t.t.controllers.UsuarioController      : 🗑️ Intentando eliminar usuario con email: ballesterosperezn@gmail.com
2025-05-30T00:16:58.476+02:00  INFO 2572 --- [http-nio-8081-exec-2] c.t.terranostra.services.UsuarioService  : 🗑️ Intentando eliminar usuario con email: ballesterosperezn@gmail.com
2025-05-30T00:16:58.483+02:00 DEBUG 2572 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-05-30T00:16:58.506+02:00  INFO 2572 --- [http-nio-8081-exec-2] c.t.terranostra.services.UsuarioService  : ✅ Usuario con email ballesterosperezn@gmail.com eliminado correctamente
2025-05-30T00:16:58.508+02:00 DEBUG 2572 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    delete 
    from
        usuarios 
    where
        id=?
2025-05-30T00:16:58.529+02:00  WARN 2572 --- [http-nio-8081-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1451, SQLState: 23000
2025-05-30T00:16:58.529+02:00 ERROR 2572 --- [http-nio-8081-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot delete or update a parent row: a foreign key constraint fails (`terranostradb`.`carrito`, CONSTRAINT `FKbunaoq2qnb3gd29rcqv2e2dal` FOREIGN KEY (`usuario_id`) REFERENCES `usuarios` (`id`))
2025-05-30T00:16:58.565+02:00 ERROR 2572 --- [http-nio-8081-exec-2] c.t.t.controllers.UsuarioController      : ❌ Error al eliminar usuario con email: ballesterosperezn@gmail.com

org.springframework.dao.DataIntegrityViolationException: could not execute statement [Cannot delete or update a parent row: a foreign key constraint fails (`terranostradb`.`carrito`, CONSTRAINT `FKbunaoq2qnb3gd29rcqv2e2dal` FOREIGN KEY (`usuario_id`) REFERENCES `usuarios` (`id`))] [delete from usuarios where id=?]; SQL [delete from usuarios where id=?]; constraint [null]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:290) ~[spring-orm-6.2.1.jar:6.2.1]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241) ~[spring-orm-6.2.1.jar:6.2.1]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:566) ~[spring-orm-6.2.1.jar:6.2.1]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:795) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:758) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:698) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:416) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.1.jar:6.2.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.1.jar:6.2.1]
	at com.tfg.terranostra.services.UsuarioService$$SpringCGLIB$$0.eliminarUsuarioPorEmail(<generated>) ~[classes/:na]
	at com.tfg.terranostra.controllers.UsuarioController.eliminarUsuarioPorEmail(UsuarioController.java:155) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.FrameworkServlet.doDelete(FrameworkServlet.java:936) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:596) ~[tomcat-embed-core-10.1.34.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.34.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.2.jar:6.4.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [Cannot delete or update a parent row: a foreign key constraint fails (`terranostradb`.`carrito`, CONSTRAINT `FKbunaoq2qnb3gd29rcqv2e2dal` FOREIGN KEY (`usuario_id`) REFERENCES `usuarios` (`id`))] [delete from usuarios where id=?]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:62) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.performNonBatchedMutation(AbstractMutationExecutor.java:134) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:55) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.persister.entity.mutation.AbstractDeleteCoordinator.doStaticDelete(AbstractDeleteCoordinator.java:279) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.persister.entity.mutation.AbstractDeleteCoordinator.delete(AbstractDeleteCoordinator.java:87) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:131) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:644) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:511) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:414) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:41) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1429) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:491) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2354) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1978) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:169) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:267) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562) ~[spring-orm-6.2.1.jar:6.2.1]
	... 101 common frames omitted
Caused by: java.sql.SQLIntegrityConstraintViolationException: Cannot delete or update a parent row: a foreign key constraint fails (`terranostradb`.`carrito`, CONSTRAINT `FKbunaoq2qnb3gd29rcqv2e2dal` FOREIGN KEY (`usuario_id`) REFERENCES `usuarios` (`id`))
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:109) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:988) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1166) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1101) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1467) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1084) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	... 121 common frames omitted

2025-05-30T00:16:58.573+02:00 DEBUG 2572 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [text/plain, */*, application/json, application/*+json]
2025-05-30T00:16:58.574+02:00 DEBUG 2572 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Error al eliminar usuario"]
2025-05-30T00:16:58.577+02:00 DEBUG 2572 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-30T00:16:59.788+02:00 DEBUG 2572 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing DELETE /api/usuario/email/ballesterosperezn@gmail.com
2025-05-30T00:16:59.788+02:00 DEBUG 2572 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:16:59.789+02:00 DEBUG 2572 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured DELETE /api/usuario/email/ballesterosperezn@gmail.com
2025-05-30T00:16:59.789+02:00 DEBUG 2572 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : DELETE "/api/usuario/email/ballesterosperezn@gmail.com", parameters={}
2025-05-30T00:16:59.790+02:00 DEBUG 2572 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#eliminarUsuarioPorEmail(String)
2025-05-30T00:16:59.792+02:00  INFO 2572 --- [http-nio-8081-exec-3] c.t.t.controllers.UsuarioController      : 🗑️ Intentando eliminar usuario con email: ballesterosperezn@gmail.com
2025-05-30T00:16:59.830+02:00  INFO 2572 --- [http-nio-8081-exec-3] c.t.terranostra.services.UsuarioService  : 🗑️ Intentando eliminar usuario con email: ballesterosperezn@gmail.com
2025-05-30T00:16:59.834+02:00 DEBUG 2572 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-05-30T00:16:59.856+02:00  INFO 2572 --- [http-nio-8081-exec-3] c.t.terranostra.services.UsuarioService  : ✅ Usuario con email ballesterosperezn@gmail.com eliminado correctamente
2025-05-30T00:16:59.859+02:00 DEBUG 2572 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    delete 
    from
        usuarios 
    where
        id=?
2025-05-30T00:16:59.880+02:00  WARN 2572 --- [http-nio-8081-exec-3] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1451, SQLState: 23000
2025-05-30T00:16:59.880+02:00 ERROR 2572 --- [http-nio-8081-exec-3] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot delete or update a parent row: a foreign key constraint fails (`terranostradb`.`carrito`, CONSTRAINT `FKbunaoq2qnb3gd29rcqv2e2dal` FOREIGN KEY (`usuario_id`) REFERENCES `usuarios` (`id`))
2025-05-30T00:16:59.917+02:00 ERROR 2572 --- [http-nio-8081-exec-3] c.t.t.controllers.UsuarioController      : ❌ Error al eliminar usuario con email: ballesterosperezn@gmail.com

org.springframework.dao.DataIntegrityViolationException: could not execute statement [Cannot delete or update a parent row: a foreign key constraint fails (`terranostradb`.`carrito`, CONSTRAINT `FKbunaoq2qnb3gd29rcqv2e2dal` FOREIGN KEY (`usuario_id`) REFERENCES `usuarios` (`id`))] [delete from usuarios where id=?]; SQL [delete from usuarios where id=?]; constraint [null]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:290) ~[spring-orm-6.2.1.jar:6.2.1]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241) ~[spring-orm-6.2.1.jar:6.2.1]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:566) ~[spring-orm-6.2.1.jar:6.2.1]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:795) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:758) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:698) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:416) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.1.jar:6.2.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.1.jar:6.2.1]
	at com.tfg.terranostra.services.UsuarioService$$SpringCGLIB$$0.eliminarUsuarioPorEmail(<generated>) ~[classes/:na]
	at com.tfg.terranostra.controllers.UsuarioController.eliminarUsuarioPorEmail(UsuarioController.java:155) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.FrameworkServlet.doDelete(FrameworkServlet.java:936) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:596) ~[tomcat-embed-core-10.1.34.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.34.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.2.jar:6.4.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [Cannot delete or update a parent row: a foreign key constraint fails (`terranostradb`.`carrito`, CONSTRAINT `FKbunaoq2qnb3gd29rcqv2e2dal` FOREIGN KEY (`usuario_id`) REFERENCES `usuarios` (`id`))] [delete from usuarios where id=?]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:62) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.performNonBatchedMutation(AbstractMutationExecutor.java:134) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:55) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.persister.entity.mutation.AbstractDeleteCoordinator.doStaticDelete(AbstractDeleteCoordinator.java:279) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.persister.entity.mutation.AbstractDeleteCoordinator.delete(AbstractDeleteCoordinator.java:87) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:131) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:644) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:511) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:414) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:41) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1429) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:491) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2354) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1978) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:169) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:267) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562) ~[spring-orm-6.2.1.jar:6.2.1]
	... 101 common frames omitted
Caused by: java.sql.SQLIntegrityConstraintViolationException: Cannot delete or update a parent row: a foreign key constraint fails (`terranostradb`.`carrito`, CONSTRAINT `FKbunaoq2qnb3gd29rcqv2e2dal` FOREIGN KEY (`usuario_id`) REFERENCES `usuarios` (`id`))
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:109) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:988) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1166) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1101) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1467) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1084) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	... 121 common frames omitted

2025-05-30T00:16:59.926+02:00 DEBUG 2572 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [text/plain, */*, application/json, application/*+json]
2025-05-30T00:16:59.926+02:00 DEBUG 2572 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Error al eliminar usuario"]
2025-05-30T00:16:59.929+02:00 DEBUG 2572 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-30T00:16:59.979+02:00 DEBUG 2572 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing DELETE /api/usuario/email/ballesterosperezn@gmail.com
2025-05-30T00:16:59.980+02:00 DEBUG 2572 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:16:59.980+02:00 DEBUG 2572 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured DELETE /api/usuario/email/ballesterosperezn@gmail.com
2025-05-30T00:16:59.982+02:00 DEBUG 2572 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : DELETE "/api/usuario/email/ballesterosperezn@gmail.com", parameters={}
2025-05-30T00:16:59.983+02:00 DEBUG 2572 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#eliminarUsuarioPorEmail(String)
2025-05-30T00:16:59.985+02:00  INFO 2572 --- [http-nio-8081-exec-5] c.t.t.controllers.UsuarioController      : 🗑️ Intentando eliminar usuario con email: ballesterosperezn@gmail.com
2025-05-30T00:17:00.003+02:00  INFO 2572 --- [http-nio-8081-exec-5] c.t.terranostra.services.UsuarioService  : 🗑️ Intentando eliminar usuario con email: ballesterosperezn@gmail.com
2025-05-30T00:17:00.010+02:00 DEBUG 2572 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-05-30T00:17:00.033+02:00  INFO 2572 --- [http-nio-8081-exec-5] c.t.terranostra.services.UsuarioService  : ✅ Usuario con email ballesterosperezn@gmail.com eliminado correctamente
2025-05-30T00:17:00.035+02:00 DEBUG 2572 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    delete 
    from
        usuarios 
    where
        id=?
2025-05-30T00:17:00.055+02:00  WARN 2572 --- [http-nio-8081-exec-5] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1451, SQLState: 23000
2025-05-30T00:17:00.056+02:00 ERROR 2572 --- [http-nio-8081-exec-5] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot delete or update a parent row: a foreign key constraint fails (`terranostradb`.`carrito`, CONSTRAINT `FKbunaoq2qnb3gd29rcqv2e2dal` FOREIGN KEY (`usuario_id`) REFERENCES `usuarios` (`id`))
2025-05-30T00:17:00.093+02:00 ERROR 2572 --- [http-nio-8081-exec-5] c.t.t.controllers.UsuarioController      : ❌ Error al eliminar usuario con email: ballesterosperezn@gmail.com

org.springframework.dao.DataIntegrityViolationException: could not execute statement [Cannot delete or update a parent row: a foreign key constraint fails (`terranostradb`.`carrito`, CONSTRAINT `FKbunaoq2qnb3gd29rcqv2e2dal` FOREIGN KEY (`usuario_id`) REFERENCES `usuarios` (`id`))] [delete from usuarios where id=?]; SQL [delete from usuarios where id=?]; constraint [null]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:290) ~[spring-orm-6.2.1.jar:6.2.1]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241) ~[spring-orm-6.2.1.jar:6.2.1]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:566) ~[spring-orm-6.2.1.jar:6.2.1]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:795) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:758) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:698) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:416) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.1.jar:6.2.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.1.jar:6.2.1]
	at com.tfg.terranostra.services.UsuarioService$$SpringCGLIB$$0.eliminarUsuarioPorEmail(<generated>) ~[classes/:na]
	at com.tfg.terranostra.controllers.UsuarioController.eliminarUsuarioPorEmail(UsuarioController.java:155) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.FrameworkServlet.doDelete(FrameworkServlet.java:936) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:596) ~[tomcat-embed-core-10.1.34.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.34.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.2.jar:6.4.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [Cannot delete or update a parent row: a foreign key constraint fails (`terranostradb`.`carrito`, CONSTRAINT `FKbunaoq2qnb3gd29rcqv2e2dal` FOREIGN KEY (`usuario_id`) REFERENCES `usuarios` (`id`))] [delete from usuarios where id=?]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:62) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.performNonBatchedMutation(AbstractMutationExecutor.java:134) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:55) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.persister.entity.mutation.AbstractDeleteCoordinator.doStaticDelete(AbstractDeleteCoordinator.java:279) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.persister.entity.mutation.AbstractDeleteCoordinator.delete(AbstractDeleteCoordinator.java:87) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:131) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:644) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:511) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:414) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:41) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1429) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:491) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2354) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1978) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:169) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:267) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562) ~[spring-orm-6.2.1.jar:6.2.1]
	... 101 common frames omitted
Caused by: java.sql.SQLIntegrityConstraintViolationException: Cannot delete or update a parent row: a foreign key constraint fails (`terranostradb`.`carrito`, CONSTRAINT `FKbunaoq2qnb3gd29rcqv2e2dal` FOREIGN KEY (`usuario_id`) REFERENCES `usuarios` (`id`))
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:109) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:988) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1166) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1101) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1467) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1084) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	... 121 common frames omitted

2025-05-30T00:17:00.101+02:00 DEBUG 2572 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [text/plain, */*, application/json, application/*+json]
2025-05-30T00:17:00.101+02:00 DEBUG 2572 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Error al eliminar usuario"]
2025-05-30T00:17:00.103+02:00 DEBUG 2572 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-30T00:17:00.202+02:00 DEBUG 2572 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing DELETE /api/usuario/email/ballesterosperezn@gmail.com
2025-05-30T00:17:00.202+02:00 DEBUG 2572 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:17:00.204+02:00 DEBUG 2572 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured DELETE /api/usuario/email/ballesterosperezn@gmail.com
2025-05-30T00:17:00.204+02:00 DEBUG 2572 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : DELETE "/api/usuario/email/ballesterosperezn@gmail.com", parameters={}
2025-05-30T00:17:00.204+02:00 DEBUG 2572 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#eliminarUsuarioPorEmail(String)
2025-05-30T00:17:00.205+02:00  INFO 2572 --- [http-nio-8081-exec-6] c.t.t.controllers.UsuarioController      : 🗑️ Intentando eliminar usuario con email: ballesterosperezn@gmail.com
2025-05-30T00:17:00.227+02:00  INFO 2572 --- [http-nio-8081-exec-6] c.t.terranostra.services.UsuarioService  : 🗑️ Intentando eliminar usuario con email: ballesterosperezn@gmail.com
2025-05-30T00:17:00.230+02:00 DEBUG 2572 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-05-30T00:17:00.252+02:00  INFO 2572 --- [http-nio-8081-exec-6] c.t.terranostra.services.UsuarioService  : ✅ Usuario con email ballesterosperezn@gmail.com eliminado correctamente
2025-05-30T00:17:00.254+02:00 DEBUG 2572 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    delete 
    from
        usuarios 
    where
        id=?
2025-05-30T00:17:00.278+02:00  WARN 2572 --- [http-nio-8081-exec-6] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1451, SQLState: 23000
2025-05-30T00:17:00.279+02:00 ERROR 2572 --- [http-nio-8081-exec-6] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot delete or update a parent row: a foreign key constraint fails (`terranostradb`.`carrito`, CONSTRAINT `FKbunaoq2qnb3gd29rcqv2e2dal` FOREIGN KEY (`usuario_id`) REFERENCES `usuarios` (`id`))
2025-05-30T00:17:00.329+02:00 ERROR 2572 --- [http-nio-8081-exec-6] c.t.t.controllers.UsuarioController      : ❌ Error al eliminar usuario con email: ballesterosperezn@gmail.com

org.springframework.dao.DataIntegrityViolationException: could not execute statement [Cannot delete or update a parent row: a foreign key constraint fails (`terranostradb`.`carrito`, CONSTRAINT `FKbunaoq2qnb3gd29rcqv2e2dal` FOREIGN KEY (`usuario_id`) REFERENCES `usuarios` (`id`))] [delete from usuarios where id=?]; SQL [delete from usuarios where id=?]; constraint [null]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:290) ~[spring-orm-6.2.1.jar:6.2.1]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241) ~[spring-orm-6.2.1.jar:6.2.1]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:566) ~[spring-orm-6.2.1.jar:6.2.1]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:795) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:758) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:698) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:416) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.1.jar:6.2.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.1.jar:6.2.1]
	at com.tfg.terranostra.services.UsuarioService$$SpringCGLIB$$0.eliminarUsuarioPorEmail(<generated>) ~[classes/:na]
	at com.tfg.terranostra.controllers.UsuarioController.eliminarUsuarioPorEmail(UsuarioController.java:155) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.FrameworkServlet.doDelete(FrameworkServlet.java:936) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:596) ~[tomcat-embed-core-10.1.34.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.34.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.2.jar:6.4.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [Cannot delete or update a parent row: a foreign key constraint fails (`terranostradb`.`carrito`, CONSTRAINT `FKbunaoq2qnb3gd29rcqv2e2dal` FOREIGN KEY (`usuario_id`) REFERENCES `usuarios` (`id`))] [delete from usuarios where id=?]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:62) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.performNonBatchedMutation(AbstractMutationExecutor.java:134) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:55) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.persister.entity.mutation.AbstractDeleteCoordinator.doStaticDelete(AbstractDeleteCoordinator.java:279) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.persister.entity.mutation.AbstractDeleteCoordinator.delete(AbstractDeleteCoordinator.java:87) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:131) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:644) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:511) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:414) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:41) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1429) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:491) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2354) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1978) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:169) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:267) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562) ~[spring-orm-6.2.1.jar:6.2.1]
	... 101 common frames omitted
Caused by: java.sql.SQLIntegrityConstraintViolationException: Cannot delete or update a parent row: a foreign key constraint fails (`terranostradb`.`carrito`, CONSTRAINT `FKbunaoq2qnb3gd29rcqv2e2dal` FOREIGN KEY (`usuario_id`) REFERENCES `usuarios` (`id`))
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:109) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:988) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1166) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1101) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1467) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1084) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	... 121 common frames omitted

2025-05-30T00:17:00.339+02:00 DEBUG 2572 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [text/plain, */*, application/json, application/*+json]
2025-05-30T00:17:00.339+02:00 DEBUG 2572 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Error al eliminar usuario"]
2025-05-30T00:17:00.345+02:00 DEBUG 2572 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-30T00:31:25.582+02:00 DEBUG 2572 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T00:31:25.583+02:00 DEBUG 2572 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:31:25.583+02:00 DEBUG 2572 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T00:31:25.584+02:00 DEBUG 2572 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T00:31:25.584+02:00 DEBUG 2572 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T00:31:25.587+02:00  INFO 2572 --- [http-nio-8081-exec-1] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T00:31:25.641+02:00  INFO 2572 --- [http-nio-8081-exec-1] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T00:31:25.643+02:00 DEBUG 2572 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T00:31:25.716+02:00  INFO 2572 --- [http-nio-8081-exec-1] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 2
2025-05-30T00:31:25.717+02:00 DEBUG 2572 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:31:25.717+02:00 DEBUG 2572 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=46, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T00:31:25.719+02:00 DEBUG 2572 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:31:27.816+02:00 DEBUG 2572 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/categorias
2025-05-30T00:31:27.817+02:00 DEBUG 2572 --- [http-nio-8081-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:31:27.817+02:00 DEBUG 2572 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/categorias
2025-05-30T00:31:27.817+02:00 DEBUG 2572 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/categorias", parameters={}
2025-05-30T00:31:27.818+02:00 DEBUG 2572 --- [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#obtenerCategorias()
2025-05-30T00:31:27.830+02:00 DEBUG 2572 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:31:27.830+02:00 DEBUG 2572 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Suplementos Naturales, Tés e Infusiones Naturales, Superalimentos, Alimentación Saludable, Cosmétic (truncated)...]
2025-05-30T00:31:27.832+02:00 DEBUG 2572 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:31:27.832+02:00 DEBUG 2572 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T00:31:27.832+02:00 DEBUG 2572 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:31:27.832+02:00 DEBUG 2572 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T00:31:27.834+02:00 DEBUG 2572 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T00:31:27.834+02:00 DEBUG 2572 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T00:31:27.834+02:00  INFO 2572 --- [http-nio-8081-exec-8] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T00:31:27.841+02:00 DEBUG 2572 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T00:31:27.841+02:00 DEBUG 2572 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:31:27.842+02:00 DEBUG 2572 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T00:31:27.842+02:00 DEBUG 2572 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T00:31:27.842+02:00 DEBUG 2572 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T00:31:27.886+02:00  INFO 2572 --- [http-nio-8081-exec-8] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T00:31:27.888+02:00 DEBUG 2572 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T00:31:27.898+02:00 DEBUG 2572 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T00:31:27.979+02:00  INFO 2572 --- [http-nio-8081-exec-8] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 2
2025-05-30T00:31:28.062+02:00 DEBUG 2572 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:31:28.063+02:00 DEBUG 2572 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=46, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T00:31:28.064+02:00 DEBUG 2572 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:31:28.347+02:00 DEBUG 2572 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /carrito/46
2025-05-30T00:31:28.348+02:00 DEBUG 2572 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:31:28.349+02:00 DEBUG 2572 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /carrito/46
2025-05-30T00:31:28.349+02:00 DEBUG 2572 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/carrito/46", parameters={}
2025-05-30T00:31:28.350+02:00 DEBUG 2572 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T00:31:28.374+02:00 DEBUG 2572 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:31:28.392+02:00 DEBUG 2572 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T00:31:28.470+02:00 DEBUG 2572 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T00:31:28.490+02:00 DEBUG 2572 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T00:31:28.509+02:00 DEBUG 2572 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T00:31:28.691+02:00 DEBUG 2572 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T00:31:28.777+02:00 DEBUG 2572 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:31:29.029+02:00  INFO 2572 --- [http-nio-8081-exec-7] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 46
2025-05-30T00:31:29.030+02:00 DEBUG 2572 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T00:31:29.035+02:00 DEBUG 2572 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=1, usuarioId=46, fechaCreacion=2025-05-18T13:03:53.251543, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T00:31:29.059+02:00 DEBUG 2572 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:31:29.144+02:00 DEBUG 2572 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /carrito/46
2025-05-30T00:31:29.145+02:00 DEBUG 2572 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:31:29.145+02:00 DEBUG 2572 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /carrito/46
2025-05-30T00:31:29.145+02:00 DEBUG 2572 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/carrito/46", parameters={}
2025-05-30T00:31:29.145+02:00 DEBUG 2572 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T00:31:29.184+02:00 DEBUG 2572 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T00:31:29.260+02:00 DEBUG 2572 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T00:31:29.280+02:00 DEBUG 2572 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T00:31:29.303+02:00 DEBUG 2572 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T00:31:29.396+02:00  INFO 2572 --- [http-nio-8081-exec-3] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 46
2025-05-30T00:31:29.397+02:00 DEBUG 2572 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T00:31:29.401+02:00 DEBUG 2572 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=1, usuarioId=46, fechaCreacion=2025-05-18T13:03:53.251543, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T00:31:29.439+02:00 DEBUG 2572 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:31:38.559+02:00 DEBUG 2572 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing DELETE /api/usuario/email/ballesterosperezn@gmail.com
2025-05-30T00:31:38.560+02:00 DEBUG 2572 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:31:38.561+02:00 DEBUG 2572 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured DELETE /api/usuario/email/ballesterosperezn@gmail.com
2025-05-30T00:31:38.562+02:00 DEBUG 2572 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : DELETE "/api/usuario/email/ballesterosperezn@gmail.com", parameters={}
2025-05-30T00:31:38.564+02:00 DEBUG 2572 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#eliminarUsuarioPorEmail(String)
2025-05-30T00:31:38.565+02:00  INFO 2572 --- [http-nio-8081-exec-5] c.t.t.controllers.UsuarioController      : 🗑️ Intentando eliminar usuario con email: ballesterosperezn@gmail.com
2025-05-30T00:31:38.602+02:00  INFO 2572 --- [http-nio-8081-exec-5] c.t.terranostra.services.UsuarioService  : 🗑️ Intentando eliminar usuario con email: ballesterosperezn@gmail.com
2025-05-30T00:31:38.605+02:00 DEBUG 2572 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-05-30T00:31:38.628+02:00  INFO 2572 --- [http-nio-8081-exec-5] c.t.terranostra.services.UsuarioService  : ✅ Usuario con email ballesterosperezn@gmail.com eliminado correctamente
2025-05-30T00:31:38.629+02:00 DEBUG 2572 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    delete 
    from
        usuarios 
    where
        id=?
2025-05-30T00:31:38.649+02:00  WARN 2572 --- [http-nio-8081-exec-5] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1451, SQLState: 23000
2025-05-30T00:31:38.649+02:00 ERROR 2572 --- [http-nio-8081-exec-5] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot delete or update a parent row: a foreign key constraint fails (`terranostradb`.`carrito`, CONSTRAINT `FKbunaoq2qnb3gd29rcqv2e2dal` FOREIGN KEY (`usuario_id`) REFERENCES `usuarios` (`id`))
2025-05-30T00:31:38.687+02:00 ERROR 2572 --- [http-nio-8081-exec-5] c.t.t.controllers.UsuarioController      : ❌ Error al eliminar usuario con email: ballesterosperezn@gmail.com

org.springframework.dao.DataIntegrityViolationException: could not execute statement [Cannot delete or update a parent row: a foreign key constraint fails (`terranostradb`.`carrito`, CONSTRAINT `FKbunaoq2qnb3gd29rcqv2e2dal` FOREIGN KEY (`usuario_id`) REFERENCES `usuarios` (`id`))] [delete from usuarios where id=?]; SQL [delete from usuarios where id=?]; constraint [null]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:290) ~[spring-orm-6.2.1.jar:6.2.1]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241) ~[spring-orm-6.2.1.jar:6.2.1]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:566) ~[spring-orm-6.2.1.jar:6.2.1]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:795) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:758) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:698) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:416) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.1.jar:6.2.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.1.jar:6.2.1]
	at com.tfg.terranostra.services.UsuarioService$$SpringCGLIB$$0.eliminarUsuarioPorEmail(<generated>) ~[classes/:na]
	at com.tfg.terranostra.controllers.UsuarioController.eliminarUsuarioPorEmail(UsuarioController.java:155) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.FrameworkServlet.doDelete(FrameworkServlet.java:936) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:596) ~[tomcat-embed-core-10.1.34.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.34.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.2.jar:6.4.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [Cannot delete or update a parent row: a foreign key constraint fails (`terranostradb`.`carrito`, CONSTRAINT `FKbunaoq2qnb3gd29rcqv2e2dal` FOREIGN KEY (`usuario_id`) REFERENCES `usuarios` (`id`))] [delete from usuarios where id=?]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:62) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.performNonBatchedMutation(AbstractMutationExecutor.java:134) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:55) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.persister.entity.mutation.AbstractDeleteCoordinator.doStaticDelete(AbstractDeleteCoordinator.java:279) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.persister.entity.mutation.AbstractDeleteCoordinator.delete(AbstractDeleteCoordinator.java:87) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:131) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:644) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:511) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:414) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:41) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1429) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:491) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2354) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1978) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:169) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:267) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562) ~[spring-orm-6.2.1.jar:6.2.1]
	... 101 common frames omitted
Caused by: java.sql.SQLIntegrityConstraintViolationException: Cannot delete or update a parent row: a foreign key constraint fails (`terranostradb`.`carrito`, CONSTRAINT `FKbunaoq2qnb3gd29rcqv2e2dal` FOREIGN KEY (`usuario_id`) REFERENCES `usuarios` (`id`))
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:109) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:988) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1166) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1101) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1467) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1084) ~[mysql-connector-j-9.1.0.jar:9.1.0]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194) ~[hibernate-core-6.6.4.Final.jar:6.6.4.Final]
	... 121 common frames omitted

2025-05-30T00:31:38.694+02:00 DEBUG 2572 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [text/plain, */*, application/json, application/*+json]
2025-05-30T00:31:38.694+02:00 DEBUG 2572 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Error al eliminar usuario"]
2025-05-30T00:31:38.697+02:00 DEBUG 2572 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-30T00:32:02.914+02:00  INFO 2572 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-30T00:32:02.937+02:00  INFO 2572 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-05-30T00:32:02.949+02:00  INFO 2572 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T00:32:02.974+02:00  INFO 2572 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-30T00:32:02.980+02:00  INFO 2572 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-30T00:32:10.976+02:00  INFO 18320 --- [restartedMain] c.t.t.TerraNostraApiApplication          : Starting TerraNostraApiApplication using Java 21.0.5 with PID 18320 (C:\Users\balle\Documents\Proyectos\terra-nostra-api\target\classes started by balle in C:\Users\balle\Documents\Proyectos\terra-nostra-api)
2025-05-30T00:32:10.981+02:00  INFO 18320 --- [restartedMain] c.t.t.TerraNostraApiApplication          : No active profile set, falling back to 1 default profile: "default"
2025-05-30T00:32:11.060+02:00  INFO 18320 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-05-30T00:32:11.060+02:00  INFO 18320 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-05-30T00:32:12.484+02:00  INFO 18320 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-30T00:32:12.613+02:00  INFO 18320 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 116 ms. Found 8 JPA repository interfaces.
2025-05-30T00:32:13.766+02:00  INFO 18320 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-05-30T00:32:13.787+02:00  INFO 18320 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-30T00:32:13.787+02:00  INFO 18320 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-05-30T00:32:13.874+02:00  INFO 18320 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-30T00:32:13.876+02:00  INFO 18320 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2815 ms
2025-05-30T00:32:14.189+02:00  INFO 18320 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-30T00:32:14.319+02:00  INFO 18320 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.4.Final
2025-05-30T00:32:14.390+02:00  INFO 18320 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-30T00:32:14.793+02:00  INFO 18320 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-30T00:32:14.833+02:00  WARN 18320 --- [restartedMain] com.zaxxer.hikari.HikariConfig           : HikariPool-1 - idleTimeout has been set but has no effect because the pool is operating as a fixed size pool.
2025-05-30T00:32:14.834+02:00  INFO 18320 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-30T00:32:19.782+02:00  INFO 18320 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5a201fc2
2025-05-30T00:32:19.788+02:00  INFO 18320 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-30T00:32:19.920+02:00  WARN 18320 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-30T00:32:19.962+02:00  INFO 18320 --- [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.4.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-30T00:32:22.393+02:00  INFO 18320 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-30T00:32:23.890+02:00  INFO 18320 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T00:32:25.699+02:00 DEBUG 18320 --- [restartedMain] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-05-30T00:32:25.787+02:00  WARN 18320 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-30T00:32:26.275+02:00 DEBUG 18320 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 32 mappings in 'requestMappingHandlerMapping'
2025-05-30T00:32:26.368+02:00 DEBUG 18320 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /static/**] in 'resourceHandlerMapping'
2025-05-30T00:32:26.474+02:00 DEBUG 18320 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-30T00:32:26.650+02:00 DEBUG 18320 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-30T00:32:26.754+02:00 DEBUG 18320 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-30T00:32:27.051+02:00  WARN 18320 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2025-05-30T00:32:27.132+02:00  INFO 18320 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-05-30T00:32:27.151+02:00  INFO 18320 --- [restartedMain] c.t.t.TerraNostraApiApplication          : Started TerraNostraApiApplication in 17.114 seconds (process running for 18.092)
2025-05-30T00:32:36.958+02:00  INFO 18320 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-30T00:32:36.960+02:00  INFO 18320 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-30T00:32:36.960+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-30T00:32:36.960+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-30T00:32:36.960+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-30T00:32:36.963+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@3238c7a
2025-05-30T00:32:36.967+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@2ce2da49
2025-05-30T00:32:36.968+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-30T00:32:36.969+02:00  INFO 18320 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms
2025-05-30T00:32:37.048+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing DELETE /api/usuario/email/ballesterosperezn@gmail.com
2025-05-30T00:32:37.073+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:32:37.079+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured DELETE /api/usuario/email/ballesterosperezn@gmail.com
2025-05-30T00:32:37.089+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : DELETE "/api/usuario/email/ballesterosperezn@gmail.com", parameters={}
2025-05-30T00:32:37.095+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#eliminarUsuarioPorEmail(String)
2025-05-30T00:32:37.161+02:00  INFO 18320 --- [http-nio-8081-exec-2] c.t.t.controllers.UsuarioController      : 🗑️ Intentando eliminar usuario con email: ballesterosperezn@gmail.com
2025-05-30T00:32:37.230+02:00  INFO 18320 --- [http-nio-8081-exec-2] c.t.terranostra.services.UsuarioService  : 🗑️ Intentando eliminar usuario con email: ballesterosperezn@gmail.com
2025-05-30T00:32:37.489+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-05-30T00:32:37.597+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    left join
        usuarios u1_0 
            on u1_0.id=cm1_0.usuario_id 
    where
        u1_0.id=?
2025-05-30T00:32:37.650+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T00:32:37.700+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.direccion_envio,
        pm1_0.email_usuario,
        pm1_0.estado,
        pm1_0.fecha,
        pm1_0.metodo_pago,
        pm1_0.telefono_contacto,
        pm1_0.total,
        pm1_0.usuario_id 
    from
        pedidos pm1_0 
    left join
        usuarios u1_0 
            on u1_0.id=pm1_0.usuario_id 
    where
        u1_0.id=?
2025-05-30T00:32:37.731+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        lp1_0.pedido_id,
        lp1_0.id,
        lp1_0.cantidad,
        lp1_0.precio_unitario,
        lp1_0.producto_id,
        p2_0.id,
        p2_0.categoria,
        p2_0.descripcion,
        p2_0.descripcion_breve,
        p2_0.descuento,
        p2_0.fecha_alta,
        p2_0.fecha_modificacion,
        p2_0.imagen,
        p2_0.nombre,
        p2_0.precio,
        p2_0.stock 
    from
        producto_pedido lp1_0 
    left join
        productos p2_0 
            on p2_0.id=lp1_0.producto_id 
    where
        lp1_0.pedido_id=?
2025-05-30T00:32:37.899+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        lp1_0.pedido_id,
        lp1_0.id,
        lp1_0.cantidad,
        lp1_0.precio_unitario,
        lp1_0.producto_id,
        p2_0.id,
        p2_0.categoria,
        p2_0.descripcion,
        p2_0.descripcion_breve,
        p2_0.descuento,
        p2_0.fecha_alta,
        p2_0.fecha_modificacion,
        p2_0.imagen,
        p2_0.nombre,
        p2_0.precio,
        p2_0.stock 
    from
        producto_pedido lp1_0 
    left join
        productos p2_0 
            on p2_0.id=lp1_0.producto_id 
    where
        lp1_0.pedido_id=?
2025-05-30T00:32:37.975+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        lp1_0.pedido_id,
        lp1_0.id,
        lp1_0.cantidad,
        lp1_0.precio_unitario,
        lp1_0.producto_id,
        p2_0.id,
        p2_0.categoria,
        p2_0.descripcion,
        p2_0.descripcion_breve,
        p2_0.descuento,
        p2_0.fecha_alta,
        p2_0.fecha_modificacion,
        p2_0.imagen,
        p2_0.nombre,
        p2_0.precio,
        p2_0.stock 
    from
        producto_pedido lp1_0 
    left join
        productos p2_0 
            on p2_0.id=lp1_0.producto_id 
    where
        lp1_0.pedido_id=?
2025-05-30T00:32:38.061+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        lp1_0.pedido_id,
        lp1_0.id,
        lp1_0.cantidad,
        lp1_0.precio_unitario,
        lp1_0.producto_id,
        p2_0.id,
        p2_0.categoria,
        p2_0.descripcion,
        p2_0.descripcion_breve,
        p2_0.descuento,
        p2_0.fecha_alta,
        p2_0.fecha_modificacion,
        p2_0.imagen,
        p2_0.nombre,
        p2_0.precio,
        p2_0.stock 
    from
        producto_pedido lp1_0 
    left join
        productos p2_0 
            on p2_0.id=lp1_0.producto_id 
    where
        lp1_0.pedido_id=?
2025-05-30T00:32:38.156+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        lp1_0.pedido_id,
        lp1_0.id,
        lp1_0.cantidad,
        lp1_0.precio_unitario,
        lp1_0.producto_id,
        p2_0.id,
        p2_0.categoria,
        p2_0.descripcion,
        p2_0.descripcion_breve,
        p2_0.descuento,
        p2_0.fecha_alta,
        p2_0.fecha_modificacion,
        p2_0.imagen,
        p2_0.nombre,
        p2_0.precio,
        p2_0.stock 
    from
        producto_pedido lp1_0 
    left join
        productos p2_0 
            on p2_0.id=lp1_0.producto_id 
    where
        lp1_0.pedido_id=?
2025-05-30T00:32:38.254+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        rm1_0.id,
        rm1_0.comentario,
        rm1_0.fecha,
        rm1_0.producto_id,
        rm1_0.usuario_id,
        rm1_0.valoracion 
    from
        resenas rm1_0 
    left join
        usuarios u1_0 
            on u1_0.id=rm1_0.usuario_id 
    where
        u1_0.id=?
2025-05-30T00:32:38.287+02:00  INFO 18320 --- [http-nio-8081-exec-2] c.t.terranostra.services.UsuarioService  : ✅ Usuario con email ballesterosperezn@gmail.com y datos relacionados eliminados correctamente
2025-05-30T00:32:38.321+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    delete 
    from
        carrito 
    where
        id=?
2025-05-30T00:32:38.347+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    delete 
    from
        producto_pedido 
    where
        id=?
2025-05-30T00:32:38.368+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    delete 
    from
        pedidos 
    where
        id=?
2025-05-30T00:32:38.390+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    delete 
    from
        producto_pedido 
    where
        id=?
2025-05-30T00:32:38.410+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    delete 
    from
        pedidos 
    where
        id=?
2025-05-30T00:32:38.431+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    delete 
    from
        producto_pedido 
    where
        id=?
2025-05-30T00:32:38.453+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    delete 
    from
        pedidos 
    where
        id=?
2025-05-30T00:32:38.474+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    delete 
    from
        producto_pedido 
    where
        id=?
2025-05-30T00:32:38.495+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    delete 
    from
        producto_pedido 
    where
        id=?
2025-05-30T00:32:38.516+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    delete 
    from
        pedidos 
    where
        id=?
2025-05-30T00:32:38.538+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    delete 
    from
        producto_pedido 
    where
        id=?
2025-05-30T00:32:38.558+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    delete 
    from
        producto_pedido 
    where
        id=?
2025-05-30T00:32:38.580+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    delete 
    from
        pedidos 
    where
        id=?
2025-05-30T00:32:38.601+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    delete 
    from
        usuarios 
    where
        id=?
2025-05-30T00:32:38.664+02:00  INFO 18320 --- [http-nio-8081-exec-2] c.t.t.controllers.UsuarioController      : ✅ Usuario eliminado correctamente: ballesterosperezn@gmail.com
2025-05-30T00:32:38.694+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [text/plain, */*, application/json, application/*+json]
2025-05-30T00:32:38.697+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Usuario eliminado correctamente"]
2025-05-30T00:32:38.724+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:32:38.756+02:00 DEBUG 18320 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T00:32:38.757+02:00 DEBUG 18320 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:32:38.760+02:00 DEBUG 18320 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T00:32:38.761+02:00 DEBUG 18320 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T00:32:38.761+02:00 DEBUG 18320 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T00:32:38.764+02:00  INFO 18320 --- [http-nio-8081-exec-1] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T00:32:38.812+02:00  INFO 18320 --- [http-nio-8081-exec-1] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T00:32:38.824+02:00 DEBUG 18320 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T00:32:38.910+02:00  INFO 18320 --- [http-nio-8081-exec-1] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 1
2025-05-30T00:32:38.932+02:00 DEBUG 18320 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:32:38.948+02:00 DEBUG 18320 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=46, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T00:32:39.087+02:00 DEBUG 18320 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:32:59.501+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario/email/ballesterospereze@gmail.com
2025-05-30T00:32:59.502+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:32:59.503+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario/email/ballesterospereze@gmail.com
2025-05-30T00:32:59.503+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario/email/ballesterospereze@gmail.com", parameters={}
2025-05-30T00:32:59.504+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarioPorEmail(String)
2025-05-30T00:32:59.507+02:00  INFO 18320 --- [http-nio-8081-exec-3] c.t.t.controllers.UsuarioController      : 🔎 Buscando usuario con email: ballesterospereze@gmail.com
2025-05-30T00:32:59.564+02:00  INFO 18320 --- [http-nio-8081-exec-3] c.t.terranostra.services.UsuarioService  : 🔍 Buscando usuario por email: ballesterospereze@gmail.com
2025-05-30T00:32:59.568+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-05-30T00:32:59.646+02:00  INFO 18320 --- [http-nio-8081-exec-3] c.t.t.controllers.UsuarioController      : ✅ Usuario encontrado: UsuarioDto(id=46, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrasenia=$2a$10$SbPV8Npl5FO3wJFtjQsHVeKEeNhItwI4S1EJQnpsQEAmbLym/7SFC, telefono=null, direccion=null, correoVerificado=true, fechaRegistro=2025-05-18T12:24:33, fechaModificacion=null, rol=ROLE_ADMIN)
2025-05-30T00:32:59.653+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:32:59.655+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UsuarioDto(id=46, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrasen (truncated)...]
2025-05-30T00:32:59.658+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:32:59.706+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing PUT /api/usuario/email/ballesterospereze@gmail.com
2025-05-30T00:32:59.707+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:32:59.710+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured PUT /api/usuario/email/ballesterospereze@gmail.com
2025-05-30T00:32:59.710+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : PUT "/api/usuario/email/ballesterospereze@gmail.com", parameters={}
2025-05-30T00:32:59.713+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#actualizarUsuarioPorEmail(String, UsuarioDto)
2025-05-30T00:32:59.807+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UsuarioDto(id=46, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrasen (truncated)...]
2025-05-30T00:32:59.812+02:00  INFO 18320 --- [http-nio-8081-exec-4] c.t.t.controllers.UsuarioController      : ✏️ Intentando actualizar usuario con email: ballesterospereze@gmail.com
2025-05-30T00:32:59.832+02:00  INFO 18320 --- [http-nio-8081-exec-4] c.t.terranostra.services.UsuarioService  : 🛠️ Intentando actualizar usuario con email: ballesterospereze@gmail.com
2025-05-30T00:32:59.835+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-05-30T00:32:59.862+02:00  INFO 18320 --- [http-nio-8081-exec-4] c.t.terranostra.services.UsuarioService  : ✅ Usuario con email ballesterospereze@gmail.com actualizado correctamente
2025-05-30T00:32:59.923+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    update
        usuarios 
    set
        apellido=?,
        contrasenia=?,
        correo_verificado=?,
        direccion=?,
        email=?,
        fecha_modificacion=?,
        fecha_registro=?,
        nombre=?,
        rol=?,
        telefono=? 
    where
        id=?
2025-05-30T00:32:59.991+02:00  INFO 18320 --- [http-nio-8081-exec-4] c.t.t.controllers.UsuarioController      : ✅ Usuario actualizado correctamente: ballesterospereze@gmail.com
2025-05-30T00:32:59.993+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-05-30T00:32:59.994+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Usuario actualizado con éxito"]
2025-05-30T00:32:59.997+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:33:00.029+02:00 DEBUG 18320 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T00:33:00.030+02:00 DEBUG 18320 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:33:00.031+02:00 DEBUG 18320 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T00:33:00.032+02:00 DEBUG 18320 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T00:33:00.032+02:00 DEBUG 18320 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T00:33:00.033+02:00  INFO 18320 --- [http-nio-8081-exec-5] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T00:33:00.071+02:00  INFO 18320 --- [http-nio-8081-exec-5] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T00:33:00.075+02:00 DEBUG 18320 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T00:33:00.152+02:00  INFO 18320 --- [http-nio-8081-exec-5] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 1
2025-05-30T00:33:00.155+02:00 DEBUG 18320 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:33:00.156+02:00 DEBUG 18320 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=46, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T00:33:00.162+02:00 DEBUG 18320 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:33:05.649+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing DELETE /api/usuario/email/ballesterospereze@gmail.com
2025-05-30T00:33:05.650+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:33:05.650+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured DELETE /api/usuario/email/ballesterospereze@gmail.com
2025-05-30T00:33:05.651+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : DELETE "/api/usuario/email/ballesterospereze@gmail.com", parameters={}
2025-05-30T00:33:05.653+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#eliminarUsuarioPorEmail(String)
2025-05-30T00:33:05.654+02:00  INFO 18320 --- [http-nio-8081-exec-6] c.t.t.controllers.UsuarioController      : 🗑️ Intentando eliminar usuario con email: ballesterospereze@gmail.com
2025-05-30T00:33:05.694+02:00  INFO 18320 --- [http-nio-8081-exec-6] c.t.terranostra.services.UsuarioService  : 🗑️ Intentando eliminar usuario con email: ballesterospereze@gmail.com
2025-05-30T00:33:05.699+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-05-30T00:33:05.728+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    left join
        usuarios u1_0 
            on u1_0.id=cm1_0.usuario_id 
    where
        u1_0.id=?
2025-05-30T00:33:05.750+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T00:33:05.791+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.direccion_envio,
        pm1_0.email_usuario,
        pm1_0.estado,
        pm1_0.fecha,
        pm1_0.metodo_pago,
        pm1_0.telefono_contacto,
        pm1_0.total,
        pm1_0.usuario_id 
    from
        pedidos pm1_0 
    left join
        usuarios u1_0 
            on u1_0.id=pm1_0.usuario_id 
    where
        u1_0.id=?
2025-05-30T00:33:05.817+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        lp1_0.pedido_id,
        lp1_0.id,
        lp1_0.cantidad,
        lp1_0.precio_unitario,
        lp1_0.producto_id,
        p2_0.id,
        p2_0.categoria,
        p2_0.descripcion,
        p2_0.descripcion_breve,
        p2_0.descuento,
        p2_0.fecha_alta,
        p2_0.fecha_modificacion,
        p2_0.imagen,
        p2_0.nombre,
        p2_0.precio,
        p2_0.stock 
    from
        producto_pedido lp1_0 
    left join
        productos p2_0 
            on p2_0.id=lp1_0.producto_id 
    where
        lp1_0.pedido_id=?
2025-05-30T00:33:05.982+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        rm1_0.id,
        rm1_0.comentario,
        rm1_0.fecha,
        rm1_0.producto_id,
        rm1_0.usuario_id,
        rm1_0.valoracion 
    from
        resenas rm1_0 
    left join
        usuarios u1_0 
            on u1_0.id=rm1_0.usuario_id 
    where
        u1_0.id=?
2025-05-30T00:33:06.026+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T00:33:06.107+02:00  INFO 18320 --- [http-nio-8081-exec-6] c.t.terranostra.services.UsuarioService  : ✅ Usuario con email ballesterospereze@gmail.com y datos relacionados eliminados correctamente
2025-05-30T00:33:06.116+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    delete 
    from
        carrito_item 
    where
        id=?
2025-05-30T00:33:06.136+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    delete 
    from
        carrito 
    where
        id=?
2025-05-30T00:33:06.157+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    delete 
    from
        producto_pedido 
    where
        id=?
2025-05-30T00:33:06.178+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    delete 
    from
        producto_pedido 
    where
        id=?
2025-05-30T00:33:06.198+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    delete 
    from
        pedidos 
    where
        id=?
2025-05-30T00:33:06.219+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    delete 
    from
        resenas 
    where
        id=?
2025-05-30T00:33:06.240+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    delete 
    from
        usuarios 
    where
        id=?
2025-05-30T00:33:06.301+02:00  INFO 18320 --- [http-nio-8081-exec-6] c.t.t.controllers.UsuarioController      : ✅ Usuario eliminado correctamente: ballesterospereze@gmail.com
2025-05-30T00:33:06.303+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [text/plain, */*, application/json, application/*+json]
2025-05-30T00:33:06.303+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Usuario eliminado correctamente"]
2025-05-30T00:33:06.304+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:33:06.332+02:00 DEBUG 18320 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T00:33:06.334+02:00 DEBUG 18320 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:33:06.335+02:00 DEBUG 18320 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T00:33:06.335+02:00 DEBUG 18320 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T00:33:06.336+02:00 DEBUG 18320 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T00:33:06.337+02:00  INFO 18320 --- [http-nio-8081-exec-7] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T00:33:06.380+02:00  INFO 18320 --- [http-nio-8081-exec-7] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T00:33:06.385+02:00 DEBUG 18320 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T00:33:06.476+02:00  INFO 18320 --- [http-nio-8081-exec-7] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 0
2025-05-30T00:33:06.477+02:00 DEBUG 18320 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:33:06.478+02:00 DEBUG 18320 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-05-30T00:33:06.482+02:00 DEBUG 18320 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:33:22.381+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T00:33:22.383+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:33:22.383+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T00:33:22.383+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T00:33:22.384+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T00:33:22.384+02:00  INFO 18320 --- [http-nio-8081-exec-10] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T00:33:22.437+02:00  INFO 18320 --- [http-nio-8081-exec-10] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T00:33:22.439+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T00:33:22.512+02:00  INFO 18320 --- [http-nio-8081-exec-10] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 0
2025-05-30T00:33:22.514+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:33:22.514+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-05-30T00:33:22.516+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:33:22.905+02:00 DEBUG 18320 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/categorias
2025-05-30T00:33:22.906+02:00 DEBUG 18320 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:33:22.906+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T00:33:22.907+02:00 DEBUG 18320 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/categorias
2025-05-30T00:33:22.907+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:33:22.907+02:00 DEBUG 18320 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/categorias", parameters={}
2025-05-30T00:33:22.908+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T00:33:22.908+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T00:33:22.909+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T00:33:22.910+02:00 DEBUG 18320 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#obtenerCategorias()
2025-05-30T00:33:22.928+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T00:33:22.927+02:00 DEBUG 18320 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:33:22.929+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:33:22.929+02:00 DEBUG 18320 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Suplementos Naturales, Tés e Infusiones Naturales, Superalimentos, Alimentación Saludable, Cosmétic (truncated)...]
2025-05-30T00:33:22.930+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T00:33:22.931+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T00:33:22.934+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T00:33:22.936+02:00  INFO 18320 --- [http-nio-8081-exec-3] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T00:33:22.940+02:00 DEBUG 18320 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:33:22.960+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T00:33:22.999+02:00  INFO 18320 --- [http-nio-8081-exec-3] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T00:33:23.004+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T00:33:23.138+02:00  INFO 18320 --- [http-nio-8081-exec-3] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 0
2025-05-30T00:33:23.141+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:33:23.142+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-05-30T00:33:23.146+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:33:23.217+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:33:23.386+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /carrito/46
2025-05-30T00:33:23.387+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:33:23.388+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /carrito/46
2025-05-30T00:33:23.391+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/carrito/46", parameters={}
2025-05-30T00:33:23.396+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T00:33:23.463+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T00:33:23.563+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T00:33:23.564+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=No se pudo cargar el carrito}]
2025-05-30T00:33:23.572+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-30T00:33:23.606+02:00 DEBUG 18320 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /carrito/46
2025-05-30T00:33:23.607+02:00 DEBUG 18320 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:33:23.608+02:00 DEBUG 18320 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /carrito/46
2025-05-30T00:33:23.609+02:00 DEBUG 18320 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/carrito/46", parameters={}
2025-05-30T00:33:23.612+02:00 DEBUG 18320 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T00:33:23.669+02:00 DEBUG 18320 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T00:33:23.738+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T00:33:23.751+02:00 DEBUG 18320 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T00:33:23.752+02:00 DEBUG 18320 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=No se pudo cargar el carrito}]
2025-05-30T00:33:23.754+02:00 DEBUG 18320 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-30T00:33:23.864+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:33:28.593+02:00 DEBUG 18320 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T00:33:28.593+02:00 DEBUG 18320 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:33:28.594+02:00 DEBUG 18320 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T00:33:28.594+02:00 DEBUG 18320 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T00:33:28.594+02:00 DEBUG 18320 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T00:33:28.595+02:00  INFO 18320 --- [http-nio-8081-exec-5] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T00:33:28.648+02:00  INFO 18320 --- [http-nio-8081-exec-5] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T00:33:28.651+02:00 DEBUG 18320 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T00:33:28.724+02:00  INFO 18320 --- [http-nio-8081-exec-5] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 0
2025-05-30T00:33:28.726+02:00 DEBUG 18320 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:33:28.727+02:00 DEBUG 18320 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-05-30T00:33:28.729+02:00 DEBUG 18320 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:33:29.047+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/categorias
2025-05-30T00:33:29.048+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:33:29.048+02:00 DEBUG 18320 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T00:33:29.049+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/categorias
2025-05-30T00:33:29.049+02:00 DEBUG 18320 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:33:29.050+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/categorias", parameters={}
2025-05-30T00:33:29.050+02:00 DEBUG 18320 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T00:33:29.051+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#obtenerCategorias()
2025-05-30T00:33:29.051+02:00 DEBUG 18320 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T00:33:29.051+02:00 DEBUG 18320 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T00:33:29.053+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:33:29.055+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Suplementos Naturales, Tés e Infusiones Naturales, Superalimentos, Alimentación Saludable, Cosmétic (truncated)...]
2025-05-30T00:33:29.058+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:33:29.061+02:00 DEBUG 18320 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T00:33:29.061+02:00 DEBUG 18320 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:33:29.062+02:00 DEBUG 18320 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T00:33:29.064+02:00 DEBUG 18320 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T00:33:29.065+02:00 DEBUG 18320 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T00:33:29.066+02:00  INFO 18320 --- [http-nio-8081-exec-7] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T00:33:29.091+02:00 DEBUG 18320 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T00:33:29.128+02:00  INFO 18320 --- [http-nio-8081-exec-7] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T00:33:29.131+02:00 DEBUG 18320 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T00:33:29.196+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /carrito/46
2025-05-30T00:33:29.197+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:33:29.197+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /carrito/46
2025-05-30T00:33:29.198+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/carrito/46", parameters={}
2025-05-30T00:33:29.200+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T00:33:29.232+02:00  INFO 18320 --- [http-nio-8081-exec-7] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 0
2025-05-30T00:33:29.234+02:00 DEBUG 18320 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:33:29.234+02:00 DEBUG 18320 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-05-30T00:33:29.238+02:00 DEBUG 18320 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:33:29.265+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T00:33:29.317+02:00 DEBUG 18320 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:33:29.341+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T00:33:29.344+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=No se pudo cargar el carrito}]
2025-05-30T00:33:29.347+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-30T00:33:29.368+02:00 DEBUG 18320 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /carrito/46
2025-05-30T00:33:29.368+02:00 DEBUG 18320 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:33:29.369+02:00 DEBUG 18320 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /carrito/46
2025-05-30T00:33:29.369+02:00 DEBUG 18320 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/carrito/46", parameters={}
2025-05-30T00:33:29.370+02:00 DEBUG 18320 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T00:33:29.414+02:00 DEBUG 18320 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T00:33:29.497+02:00 DEBUG 18320 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T00:33:29.499+02:00 DEBUG 18320 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=No se pudo cargar el carrito}]
2025-05-30T00:33:29.500+02:00 DEBUG 18320 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-30T00:33:29.711+02:00 DEBUG 18320 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T00:33:29.792+02:00 DEBUG 18320 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:33:31.953+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T00:33:31.955+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:33:31.957+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T00:33:31.958+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T00:33:31.960+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T00:33:32.022+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T00:33:32.140+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /carrito/46
2025-05-30T00:33:32.141+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:33:32.144+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /carrito/46
2025-05-30T00:33:32.145+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/carrito/46", parameters={}
2025-05-30T00:33:32.148+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T00:33:32.218+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T00:33:32.286+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:33:32.302+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T00:33:32.303+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=No se pudo cargar el carrito}]
2025-05-30T00:33:32.306+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-30T00:33:32.740+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T00:33:32.836+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:33:33.798+02:00 DEBUG 18320 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T00:33:33.798+02:00 DEBUG 18320 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:33:33.800+02:00 DEBUG 18320 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T00:33:33.800+02:00 DEBUG 18320 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T00:33:33.800+02:00 DEBUG 18320 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T00:33:33.858+02:00 DEBUG 18320 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T00:33:33.913+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /carrito/46
2025-05-30T00:33:33.915+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:33:33.916+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /carrito/46
2025-05-30T00:33:33.916+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/carrito/46", parameters={}
2025-05-30T00:33:33.917+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T00:33:34.001+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T00:33:34.056+02:00 DEBUG 18320 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:33:34.080+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T00:33:34.080+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=No se pudo cargar el carrito}]
2025-05-30T00:33:34.082+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-30T00:33:34.100+02:00 DEBUG 18320 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /carrito/46
2025-05-30T00:33:34.101+02:00 DEBUG 18320 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:33:34.101+02:00 DEBUG 18320 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /carrito/46
2025-05-30T00:33:34.103+02:00 DEBUG 18320 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/carrito/46", parameters={}
2025-05-30T00:33:34.103+02:00 DEBUG 18320 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T00:33:34.149+02:00 DEBUG 18320 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T00:33:34.227+02:00 DEBUG 18320 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T00:33:34.228+02:00 DEBUG 18320 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=No se pudo cargar el carrito}]
2025-05-30T00:33:34.229+02:00 DEBUG 18320 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-30T00:33:34.450+02:00 DEBUG 18320 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T00:33:34.510+02:00 DEBUG 18320 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:33:38.313+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T00:33:38.314+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:33:38.315+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T00:33:38.316+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T00:33:38.317+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T00:33:38.377+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T00:33:38.439+02:00 DEBUG 18320 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /carrito/46
2025-05-30T00:33:38.440+02:00 DEBUG 18320 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:33:38.440+02:00 DEBUG 18320 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /carrito/46
2025-05-30T00:33:38.441+02:00 DEBUG 18320 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/carrito/46", parameters={}
2025-05-30T00:33:38.442+02:00 DEBUG 18320 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T00:33:38.507+02:00 DEBUG 18320 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T00:33:38.607+02:00 DEBUG 18320 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T00:33:38.608+02:00 DEBUG 18320 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=No se pudo cargar el carrito}]
2025-05-30T00:33:38.611+02:00 DEBUG 18320 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-30T00:33:38.634+02:00 DEBUG 18320 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /carrito/46
2025-05-30T00:33:38.635+02:00 DEBUG 18320 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:33:38.643+02:00 DEBUG 18320 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /carrito/46
2025-05-30T00:33:38.644+02:00 DEBUG 18320 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/carrito/46", parameters={}
2025-05-30T00:33:38.646+02:00 DEBUG 18320 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T00:33:38.711+02:00 DEBUG 18320 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T00:33:38.774+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:33:38.784+02:00 DEBUG 18320 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T00:33:38.784+02:00 DEBUG 18320 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=No se pudo cargar el carrito}]
2025-05-30T00:33:38.786+02:00 DEBUG 18320 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-30T00:33:39.147+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T00:33:39.214+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:33:39.439+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/resenias/producto/34
2025-05-30T00:33:39.439+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:33:39.440+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/resenias/producto/34
2025-05-30T00:33:39.440+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/resenias/producto/34", parameters={}
2025-05-30T00:33:39.441+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ReseniaController#obtenerReseniasPorProducto(Long)
2025-05-30T00:33:39.507+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T00:33:39.761+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        rm1_0.id,
        rm1_0.comentario,
        rm1_0.fecha,
        rm1_0.producto_id,
        rm1_0.usuario_id,
        rm1_0.valoracion 
    from
        resenas rm1_0 
    where
        rm1_0.producto_id=? 
    order by
        rm1_0.fecha desc
2025-05-30T00:33:39.786+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:33:39.786+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-05-30T00:33:39.789+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:33:44.321+02:00 DEBUG 18320 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T00:33:44.323+02:00 DEBUG 18320 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:33:44.323+02:00 DEBUG 18320 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T00:33:44.323+02:00 DEBUG 18320 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T00:33:44.324+02:00 DEBUG 18320 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T00:33:44.386+02:00 DEBUG 18320 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T00:33:44.457+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /carrito/46
2025-05-30T00:33:44.457+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:33:44.457+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /carrito/46
2025-05-30T00:33:44.458+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/carrito/46", parameters={}
2025-05-30T00:33:44.458+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T00:33:44.530+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T00:33:44.607+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T00:33:44.608+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=No se pudo cargar el carrito}]
2025-05-30T00:33:44.610+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-30T00:33:44.628+02:00 DEBUG 18320 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:33:44.631+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /carrito/46
2025-05-30T00:33:44.631+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:33:44.632+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /carrito/46
2025-05-30T00:33:44.632+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/carrito/46", parameters={}
2025-05-30T00:33:44.633+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T00:33:44.672+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T00:33:44.748+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T00:33:44.749+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=No se pudo cargar el carrito}]
2025-05-30T00:33:44.750+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-30T00:33:45.076+02:00 DEBUG 18320 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T00:33:45.153+02:00 DEBUG 18320 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:33:48.653+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T00:33:48.654+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:33:48.654+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T00:33:48.655+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T00:33:48.655+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T00:33:48.725+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T00:33:49.099+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:33:49.540+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T00:33:49.597+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:35:48.082+02:00 DEBUG 18320 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/usuario/registro
2025-05-30T00:35:48.084+02:00 DEBUG 18320 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:35:48.084+02:00 DEBUG 18320 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/usuario/registro
2025-05-30T00:35:48.084+02:00 DEBUG 18320 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/usuario/registro", parameters={}
2025-05-30T00:35:48.085+02:00 DEBUG 18320 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#aniadirUsuario(UsuarioDto)
2025-05-30T00:35:48.086+02:00 DEBUG 18320 --- [http-nio-8081-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UsuarioDto(id=null, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contras (truncated)...]
2025-05-30T00:35:48.087+02:00  INFO 18320 --- [http-nio-8081-exec-8] c.t.t.controllers.UsuarioController      : 📝 Intentando registrar un nuevo usuario: ballesterospereze@gmail.com
2025-05-30T00:35:48.124+02:00  INFO 18320 --- [http-nio-8081-exec-8] c.t.terranostra.services.UsuarioService  : 🟢 Intentando registrar un nuevo usuario con email: ballesterospereze@gmail.com
2025-05-30T00:35:48.127+02:00 DEBUG 18320 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-05-30T00:35:48.217+02:00 DEBUG 18320 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    insert 
    into
        usuarios
        (apellido, contrasenia, correo_verificado, direccion, email, fecha_modificacion, fecha_registro, nombre, rol, telefono) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-30T00:35:48.249+02:00  INFO 18320 --- [http-nio-8081-exec-8] c.t.terranostra.services.UsuarioService  : ✅ Usuario registrado con éxito: ballesterospereze@gmail.com
2025-05-30T00:35:48.249+02:00  INFO 18320 --- [http-nio-8081-exec-8] c.t.terranostra.services.UsuarioService  : 📨 Iniciando proceso de envío de verificación para: ballesterospereze@gmail.com
2025-05-30T00:35:48.251+02:00 DEBUG 18320 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-05-30T00:35:48.271+02:00 DEBUG 18320 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        cvt1_0.id,
        cvt1_0.email,
        cvt1_0.expiracion,
        cvt1_0.token 
    from
        correo_verificacion_tokens cvt1_0 
    where
        cvt1_0.email=?
2025-05-30T00:35:48.291+02:00 DEBUG 18320 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    insert 
    into
        correo_verificacion_tokens
        (email, expiracion, token) 
    values
        (?, ?, ?)
2025-05-30T00:35:48.312+02:00  INFO 18320 --- [http-nio-8081-exec-8] c.t.terranostra.services.UsuarioService  : ✅ Token generado y guardado: dda81f8a-46b8-4442-b412-1120aaa03772
2025-05-30T00:35:49.821+02:00  INFO 18320 --- [http-nio-8081-exec-8] c.t.terranostra.services.UsuarioService  : ✉️ Correo de verificación enviado correctamente a ballesterospereze@gmail.com
2025-05-30T00:35:49.856+02:00  INFO 18320 --- [http-nio-8081-exec-8] c.t.t.controllers.UsuarioController      : ✅ Usuario registrado con éxito. ID: 50
2025-05-30T00:35:49.857+02:00 DEBUG 18320 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-05-30T00:35:49.857+02:00 DEBUG 18320 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Usuario registrado con éxito. ID: 50"]
2025-05-30T00:35:49.859+02:00 DEBUG 18320 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-05-30T00:35:51.560+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T00:35:51.561+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:35:51.561+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T00:35:51.561+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T00:35:51.562+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T00:35:51.620+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T00:35:51.836+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:35:52.024+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T00:35:52.045+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:36:05.542+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /verificacion/confirmar?token=dda81f8a-46b8-4442-b412-1120aaa03772
2025-05-30T00:36:05.543+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:36:05.543+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id ACF2A4E1903A22550BDB4A37DF021BA9
2025-05-30T00:36:05.543+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /verificacion/confirmar?token=dda81f8a-46b8-4442-b412-1120aaa03772
2025-05-30T00:36:05.544+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/verificacion/confirmar?token=dda81f8a-46b8-4442-b412-1120aaa03772", parameters={masked}
2025-05-30T00:36:05.544+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.VerificacionCorreoController#verificarCorreo(String, HttpServletResponse)
2025-05-30T00:36:05.585+02:00  INFO 18320 --- [http-nio-8081-exec-10] c.t.t.c.VerificacionCorreoController     : 🔐 Verificando token recibido: dda81f8a-46b8-4442-b412-1120aaa03772
2025-05-30T00:36:05.586+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        cvt1_0.id,
        cvt1_0.email,
        cvt1_0.expiracion,
        cvt1_0.token 
    from
        correo_verificacion_tokens cvt1_0 
    where
        cvt1_0.token=?
2025-05-30T00:36:05.609+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-05-30T00:36:05.629+02:00  INFO 18320 --- [http-nio-8081-exec-10] c.t.t.c.VerificacionCorreoController     : ✅ Correo verificado correctamente para el usuario: ballesterospereze@gmail.com
2025-05-30T00:36:06.566+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    update
        usuarios 
    set
        apellido=?,
        contrasenia=?,
        correo_verificado=?,
        direccion=?,
        email=?,
        fecha_modificacion=?,
        fecha_registro=?,
        nombre=?,
        rol=?,
        telefono=? 
    where
        id=?
2025-05-30T00:36:06.587+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    delete 
    from
        correo_verificacion_tokens 
    where
        id=?
2025-05-30T00:36:06.647+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND
2025-05-30T00:36:06.966+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T00:36:06.967+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:36:06.967+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T00:36:06.967+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T00:36:06.967+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T00:36:07.026+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T00:36:07.216+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:36:07.611+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T00:36:07.642+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:36:20.367+02:00 DEBUG 18320 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario/email/ballesterospereze@gmail.com
2025-05-30T00:36:20.367+02:00 DEBUG 18320 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:36:20.367+02:00 DEBUG 18320 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario/email/ballesterospereze@gmail.com
2025-05-30T00:36:20.368+02:00 DEBUG 18320 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario/email/ballesterospereze@gmail.com", parameters={}
2025-05-30T00:36:20.368+02:00 DEBUG 18320 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarioPorEmail(String)
2025-05-30T00:36:20.369+02:00  INFO 18320 --- [http-nio-8081-exec-1] c.t.t.controllers.UsuarioController      : 🔎 Buscando usuario con email: ballesterospereze@gmail.com
2025-05-30T00:36:20.426+02:00  INFO 18320 --- [http-nio-8081-exec-1] c.t.terranostra.services.UsuarioService  : 🔍 Buscando usuario por email: ballesterospereze@gmail.com
2025-05-30T00:36:20.428+02:00 DEBUG 18320 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-05-30T00:36:20.503+02:00  INFO 18320 --- [http-nio-8081-exec-1] c.t.t.controllers.UsuarioController      : ✅ Usuario encontrado: UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrasenia=$2a$10$rVx48tQQwdvo5YucByFVuu4RYO7YPdzrQ.ROhZdJWM/HjBZ7.K1wa, telefono=null, direccion=null, correoVerificado=true, fechaRegistro=2025-05-30T00:35:48, fechaModificacion=null, rol=ROLE_USER)
2025-05-30T00:36:20.504+02:00 DEBUG 18320 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:36:20.504+02:00 DEBUG 18320 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrasen (truncated)...]
2025-05-30T00:36:20.505+02:00 DEBUG 18320 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:36:22.891+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/pedidos/usuario/50
2025-05-30T00:36:22.892+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:36:22.892+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/pedidos/usuario/50
2025-05-30T00:36:22.892+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/pedidos/usuario/50", parameters={}
2025-05-30T00:36:22.892+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.PedidoController#obtenerPedidosPorUsuario(Long)
2025-05-30T00:36:22.895+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.direccion_envio,
        pm1_0.email_usuario,
        pm1_0.estado,
        pm1_0.fecha,
        pm1_0.metodo_pago,
        pm1_0.telefono_contacto,
        pm1_0.total,
        pm1_0.usuario_id 
    from
        pedidos pm1_0 
    left join
        usuarios u1_0 
            on u1_0.id=pm1_0.usuario_id 
    where
        u1_0.id=?
2025-05-30T00:36:22.934+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T00:36:22.934+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-05-30T00:36:22.936+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:38:58.955+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T00:38:58.955+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:38:58.955+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T00:38:58.956+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T00:38:58.956+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T00:38:59.012+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T00:38:59.226+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:38:59.419+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T00:38:59.445+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:39:01.936+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario/email/ballesterospereze@gmail.com
2025-05-30T00:39:01.936+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:39:01.937+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario/email/ballesterospereze@gmail.com
2025-05-30T00:39:01.938+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario/email/ballesterospereze@gmail.com", parameters={}
2025-05-30T00:39:01.939+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarioPorEmail(String)
2025-05-30T00:39:01.939+02:00  INFO 18320 --- [http-nio-8081-exec-10] c.t.t.controllers.UsuarioController      : 🔎 Buscando usuario con email: ballesterospereze@gmail.com
2025-05-30T00:39:01.997+02:00  INFO 18320 --- [http-nio-8081-exec-10] c.t.terranostra.services.UsuarioService  : 🔍 Buscando usuario por email: ballesterospereze@gmail.com
2025-05-30T00:39:01.998+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-05-30T00:39:02.077+02:00  INFO 18320 --- [http-nio-8081-exec-10] c.t.t.controllers.UsuarioController      : ✅ Usuario encontrado: UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrasenia=$2a$10$rVx48tQQwdvo5YucByFVuu4RYO7YPdzrQ.ROhZdJWM/HjBZ7.K1wa, telefono=null, direccion=null, correoVerificado=true, fechaRegistro=2025-05-30T00:35:48, fechaModificacion=null, rol=ROLE_ADMIN)
2025-05-30T00:39:02.077+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:39:02.077+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrasen (truncated)...]
2025-05-30T00:39:02.079+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:39:10.546+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T00:39:10.546+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:39:10.547+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T00:39:10.547+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T00:39:10.547+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T00:39:10.601+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T00:39:10.793+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:39:10.993+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T00:39:11.015+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:39:18.914+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-05-30T00:39:18.915+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:39:18.915+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-05-30T00:39:18.915+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-05-30T00:39:18.915+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.AuthController#inicioSesion(LoginDto)
2025-05-30T00:39:18.918+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginDto(email=ballesterospereze@gmail.com, contrasenia=123456)]
2025-05-30T00:39:18.918+02:00  INFO 18320 --- [http-nio-8081-exec-2] c.t.t.controllers.AuthController         : 🔐 Intento de inicio de sesión para el usuario: ballesterospereze@gmail.com
2025-05-30T00:39:18.918+02:00  INFO 18320 --- [http-nio-8081-exec-2] c.tfg.terranostra.services.AuthService   : 📩 Intentando autenticar usuario con email: ballesterospereze@gmail.com
2025-05-30T00:39:18.919+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-05-30T00:39:19.012+02:00  INFO 18320 --- [http-nio-8081-exec-2] c.tfg.terranostra.services.AuthService   : 🔎 ¿Las contraseñas coinciden? true
2025-05-30T00:39:19.014+02:00  INFO 18320 --- [http-nio-8081-exec-2] c.tfg.terranostra.services.AuthService   : 🔐 Usuario autenticado correctamente en SecurityContext: ballesterospereze@gmail.com
2025-05-30T00:39:19.015+02:00  INFO 18320 --- [http-nio-8081-exec-2] c.t.t.controllers.AuthController         : ✅ Inicio de sesión exitoso para el usuario: ballesterospereze@gmail.com
2025-05-30T00:39:19.015+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T00:39:19.015+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrasen (truncated)...]
2025-05-30T00:39:19.016+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:39:20.621+02:00 DEBUG 18320 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T00:39:20.622+02:00 DEBUG 18320 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:39:20.622+02:00 DEBUG 18320 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T00:39:20.622+02:00 DEBUG 18320 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T00:39:20.623+02:00 DEBUG 18320 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T00:39:20.682+02:00 DEBUG 18320 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T00:39:20.685+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T00:39:20.685+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:39:20.685+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T00:39:20.686+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T00:39:20.686+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T00:39:20.744+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T00:39:20.834+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T00:39:20.874+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    insert 
    into
        carrito
        (fecha_creacion, usuario_id) 
    values
        (?, ?)
2025-05-30T00:39:20.939+02:00  INFO 18320 --- [http-nio-8081-exec-4] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T00:39:20.942+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T00:39:20.942+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874240700, items=[])]
2025-05-30T00:39:20.944+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:39:20.949+02:00 DEBUG 18320 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T00:39:20.949+02:00 DEBUG 18320 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:39:20.950+02:00 DEBUG 18320 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T00:39:20.950+02:00 DEBUG 18320 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T00:39:20.950+02:00 DEBUG 18320 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T00:39:20.957+02:00 DEBUG 18320 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:39:20.986+02:00 DEBUG 18320 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T00:39:21.062+02:00 DEBUG 18320 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T00:39:21.081+02:00 DEBUG 18320 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T00:39:21.101+02:00  INFO 18320 --- [http-nio-8081-exec-7] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T00:39:21.101+02:00 DEBUG 18320 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T00:39:21.101+02:00 DEBUG 18320 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T00:39:21.102+02:00 DEBUG 18320 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:39:21.146+02:00 DEBUG 18320 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T00:39:21.169+02:00 DEBUG 18320 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:39:23.246+02:00 DEBUG 18320 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T00:39:23.247+02:00 DEBUG 18320 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:39:23.247+02:00 DEBUG 18320 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T00:39:23.247+02:00 DEBUG 18320 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T00:39:23.247+02:00 DEBUG 18320 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T00:39:23.247+02:00  INFO 18320 --- [http-nio-8081-exec-8] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T00:39:23.299+02:00  INFO 18320 --- [http-nio-8081-exec-8] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T00:39:23.300+02:00 DEBUG 18320 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T00:39:23.369+02:00  INFO 18320 --- [http-nio-8081-exec-8] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 1
2025-05-30T00:39:23.370+02:00 DEBUG 18320 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:39:23.370+02:00 DEBUG 18320 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T00:39:23.371+02:00 DEBUG 18320 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:39:23.476+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/categorias
2025-05-30T00:39:23.478+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:39:23.478+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/categorias
2025-05-30T00:39:23.478+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/categorias", parameters={}
2025-05-30T00:39:23.479+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#obtenerCategorias()
2025-05-30T00:39:23.479+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T00:39:23.479+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:39:23.480+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T00:39:23.480+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T00:39:23.480+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:39:23.480+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T00:39:23.480+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Suplementos Naturales, Tés e Infusiones Naturales, Superalimentos, Alimentación Saludable, Cosmétic (truncated)...]
2025-05-30T00:39:23.481+02:00 DEBUG 18320 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:39:23.489+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T00:39:23.489+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:39:23.490+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T00:39:23.490+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T00:39:23.490+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T00:39:23.491+02:00  INFO 18320 --- [http-nio-8081-exec-3] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T00:39:23.524+02:00  INFO 18320 --- [http-nio-8081-exec-3] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T00:39:23.525+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T00:39:23.539+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T00:39:23.546+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T00:39:23.546+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:39:23.546+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T00:39:23.546+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T00:39:23.547+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T00:39:23.606+02:00  INFO 18320 --- [http-nio-8081-exec-3] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 1
2025-05-30T00:39:23.606+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:39:23.607+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T00:39:23.608+02:00 DEBUG 18320 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:39:23.608+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T00:39:23.690+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T00:39:23.709+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T00:39:23.727+02:00  INFO 18320 --- [http-nio-8081-exec-2] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T00:39:23.728+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T00:39:23.728+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T00:39:23.730+02:00 DEBUG 18320 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:39:23.737+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T00:39:23.737+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:39:23.737+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T00:39:23.737+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T00:39:23.738+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T00:39:23.773+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T00:39:23.790+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:39:23.877+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T00:39:23.897+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T00:39:23.915+02:00  INFO 18320 --- [http-nio-8081-exec-4] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T00:39:23.916+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T00:39:23.916+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T00:39:23.917+02:00 DEBUG 18320 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:39:24.029+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T00:39:24.054+02:00 DEBUG 18320 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:41:14.937+02:00  INFO 18320 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-30T00:41:14.946+02:00  INFO 18320 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-05-30T00:41:14.953+02:00  INFO 18320 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T00:41:14.957+02:00  INFO 18320 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-30T00:41:14.965+02:00  INFO 18320 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-30T00:41:19.109+02:00  INFO 2864 --- [restartedMain] c.t.t.TerraNostraApiApplication          : Starting TerraNostraApiApplication using Java 21.0.5 with PID 2864 (C:\Users\balle\Documents\Proyectos\terra-nostra-api\target\classes started by balle in C:\Users\balle\Documents\Proyectos\terra-nostra-api)
2025-05-30T00:41:19.113+02:00  INFO 2864 --- [restartedMain] c.t.t.TerraNostraApiApplication          : No active profile set, falling back to 1 default profile: "default"
2025-05-30T00:41:19.160+02:00  INFO 2864 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-05-30T00:41:19.160+02:00  INFO 2864 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-05-30T00:41:20.113+02:00  INFO 2864 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-30T00:41:20.228+02:00  INFO 2864 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 100 ms. Found 8 JPA repository interfaces.
2025-05-30T00:41:21.135+02:00  INFO 2864 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-05-30T00:41:21.157+02:00  INFO 2864 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-30T00:41:21.157+02:00  INFO 2864 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-05-30T00:41:21.225+02:00  INFO 2864 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-30T00:41:21.226+02:00  INFO 2864 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2066 ms
2025-05-30T00:41:21.483+02:00  INFO 2864 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-30T00:41:21.555+02:00  INFO 2864 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.4.Final
2025-05-30T00:41:21.607+02:00  INFO 2864 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-30T00:41:21.966+02:00  INFO 2864 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-30T00:41:21.993+02:00  WARN 2864 --- [restartedMain] com.zaxxer.hikari.HikariConfig           : HikariPool-1 - idleTimeout has been set but has no effect because the pool is operating as a fixed size pool.
2025-05-30T00:41:21.994+02:00  INFO 2864 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-30T00:41:26.863+02:00  INFO 2864 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@23e54609
2025-05-30T00:41:26.865+02:00  INFO 2864 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-30T00:41:26.927+02:00  WARN 2864 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-30T00:41:26.950+02:00  INFO 2864 --- [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.4.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-30T00:41:27.903+02:00  INFO 2864 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-30T00:41:28.417+02:00  INFO 2864 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T00:41:29.139+02:00 DEBUG 2864 --- [restartedMain] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-05-30T00:41:29.174+02:00  WARN 2864 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-30T00:41:29.382+02:00 DEBUG 2864 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 32 mappings in 'requestMappingHandlerMapping'
2025-05-30T00:41:29.437+02:00 DEBUG 2864 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /static/**] in 'resourceHandlerMapping'
2025-05-30T00:41:29.497+02:00 DEBUG 2864 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-30T00:41:29.597+02:00 DEBUG 2864 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-30T00:41:29.668+02:00 DEBUG 2864 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-30T00:41:29.880+02:00  WARN 2864 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2025-05-30T00:41:29.934+02:00  INFO 2864 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-05-30T00:41:29.944+02:00  INFO 2864 --- [restartedMain] c.t.t.TerraNostraApiApplication          : Started TerraNostraApiApplication in 11.415 seconds (process running for 11.989)
2025-05-30T00:41:34.422+02:00  INFO 2864 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-30T00:41:34.423+02:00  INFO 2864 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-30T00:41:34.423+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-30T00:41:34.423+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-30T00:41:34.423+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-30T00:41:34.424+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@195d5560
2025-05-30T00:41:34.425+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@26910612
2025-05-30T00:41:34.425+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-30T00:41:34.425+02:00  INFO 2864 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-05-30T00:41:34.442+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T00:41:34.450+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:41:34.452+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T00:41:34.455+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T00:41:34.457+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T00:41:34.474+02:00  INFO 2864 --- [http-nio-8081-exec-1] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T00:41:34.529+02:00  INFO 2864 --- [http-nio-8081-exec-1] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T00:41:34.614+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T00:41:34.707+02:00  INFO 2864 --- [http-nio-8081-exec-1] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 1
2025-05-30T00:41:34.724+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:41:34.731+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T00:41:34.780+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:41:34.915+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T00:41:34.915+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/categorias
2025-05-30T00:41:34.915+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:41:34.915+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:41:34.916+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/categorias
2025-05-30T00:41:34.916+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T00:41:34.917+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T00:41:34.917+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/categorias", parameters={}
2025-05-30T00:41:34.918+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T00:41:34.918+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#obtenerCategorias()
2025-05-30T00:41:34.920+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T00:41:34.921+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:41:34.923+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T00:41:34.923+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T00:41:34.924+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T00:41:34.926+02:00  INFO 2864 --- [http-nio-8081-exec-4] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T00:41:34.927+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:41:34.928+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Suplementos Naturales, Tés e Infusiones Naturales, Superalimentos, Alimentación Saludable, Cosmétic (truncated)...]
2025-05-30T00:41:34.933+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:41:34.959+02:00  INFO 2864 --- [http-nio-8081-exec-4] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T00:41:34.961+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T00:41:34.989+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T00:41:34.990+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:41:34.991+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T00:41:34.991+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T00:41:34.992+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T00:41:34.993+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T00:41:35.030+02:00  INFO 2864 --- [http-nio-8081-exec-4] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 1
2025-05-30T00:41:35.031+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:41:35.031+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T00:41:35.033+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:41:35.074+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T00:41:35.199+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T00:41:35.255+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T00:41:35.275+02:00  INFO 2864 --- [http-nio-8081-exec-5] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T00:41:35.278+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T00:41:35.278+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T00:41:35.281+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:41:35.286+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T00:41:35.286+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:41:35.286+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T00:41:35.287+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T00:41:35.287+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T00:41:35.300+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:41:35.332+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T00:41:35.398+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T00:41:35.417+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T00:41:35.434+02:00  INFO 2864 --- [http-nio-8081-exec-6] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T00:41:35.435+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T00:41:35.455+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T00:41:35.457+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:41:35.550+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T00:41:35.601+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:41:47.478+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing DELETE /api/usuario/email/ballesterospereze@gmail.com
2025-05-30T00:41:47.479+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:41:47.479+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured DELETE /api/usuario/email/ballesterospereze@gmail.com
2025-05-30T00:41:47.479+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : DELETE "/api/usuario/email/ballesterospereze@gmail.com", parameters={}
2025-05-30T00:41:47.479+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#eliminarUsuarioPorEmail(String)
2025-05-30T00:41:47.486+02:00  INFO 2864 --- [http-nio-8081-exec-7] c.t.t.controllers.UsuarioController      : 🗑️ Intentando eliminar usuario con email: ballesterospereze@gmail.com
2025-05-30T00:41:47.519+02:00  INFO 2864 --- [http-nio-8081-exec-7] c.t.terranostra.services.UsuarioService  : 🗑️ Intentando eliminar usuario con email: ballesterospereze@gmail.com
2025-05-30T00:41:47.525+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-05-30T00:41:47.556+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        count(um1_0.id) 
    from
        usuarios um1_0 
    where
        um1_0.rol=?
2025-05-30T00:41:47.574+02:00  WARN 2864 --- [http-nio-8081-exec-7] c.t.terranostra.services.UsuarioService  : ⛔ No se puede eliminar al último usuario ADMIN: ballesterospereze@gmail.com
2025-05-30T00:41:47.608+02:00 ERROR 2864 --- [http-nio-8081-exec-7] c.t.t.controllers.UsuarioController      : ❌ Error al eliminar usuario con email: ballesterospereze@gmail.com

java.lang.IllegalStateException: No se puede eliminar al último usuario ADMIN.
	at com.tfg.terranostra.services.UsuarioService.lambda$eliminarUsuarioPorEmail$4(UsuarioService.java:175) ~[classes/:na]
	at java.base/java.util.Optional.map(Optional.java:260) ~[na:na]
	at com.tfg.terranostra.services.UsuarioService.eliminarUsuarioPorEmail(UsuarioService.java:169) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.1.jar:6.2.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.1.jar:6.2.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.1.jar:6.2.1]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.1.jar:6.2.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.1.jar:6.2.1]
	at com.tfg.terranostra.services.UsuarioService$$SpringCGLIB$$0.eliminarUsuarioPorEmail(<generated>) ~[classes/:na]
	at com.tfg.terranostra.controllers.UsuarioController.eliminarUsuarioPorEmail(UsuarioController.java:155) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.FrameworkServlet.doDelete(FrameworkServlet.java:936) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:596) ~[tomcat-embed-core-10.1.34.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.34.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.2.jar:6.4.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-05-30T00:41:47.617+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [text/plain, */*, application/json, application/*+json]
2025-05-30T00:41:47.617+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Error al eliminar usuario"]
2025-05-30T00:41:47.622+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-30T00:41:54.577+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T00:41:54.578+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:41:54.578+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T00:41:54.578+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T00:41:54.578+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T00:41:54.578+02:00  INFO 2864 --- [http-nio-8081-exec-8] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T00:41:54.628+02:00  INFO 2864 --- [http-nio-8081-exec-8] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T00:41:54.630+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T00:41:54.694+02:00  INFO 2864 --- [http-nio-8081-exec-8] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 1
2025-05-30T00:41:54.696+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:41:54.696+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T00:41:54.697+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:41:54.819+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/categorias
2025-05-30T00:41:54.819+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T00:41:54.819+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:41:54.819+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:41:54.821+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/categorias
2025-05-30T00:41:54.821+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T00:41:54.821+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T00:41:54.821+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/categorias", parameters={}
2025-05-30T00:41:54.822+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#obtenerCategorias()
2025-05-30T00:41:54.822+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T00:41:54.823+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:41:54.823+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Suplementos Naturales, Tés e Infusiones Naturales, Superalimentos, Alimentación Saludable, Cosmétic (truncated)...]
2025-05-30T00:41:54.825+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:41:54.827+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T00:41:54.828+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:41:54.828+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T00:41:54.828+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T00:41:54.830+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T00:41:54.830+02:00  INFO 2864 --- [http-nio-8081-exec-1] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T00:41:54.855+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T00:41:54.880+02:00  INFO 2864 --- [http-nio-8081-exec-1] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T00:41:54.883+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T00:41:54.883+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T00:41:54.884+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:41:54.884+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T00:41:54.885+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T00:41:54.885+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T00:41:54.945+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T00:41:54.956+02:00  INFO 2864 --- [http-nio-8081-exec-1] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 1
2025-05-30T00:41:54.956+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:41:54.957+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T00:41:54.959+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:41:55.023+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T00:41:55.049+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T00:41:55.070+02:00  INFO 2864 --- [http-nio-8081-exec-2] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T00:41:55.071+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T00:41:55.071+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T00:41:55.073+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:41:55.079+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T00:41:55.079+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:41:55.079+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T00:41:55.079+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T00:41:55.080+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T00:41:55.115+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T00:41:55.176+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:41:55.183+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T00:41:55.201+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T00:41:55.219+02:00  INFO 2864 --- [http-nio-8081-exec-4] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T00:41:55.219+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T00:41:55.220+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T00:41:55.222+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:41:55.386+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T00:41:55.414+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:42:28.859+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T00:42:28.860+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:42:28.861+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T00:42:28.861+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T00:42:28.861+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T00:42:28.911+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T00:42:30.383+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:42:30.625+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T00:42:30.655+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:42:56.574+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/usuario/registro
2025-05-30T00:42:56.574+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:42:56.574+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/usuario/registro
2025-05-30T00:42:56.575+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/usuario/registro", parameters={}
2025-05-30T00:42:56.575+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#aniadirUsuario(UsuarioDto)
2025-05-30T00:42:56.621+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UsuarioDto(id=null, nombre=Alicia, apellido=Danta Del Rio, email=aliciadantadelrio@gmail.com, contra (truncated)...]
2025-05-30T00:42:56.622+02:00  INFO 2864 --- [http-nio-8081-exec-4] c.t.t.controllers.UsuarioController      : 📝 Intentando registrar un nuevo usuario: aliciadantadelrio@gmail.com
2025-05-30T00:42:56.656+02:00  INFO 2864 --- [http-nio-8081-exec-4] c.t.terranostra.services.UsuarioService  : 🟢 Intentando registrar un nuevo usuario con email: aliciadantadelrio@gmail.com
2025-05-30T00:42:56.658+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-05-30T00:42:56.794+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    insert 
    into
        usuarios
        (apellido, contrasenia, correo_verificado, direccion, email, fecha_modificacion, fecha_registro, nombre, rol, telefono) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-30T00:42:56.827+02:00  INFO 2864 --- [http-nio-8081-exec-4] c.t.terranostra.services.UsuarioService  : ✅ Usuario registrado con éxito: aliciadantadelrio@gmail.com
2025-05-30T00:42:56.827+02:00  INFO 2864 --- [http-nio-8081-exec-4] c.t.terranostra.services.UsuarioService  : 📨 Iniciando proceso de envío de verificación para: aliciadantadelrio@gmail.com
2025-05-30T00:42:56.829+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-05-30T00:42:56.848+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        cvt1_0.id,
        cvt1_0.email,
        cvt1_0.expiracion,
        cvt1_0.token 
    from
        correo_verificacion_tokens cvt1_0 
    where
        cvt1_0.email=?
2025-05-30T00:42:56.868+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    insert 
    into
        correo_verificacion_tokens
        (email, expiracion, token) 
    values
        (?, ?, ?)
2025-05-30T00:42:56.886+02:00  INFO 2864 --- [http-nio-8081-exec-4] c.t.terranostra.services.UsuarioService  : ✅ Token generado y guardado: a6643cc7-b72c-4cc7-8f65-4a0a085f2f68
2025-05-30T00:42:58.026+02:00  INFO 2864 --- [http-nio-8081-exec-4] c.t.terranostra.services.UsuarioService  : ✉️ Correo de verificación enviado correctamente a aliciadantadelrio@gmail.com
2025-05-30T00:42:58.062+02:00  INFO 2864 --- [http-nio-8081-exec-4] c.t.t.controllers.UsuarioController      : ✅ Usuario registrado con éxito. ID: 51
2025-05-30T00:42:58.063+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-05-30T00:42:58.063+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Usuario registrado con éxito. ID: 51"]
2025-05-30T00:42:58.064+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-05-30T00:42:59.707+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T00:42:59.707+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:42:59.707+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T00:42:59.707+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T00:42:59.707+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T00:42:59.759+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T00:43:00.077+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:43:00.263+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T00:43:00.288+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:43:59.165+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /verificacion/confirmar?token=a6643cc7-b72c-4cc7-8f65-4a0a085f2f68
2025-05-30T00:43:59.166+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:43:59.166+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id ACF2A4E1903A22550BDB4A37DF021BA9
2025-05-30T00:43:59.166+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /verificacion/confirmar?token=a6643cc7-b72c-4cc7-8f65-4a0a085f2f68
2025-05-30T00:43:59.166+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/verificacion/confirmar?token=a6643cc7-b72c-4cc7-8f65-4a0a085f2f68", parameters={masked}
2025-05-30T00:43:59.167+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.VerificacionCorreoController#verificarCorreo(String, HttpServletResponse)
2025-05-30T00:43:59.207+02:00  INFO 2864 --- [http-nio-8081-exec-7] c.t.t.c.VerificacionCorreoController     : 🔐 Verificando token recibido: a6643cc7-b72c-4cc7-8f65-4a0a085f2f68
2025-05-30T00:43:59.209+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        cvt1_0.id,
        cvt1_0.email,
        cvt1_0.expiracion,
        cvt1_0.token 
    from
        correo_verificacion_tokens cvt1_0 
    where
        cvt1_0.token=?
2025-05-30T00:43:59.229+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-05-30T00:43:59.254+02:00  INFO 2864 --- [http-nio-8081-exec-7] c.t.t.c.VerificacionCorreoController     : ✅ Correo verificado correctamente para el usuario: aliciadantadelrio@gmail.com
2025-05-30T00:44:00.314+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    update
        usuarios 
    set
        apellido=?,
        contrasenia=?,
        correo_verificado=?,
        direccion=?,
        email=?,
        fecha_modificacion=?,
        fecha_registro=?,
        nombre=?,
        rol=?,
        telefono=? 
    where
        id=?
2025-05-30T00:44:00.336+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    delete 
    from
        correo_verificacion_tokens 
    where
        id=?
2025-05-30T00:44:00.387+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND
2025-05-30T00:44:00.614+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T00:44:00.614+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:44:00.614+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T00:44:00.614+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T00:44:00.614+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T00:44:00.669+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T00:44:00.975+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:44:01.348+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T00:44:01.377+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:44:11.185+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario/email/aliciadantadelrio@gmail.com
2025-05-30T00:44:11.185+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:44:11.186+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario/email/aliciadantadelrio@gmail.com
2025-05-30T00:44:11.187+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario/email/aliciadantadelrio@gmail.com", parameters={}
2025-05-30T00:44:11.187+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarioPorEmail(String)
2025-05-30T00:44:11.189+02:00  INFO 2864 --- [http-nio-8081-exec-8] c.t.t.controllers.UsuarioController      : 🔎 Buscando usuario con email: aliciadantadelrio@gmail.com
2025-05-30T00:44:11.239+02:00  INFO 2864 --- [http-nio-8081-exec-8] c.t.terranostra.services.UsuarioService  : 🔍 Buscando usuario por email: aliciadantadelrio@gmail.com
2025-05-30T00:44:11.241+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-05-30T00:44:11.307+02:00  INFO 2864 --- [http-nio-8081-exec-8] c.t.t.controllers.UsuarioController      : ✅ Usuario encontrado: UsuarioDto(id=51, nombre=Alicia, apellido=Danta Del Rio, email=aliciadantadelrio@gmail.com, contrasenia=$2a$10$lYKABJx.C0utxdP74UT4i.f1MfFJ9kDL4CEJVgOm4hG2PAz8aeHa6, telefono=null, direccion=null, correoVerificado=true, fechaRegistro=2025-05-30T00:42:56, fechaModificacion=null, rol=ROLE_USER)
2025-05-30T00:44:11.310+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:44:11.311+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UsuarioDto(id=51, nombre=Alicia, apellido=Danta Del Rio, email=aliciadantadelrio@gmail.com, contrase (truncated)...]
2025-05-30T00:44:11.311+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:44:35.988+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T00:44:35.989+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:44:35.989+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T00:44:35.989+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T00:44:35.989+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T00:44:36.080+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T00:44:36.315+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:44:36.528+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T00:44:36.555+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:44:47.412+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-05-30T00:44:47.413+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:44:47.413+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-05-30T00:44:47.413+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-05-30T00:44:47.414+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.AuthController#inicioSesion(LoginDto)
2025-05-30T00:44:47.417+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginDto(email=ballesterospereze@gmail.com, contrasenia=123456)]
2025-05-30T00:44:47.418+02:00  INFO 2864 --- [http-nio-8081-exec-4] c.t.t.controllers.AuthController         : 🔐 Intento de inicio de sesión para el usuario: ballesterospereze@gmail.com
2025-05-30T00:44:47.418+02:00  INFO 2864 --- [http-nio-8081-exec-4] c.tfg.terranostra.services.AuthService   : 📩 Intentando autenticar usuario con email: ballesterospereze@gmail.com
2025-05-30T00:44:47.419+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-05-30T00:44:47.517+02:00  INFO 2864 --- [http-nio-8081-exec-4] c.tfg.terranostra.services.AuthService   : 🔎 ¿Las contraseñas coinciden? true
2025-05-30T00:44:47.521+02:00  INFO 2864 --- [http-nio-8081-exec-4] c.tfg.terranostra.services.AuthService   : 🔐 Usuario autenticado correctamente en SecurityContext: ballesterospereze@gmail.com
2025-05-30T00:44:47.521+02:00  INFO 2864 --- [http-nio-8081-exec-4] c.t.t.controllers.AuthController         : ✅ Inicio de sesión exitoso para el usuario: ballesterospereze@gmail.com
2025-05-30T00:44:47.522+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T00:44:47.522+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrasen (truncated)...]
2025-05-30T00:44:47.523+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:44:49.223+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T00:44:49.223+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:44:49.223+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T00:44:49.223+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T00:44:49.224+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T00:44:49.276+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T00:44:49.282+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T00:44:49.282+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:44:49.283+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T00:44:49.283+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T00:44:49.283+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T00:44:49.346+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T00:44:49.435+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T00:44:49.453+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T00:44:49.470+02:00  INFO 2864 --- [http-nio-8081-exec-6] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T00:44:49.471+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T00:44:49.471+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T00:44:49.472+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:44:49.479+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:44:49.699+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T00:44:49.726+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:45:02.209+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T00:45:02.209+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:45:02.209+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T00:45:02.209+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T00:45:02.210+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T00:45:02.210+02:00  INFO 2864 --- [http-nio-8081-exec-7] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T00:45:02.259+02:00  INFO 2864 --- [http-nio-8081-exec-7] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T00:45:02.260+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T00:45:02.327+02:00  INFO 2864 --- [http-nio-8081-exec-7] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 2
2025-05-30T00:45:02.328+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:45:02.328+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T00:45:02.329+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:45:02.452+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T00:45:02.452+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:45:02.453+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T00:45:02.453+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T00:45:02.453+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T00:45:02.454+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/categorias
2025-05-30T00:45:02.455+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:45:02.455+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/categorias
2025-05-30T00:45:02.455+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/categorias", parameters={}
2025-05-30T00:45:02.455+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#obtenerCategorias()
2025-05-30T00:45:02.456+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:45:02.457+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Suplementos Naturales, Tés e Infusiones Naturales, Superalimentos, Alimentación Saludable, Cosmétic (truncated)...]
2025-05-30T00:45:02.458+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:45:02.467+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T00:45:02.467+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:45:02.468+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T00:45:02.468+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T00:45:02.468+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T00:45:02.469+02:00  INFO 2864 --- [http-nio-8081-exec-1] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T00:45:02.500+02:00  INFO 2864 --- [http-nio-8081-exec-1] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T00:45:02.501+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T00:45:02.509+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T00:45:02.521+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T00:45:02.522+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:45:02.522+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T00:45:02.522+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T00:45:02.523+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T00:45:02.573+02:00  INFO 2864 --- [http-nio-8081-exec-1] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 2
2025-05-30T00:45:02.574+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:45:02.574+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T00:45:02.575+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:45:02.579+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T00:45:02.660+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T00:45:02.681+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T00:45:02.698+02:00  INFO 2864 --- [http-nio-8081-exec-9] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T00:45:02.698+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T00:45:02.698+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T00:45:02.699+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:45:02.705+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T00:45:02.706+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:45:02.706+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T00:45:02.706+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T00:45:02.706+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T00:45:02.731+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:45:02.742+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T00:45:02.812+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T00:45:02.832+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T00:45:02.850+02:00  INFO 2864 --- [http-nio-8081-exec-2] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T00:45:02.851+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T00:45:02.851+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T00:45:02.852+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:45:02.921+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T00:45:02.947+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:45:12.216+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing DELETE /api/usuario/email/ballesterospereze@gmail.com
2025-05-30T00:45:12.216+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:45:12.216+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured DELETE /api/usuario/email/ballesterospereze@gmail.com
2025-05-30T00:45:12.217+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : DELETE "/api/usuario/email/ballesterospereze@gmail.com", parameters={}
2025-05-30T00:45:12.217+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#eliminarUsuarioPorEmail(String)
2025-05-30T00:45:12.218+02:00  INFO 2864 --- [http-nio-8081-exec-4] c.t.t.controllers.UsuarioController      : 🗑️ Intentando eliminar usuario con email: ballesterospereze@gmail.com
2025-05-30T00:45:12.252+02:00  INFO 2864 --- [http-nio-8081-exec-4] c.t.terranostra.services.UsuarioService  : 🗑️ Intentando eliminar usuario con email: ballesterospereze@gmail.com
2025-05-30T00:45:12.253+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-05-30T00:45:12.274+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        count(um1_0.id) 
    from
        usuarios um1_0 
    where
        um1_0.rol=?
2025-05-30T00:45:12.291+02:00  WARN 2864 --- [http-nio-8081-exec-4] c.t.terranostra.services.UsuarioService  : ⛔ No se puede eliminar al último usuario ADMIN: ballesterospereze@gmail.com
2025-05-30T00:45:12.324+02:00 ERROR 2864 --- [http-nio-8081-exec-4] c.t.t.controllers.UsuarioController      : ❌ Error al eliminar usuario con email: ballesterospereze@gmail.com

java.lang.IllegalStateException: No se puede eliminar al último usuario ADMIN.
	at com.tfg.terranostra.services.UsuarioService.lambda$eliminarUsuarioPorEmail$4(UsuarioService.java:175) ~[classes/:na]
	at java.base/java.util.Optional.map(Optional.java:260) ~[na:na]
	at com.tfg.terranostra.services.UsuarioService.eliminarUsuarioPorEmail(UsuarioService.java:169) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.1.jar:6.2.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.1.jar:6.2.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.1.jar:6.2.1]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.1.jar:6.2.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.1.jar:6.2.1]
	at com.tfg.terranostra.services.UsuarioService$$SpringCGLIB$$0.eliminarUsuarioPorEmail(<generated>) ~[classes/:na]
	at com.tfg.terranostra.controllers.UsuarioController.eliminarUsuarioPorEmail(UsuarioController.java:155) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.FrameworkServlet.doDelete(FrameworkServlet.java:936) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:596) ~[tomcat-embed-core-10.1.34.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.34.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.2.jar:6.4.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-05-30T00:45:12.326+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [text/plain, */*, application/json, application/*+json]
2025-05-30T00:45:12.327+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Error al eliminar usuario"]
2025-05-30T00:45:12.327+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-30T00:45:42.954+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing DELETE /api/usuario/email/aliciadantadelrio@gmail.com
2025-05-30T00:45:42.955+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:45:42.955+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured DELETE /api/usuario/email/aliciadantadelrio@gmail.com
2025-05-30T00:45:42.955+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : DELETE "/api/usuario/email/aliciadantadelrio@gmail.com", parameters={}
2025-05-30T00:45:42.955+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#eliminarUsuarioPorEmail(String)
2025-05-30T00:45:42.956+02:00  INFO 2864 --- [http-nio-8081-exec-9] c.t.t.controllers.UsuarioController      : 🗑️ Intentando eliminar usuario con email: aliciadantadelrio@gmail.com
2025-05-30T00:45:42.989+02:00  INFO 2864 --- [http-nio-8081-exec-9] c.t.terranostra.services.UsuarioService  : 🗑️ Intentando eliminar usuario con email: aliciadantadelrio@gmail.com
2025-05-30T00:45:42.991+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-05-30T00:45:43.012+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    left join
        usuarios u1_0 
            on u1_0.id=cm1_0.usuario_id 
    where
        u1_0.id=?
2025-05-30T00:45:43.033+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.direccion_envio,
        pm1_0.email_usuario,
        pm1_0.estado,
        pm1_0.fecha,
        pm1_0.metodo_pago,
        pm1_0.telefono_contacto,
        pm1_0.total,
        pm1_0.usuario_id 
    from
        pedidos pm1_0 
    left join
        usuarios u1_0 
            on u1_0.id=pm1_0.usuario_id 
    where
        u1_0.id=?
2025-05-30T00:45:43.055+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        rm1_0.id,
        rm1_0.comentario,
        rm1_0.fecha,
        rm1_0.producto_id,
        rm1_0.usuario_id,
        rm1_0.valoracion 
    from
        resenas rm1_0 
    left join
        usuarios u1_0 
            on u1_0.id=rm1_0.usuario_id 
    where
        u1_0.id=?
2025-05-30T00:45:43.075+02:00  INFO 2864 --- [http-nio-8081-exec-9] c.t.terranostra.services.UsuarioService  : ✅ Usuario con email aliciadantadelrio@gmail.com y datos relacionados eliminados correctamente
2025-05-30T00:45:43.076+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    delete 
    from
        usuarios 
    where
        id=?
2025-05-30T00:45:43.126+02:00  INFO 2864 --- [http-nio-8081-exec-9] c.t.t.controllers.UsuarioController      : ✅ Usuario eliminado correctamente: aliciadantadelrio@gmail.com
2025-05-30T00:45:43.127+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [text/plain, */*, application/json, application/*+json]
2025-05-30T00:45:43.127+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Usuario eliminado correctamente"]
2025-05-30T00:45:43.128+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:45:43.139+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T00:45:43.139+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:45:43.139+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T00:45:43.139+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T00:45:43.140+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T00:45:43.140+02:00  INFO 2864 --- [http-nio-8081-exec-2] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T00:45:43.173+02:00  INFO 2864 --- [http-nio-8081-exec-2] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T00:45:43.175+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T00:45:43.243+02:00  INFO 2864 --- [http-nio-8081-exec-2] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 1
2025-05-30T00:45:43.244+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:45:43.244+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T00:45:43.245+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:46:46.142+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/usuario/registro
2025-05-30T00:46:46.142+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:46:46.142+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/usuario/registro
2025-05-30T00:46:46.142+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/usuario/registro", parameters={}
2025-05-30T00:46:46.143+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#aniadirUsuario(UsuarioDto)
2025-05-30T00:46:46.145+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UsuarioDto(id=null, nombre=Alicia, apellido=Danta Del Rio, email=aliciadantadelrio@gmail.com, contra (truncated)...]
2025-05-30T00:46:46.145+02:00  INFO 2864 --- [http-nio-8081-exec-6] c.t.t.controllers.UsuarioController      : 📝 Intentando registrar un nuevo usuario: aliciadantadelrio@gmail.com
2025-05-30T00:46:46.180+02:00  INFO 2864 --- [http-nio-8081-exec-6] c.t.terranostra.services.UsuarioService  : 🟢 Intentando registrar un nuevo usuario con email: aliciadantadelrio@gmail.com
2025-05-30T00:46:46.183+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-05-30T00:46:46.262+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    insert 
    into
        usuarios
        (apellido, contrasenia, correo_verificado, direccion, email, fecha_modificacion, fecha_registro, nombre, rol, telefono) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-30T00:46:46.282+02:00  INFO 2864 --- [http-nio-8081-exec-6] c.t.terranostra.services.UsuarioService  : ✅ Usuario registrado con éxito: aliciadantadelrio@gmail.com
2025-05-30T00:46:46.282+02:00  INFO 2864 --- [http-nio-8081-exec-6] c.t.terranostra.services.UsuarioService  : 📨 Iniciando proceso de envío de verificación para: aliciadantadelrio@gmail.com
2025-05-30T00:46:46.284+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-05-30T00:46:46.303+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        cvt1_0.id,
        cvt1_0.email,
        cvt1_0.expiracion,
        cvt1_0.token 
    from
        correo_verificacion_tokens cvt1_0 
    where
        cvt1_0.email=?
2025-05-30T00:46:46.322+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    insert 
    into
        correo_verificacion_tokens
        (email, expiracion, token) 
    values
        (?, ?, ?)
2025-05-30T00:46:46.339+02:00  INFO 2864 --- [http-nio-8081-exec-6] c.t.terranostra.services.UsuarioService  : ✅ Token generado y guardado: f7c7b756-328f-4a29-922d-598bfcd41ca3
2025-05-30T00:46:47.246+02:00  INFO 2864 --- [http-nio-8081-exec-6] c.t.terranostra.services.UsuarioService  : ✉️ Correo de verificación enviado correctamente a aliciadantadelrio@gmail.com
2025-05-30T00:46:47.281+02:00  INFO 2864 --- [http-nio-8081-exec-6] c.t.t.controllers.UsuarioController      : ✅ Usuario registrado con éxito. ID: 52
2025-05-30T00:46:47.282+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-05-30T00:46:47.282+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Usuario registrado con éxito. ID: 52"]
2025-05-30T00:46:47.283+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-05-30T00:46:49.034+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T00:46:49.035+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:46:49.035+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T00:46:49.035+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T00:46:49.035+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T00:46:49.092+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T00:46:49.295+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:46:49.494+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T00:46:49.520+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:46:51.282+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T00:46:51.282+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:46:51.282+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T00:46:51.282+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T00:46:51.283+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T00:46:51.335+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T00:46:51.556+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:46:51.742+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T00:46:51.767+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:46:59.606+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-05-30T00:46:59.606+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:46:59.606+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-05-30T00:46:59.606+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-05-30T00:46:59.606+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.AuthController#inicioSesion(LoginDto)
2025-05-30T00:46:59.608+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginDto(email=ballesterospereze@gmail.com, contrasenia=123456)]
2025-05-30T00:46:59.608+02:00  INFO 2864 --- [http-nio-8081-exec-5] c.t.t.controllers.AuthController         : 🔐 Intento de inicio de sesión para el usuario: ballesterospereze@gmail.com
2025-05-30T00:46:59.609+02:00  INFO 2864 --- [http-nio-8081-exec-5] c.tfg.terranostra.services.AuthService   : 📩 Intentando autenticar usuario con email: ballesterospereze@gmail.com
2025-05-30T00:46:59.610+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-05-30T00:46:59.702+02:00  INFO 2864 --- [http-nio-8081-exec-5] c.tfg.terranostra.services.AuthService   : 🔎 ¿Las contraseñas coinciden? true
2025-05-30T00:46:59.702+02:00  INFO 2864 --- [http-nio-8081-exec-5] c.tfg.terranostra.services.AuthService   : 🔐 Usuario autenticado correctamente en SecurityContext: ballesterospereze@gmail.com
2025-05-30T00:46:59.703+02:00  INFO 2864 --- [http-nio-8081-exec-5] c.t.t.controllers.AuthController         : ✅ Inicio de sesión exitoso para el usuario: ballesterospereze@gmail.com
2025-05-30T00:46:59.703+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T00:46:59.703+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrasen (truncated)...]
2025-05-30T00:46:59.703+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:47:01.424+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T00:47:01.424+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:47:01.424+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T00:47:01.425+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T00:47:01.425+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T00:47:01.475+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T00:47:01.478+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T00:47:01.479+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:47:01.479+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T00:47:01.479+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T00:47:01.479+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T00:47:01.544+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T00:47:01.622+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T00:47:01.641+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T00:47:01.657+02:00  INFO 2864 --- [http-nio-8081-exec-1] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T00:47:01.658+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T00:47:01.658+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T00:47:01.659+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:47:01.887+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:47:02.085+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T00:47:02.110+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:47:03.919+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T00:47:03.920+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:47:03.920+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T00:47:03.920+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T00:47:03.920+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T00:47:03.920+02:00  INFO 2864 --- [http-nio-8081-exec-3] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T00:47:03.971+02:00  INFO 2864 --- [http-nio-8081-exec-3] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T00:47:03.972+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T00:47:04.077+02:00  INFO 2864 --- [http-nio-8081-exec-3] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 2
2025-05-30T00:47:04.077+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:47:04.077+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T00:47:04.078+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:47:04.187+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T00:47:04.187+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:47:04.187+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T00:47:04.187+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T00:47:04.187+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T00:47:04.189+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/categorias
2025-05-30T00:47:04.189+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:47:04.189+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/categorias
2025-05-30T00:47:04.190+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/categorias", parameters={}
2025-05-30T00:47:04.190+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#obtenerCategorias()
2025-05-30T00:47:04.191+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:47:04.191+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Suplementos Naturales, Tés e Infusiones Naturales, Superalimentos, Alimentación Saludable, Cosmétic (truncated)...]
2025-05-30T00:47:04.193+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:47:04.200+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T00:47:04.200+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:47:04.200+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T00:47:04.200+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T00:47:04.201+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T00:47:04.201+02:00  INFO 2864 --- [http-nio-8081-exec-10] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T00:47:04.242+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T00:47:04.251+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T00:47:04.251+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:47:04.252+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T00:47:04.252+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T00:47:04.252+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T00:47:04.271+02:00  INFO 2864 --- [http-nio-8081-exec-10] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T00:47:04.273+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T00:47:04.333+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T00:47:04.404+02:00  INFO 2864 --- [http-nio-8081-exec-10] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 2
2025-05-30T00:47:04.405+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:47:04.406+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T00:47:04.407+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:47:04.442+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T00:47:04.459+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T00:47:04.474+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:47:04.478+02:00  INFO 2864 --- [http-nio-8081-exec-7] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T00:47:04.479+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T00:47:04.479+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T00:47:04.479+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:47:04.485+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T00:47:04.486+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:47:04.486+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T00:47:04.486+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T00:47:04.486+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T00:47:04.520+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T00:47:04.589+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T00:47:04.608+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T00:47:04.625+02:00  INFO 2864 --- [http-nio-8081-exec-5] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T00:47:04.625+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T00:47:04.626+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T00:47:04.627+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:47:04.665+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T00:47:04.690+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:47:14.202+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario/email/aliciadantadelrio@gmail.com
2025-05-30T00:47:14.202+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:47:14.202+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario/email/aliciadantadelrio@gmail.com
2025-05-30T00:47:14.203+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario/email/aliciadantadelrio@gmail.com", parameters={}
2025-05-30T00:47:14.203+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarioPorEmail(String)
2025-05-30T00:47:14.203+02:00  INFO 2864 --- [http-nio-8081-exec-1] c.t.t.controllers.UsuarioController      : 🔎 Buscando usuario con email: aliciadantadelrio@gmail.com
2025-05-30T00:47:14.252+02:00  INFO 2864 --- [http-nio-8081-exec-1] c.t.terranostra.services.UsuarioService  : 🔍 Buscando usuario por email: aliciadantadelrio@gmail.com
2025-05-30T00:47:14.254+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-05-30T00:47:14.319+02:00  INFO 2864 --- [http-nio-8081-exec-1] c.t.t.controllers.UsuarioController      : ✅ Usuario encontrado: UsuarioDto(id=52, nombre=Alicia, apellido=Danta Del Rio, email=aliciadantadelrio@gmail.com, contrasenia=$2a$10$uLEYkaCkyIxZ4DJNjorndumlfijn5Pf6zahrfRCOTAqRhl6TU0rgO, telefono=null, direccion=null, correoVerificado=false, fechaRegistro=2025-05-30T00:46:46, fechaModificacion=null, rol=ROLE_USER)
2025-05-30T00:47:14.319+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:47:14.319+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UsuarioDto(id=52, nombre=Alicia, apellido=Danta Del Rio, email=aliciadantadelrio@gmail.com, contrase (truncated)...]
2025-05-30T00:47:14.320+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:47:14.329+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing PUT /api/usuario/email/aliciadantadelrio@gmail.com
2025-05-30T00:47:14.329+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:47:14.330+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured PUT /api/usuario/email/aliciadantadelrio@gmail.com
2025-05-30T00:47:14.330+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : PUT "/api/usuario/email/aliciadantadelrio@gmail.com", parameters={}
2025-05-30T00:47:14.330+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#actualizarUsuarioPorEmail(String, UsuarioDto)
2025-05-30T00:47:14.333+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UsuarioDto(id=52, nombre=Alicia, apellido=Danta Del Rio, email=aliciadantadelrio@gmail.com, contrase (truncated)...]
2025-05-30T00:47:14.334+02:00  INFO 2864 --- [http-nio-8081-exec-8] c.t.t.controllers.UsuarioController      : ✏️ Intentando actualizar usuario con email: aliciadantadelrio@gmail.com
2025-05-30T00:47:14.367+02:00  INFO 2864 --- [http-nio-8081-exec-8] c.t.terranostra.services.UsuarioService  : 🛠️ Intentando actualizar usuario con email: aliciadantadelrio@gmail.com
2025-05-30T00:47:14.368+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-05-30T00:47:14.387+02:00  INFO 2864 --- [http-nio-8081-exec-8] c.t.terranostra.services.UsuarioService  : ✅ Usuario con email aliciadantadelrio@gmail.com actualizado correctamente
2025-05-30T00:47:14.388+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    update
        usuarios 
    set
        apellido=?,
        contrasenia=?,
        correo_verificado=?,
        direccion=?,
        email=?,
        fecha_modificacion=?,
        fecha_registro=?,
        nombre=?,
        rol=?,
        telefono=? 
    where
        id=?
2025-05-30T00:47:14.438+02:00  INFO 2864 --- [http-nio-8081-exec-8] c.t.t.controllers.UsuarioController      : ✅ Usuario actualizado correctamente: aliciadantadelrio@gmail.com
2025-05-30T00:47:14.438+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-05-30T00:47:14.438+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Usuario actualizado con éxito"]
2025-05-30T00:47:14.439+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:47:14.453+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T00:47:14.453+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:47:14.453+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T00:47:14.453+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T00:47:14.453+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T00:47:14.454+02:00  INFO 2864 --- [http-nio-8081-exec-9] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T00:47:14.503+02:00  INFO 2864 --- [http-nio-8081-exec-9] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T00:47:14.506+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T00:47:14.571+02:00  INFO 2864 --- [http-nio-8081-exec-9] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 2
2025-05-30T00:47:14.571+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:47:14.571+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T00:47:14.572+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:47:22.710+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing DELETE /api/usuario/email/ballesterospereze@gmail.com
2025-05-30T00:47:22.710+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:47:22.710+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured DELETE /api/usuario/email/ballesterospereze@gmail.com
2025-05-30T00:47:22.710+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : DELETE "/api/usuario/email/ballesterospereze@gmail.com", parameters={}
2025-05-30T00:47:22.710+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#eliminarUsuarioPorEmail(String)
2025-05-30T00:47:22.710+02:00  INFO 2864 --- [http-nio-8081-exec-2] c.t.t.controllers.UsuarioController      : 🗑️ Intentando eliminar usuario con email: ballesterospereze@gmail.com
2025-05-30T00:47:22.797+02:00  INFO 2864 --- [http-nio-8081-exec-2] c.t.terranostra.services.UsuarioService  : 🗑️ Intentando eliminar usuario con email: ballesterospereze@gmail.com
2025-05-30T00:47:22.799+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-05-30T00:47:22.866+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        count(um1_0.id) 
    from
        usuarios um1_0 
    where
        um1_0.rol=?
2025-05-30T00:47:22.930+02:00  WARN 2864 --- [http-nio-8081-exec-2] c.t.terranostra.services.UsuarioService  : ⛔ No se puede eliminar al último usuario ADMIN: ballesterospereze@gmail.com
2025-05-30T00:47:22.997+02:00 ERROR 2864 --- [http-nio-8081-exec-2] c.t.t.controllers.UsuarioController      : ❌ Error al eliminar usuario con email: ballesterospereze@gmail.com

java.lang.IllegalStateException: No se puede eliminar al último usuario ADMIN.
	at com.tfg.terranostra.services.UsuarioService.lambda$eliminarUsuarioPorEmail$4(UsuarioService.java:175) ~[classes/:na]
	at java.base/java.util.Optional.map(Optional.java:260) ~[na:na]
	at com.tfg.terranostra.services.UsuarioService.eliminarUsuarioPorEmail(UsuarioService.java:169) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.1.jar:6.2.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.1.jar:6.2.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.1.jar:6.2.1]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.1.jar:6.2.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.1.jar:6.2.1]
	at com.tfg.terranostra.services.UsuarioService$$SpringCGLIB$$0.eliminarUsuarioPorEmail(<generated>) ~[classes/:na]
	at com.tfg.terranostra.controllers.UsuarioController.eliminarUsuarioPorEmail(UsuarioController.java:155) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.FrameworkServlet.doDelete(FrameworkServlet.java:936) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:596) ~[tomcat-embed-core-10.1.34.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.34.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.2.jar:6.4.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-05-30T00:47:22.999+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [text/plain, */*, application/json, application/*+json]
2025-05-30T00:47:22.999+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Error al eliminar usuario"]
2025-05-30T00:47:23.000+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-30T00:47:48.175+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing DELETE /api/usuario/email/aliciadantadelrio@gmail.com
2025-05-30T00:47:48.175+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:47:48.175+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured DELETE /api/usuario/email/aliciadantadelrio@gmail.com
2025-05-30T00:47:48.176+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : DELETE "/api/usuario/email/aliciadantadelrio@gmail.com", parameters={}
2025-05-30T00:47:48.176+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#eliminarUsuarioPorEmail(String)
2025-05-30T00:47:48.177+02:00  INFO 2864 --- [http-nio-8081-exec-9] c.t.t.controllers.UsuarioController      : 🗑️ Intentando eliminar usuario con email: aliciadantadelrio@gmail.com
2025-05-30T00:47:48.210+02:00  INFO 2864 --- [http-nio-8081-exec-9] c.t.terranostra.services.UsuarioService  : 🗑️ Intentando eliminar usuario con email: aliciadantadelrio@gmail.com
2025-05-30T00:47:48.211+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-05-30T00:47:48.230+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        count(um1_0.id) 
    from
        usuarios um1_0 
    where
        um1_0.rol=?
2025-05-30T00:47:48.246+02:00  WARN 2864 --- [http-nio-8081-exec-9] c.t.terranostra.services.UsuarioService  : ⛔ No se puede eliminar al último usuario ADMIN: aliciadantadelrio@gmail.com
2025-05-30T00:47:48.279+02:00 ERROR 2864 --- [http-nio-8081-exec-9] c.t.t.controllers.UsuarioController      : ❌ Error al eliminar usuario con email: aliciadantadelrio@gmail.com

java.lang.IllegalStateException: No se puede eliminar al último usuario ADMIN.
	at com.tfg.terranostra.services.UsuarioService.lambda$eliminarUsuarioPorEmail$4(UsuarioService.java:175) ~[classes/:na]
	at java.base/java.util.Optional.map(Optional.java:260) ~[na:na]
	at com.tfg.terranostra.services.UsuarioService.eliminarUsuarioPorEmail(UsuarioService.java:169) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.1.jar:6.2.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.1.jar:6.2.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.1.jar:6.2.1]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.1.jar:6.2.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.1.jar:6.2.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.1.jar:6.2.1]
	at com.tfg.terranostra.services.UsuarioService$$SpringCGLIB$$0.eliminarUsuarioPorEmail(<generated>) ~[classes/:na]
	at com.tfg.terranostra.controllers.UsuarioController.eliminarUsuarioPorEmail(UsuarioController.java:155) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.FrameworkServlet.doDelete(FrameworkServlet.java:936) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:596) ~[tomcat-embed-core-10.1.34.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.34.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.2.jar:6.4.2]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.2.jar:6.4.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.1.jar:6.2.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.1.jar:6.2.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.34.jar:10.1.34]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-05-30T00:47:48.280+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [text/plain, */*, application/json, application/*+json]
2025-05-30T00:47:48.281+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Error al eliminar usuario"]
2025-05-30T00:47:48.281+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-30T00:48:21.831+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario/email/aliciadantadelrio@gmail.com
2025-05-30T00:48:21.831+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:48:21.831+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario/email/aliciadantadelrio@gmail.com
2025-05-30T00:48:21.832+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario/email/aliciadantadelrio@gmail.com", parameters={}
2025-05-30T00:48:21.832+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarioPorEmail(String)
2025-05-30T00:48:21.833+02:00  INFO 2864 --- [http-nio-8081-exec-2] c.t.t.controllers.UsuarioController      : 🔎 Buscando usuario con email: aliciadantadelrio@gmail.com
2025-05-30T00:48:21.882+02:00  INFO 2864 --- [http-nio-8081-exec-2] c.t.terranostra.services.UsuarioService  : 🔍 Buscando usuario por email: aliciadantadelrio@gmail.com
2025-05-30T00:48:21.885+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-05-30T00:48:21.950+02:00  INFO 2864 --- [http-nio-8081-exec-2] c.t.t.controllers.UsuarioController      : ✅ Usuario encontrado: UsuarioDto(id=52, nombre=Alicia, apellido=Danta Del Rio, email=aliciadantadelrio@gmail.com, contrasenia=$2a$10$uLEYkaCkyIxZ4DJNjorndumlfijn5Pf6zahrfRCOTAqRhl6TU0rgO, telefono=, direccion=, correoVerificado=false, fechaRegistro=2025-05-30T00:46:46, fechaModificacion=2025-05-30T00:47:14.387144, rol=ROLE_ADMIN)
2025-05-30T00:48:21.951+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:48:21.951+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UsuarioDto(id=52, nombre=Alicia, apellido=Danta Del Rio, email=aliciadantadelrio@gmail.com, contrase (truncated)...]
2025-05-30T00:48:21.951+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:48:21.960+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing PUT /api/usuario/email/aliciadantadelrio@gmail.com
2025-05-30T00:48:21.961+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:48:21.961+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured PUT /api/usuario/email/aliciadantadelrio@gmail.com
2025-05-30T00:48:21.961+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : PUT "/api/usuario/email/aliciadantadelrio@gmail.com", parameters={}
2025-05-30T00:48:21.961+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#actualizarUsuarioPorEmail(String, UsuarioDto)
2025-05-30T00:48:21.964+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UsuarioDto(id=52, nombre=Alicia, apellido=Danta Del Rio, email=aliciadantadelrio@gmail.com, contrase (truncated)...]
2025-05-30T00:48:21.964+02:00  INFO 2864 --- [http-nio-8081-exec-3] c.t.t.controllers.UsuarioController      : ✏️ Intentando actualizar usuario con email: aliciadantadelrio@gmail.com
2025-05-30T00:48:21.998+02:00  INFO 2864 --- [http-nio-8081-exec-3] c.t.terranostra.services.UsuarioService  : 🛠️ Intentando actualizar usuario con email: aliciadantadelrio@gmail.com
2025-05-30T00:48:22.000+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-05-30T00:48:22.018+02:00  INFO 2864 --- [http-nio-8081-exec-3] c.t.terranostra.services.UsuarioService  : ✅ Usuario con email aliciadantadelrio@gmail.com actualizado correctamente
2025-05-30T00:48:22.019+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    update
        usuarios 
    set
        apellido=?,
        contrasenia=?,
        correo_verificado=?,
        direccion=?,
        email=?,
        fecha_modificacion=?,
        fecha_registro=?,
        nombre=?,
        rol=?,
        telefono=? 
    where
        id=?
2025-05-30T00:48:22.070+02:00  INFO 2864 --- [http-nio-8081-exec-3] c.t.t.controllers.UsuarioController      : ✅ Usuario actualizado correctamente: aliciadantadelrio@gmail.com
2025-05-30T00:48:22.071+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-05-30T00:48:22.071+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Usuario actualizado con éxito"]
2025-05-30T00:48:22.074+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:48:22.085+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T00:48:22.085+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:48:22.085+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T00:48:22.085+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T00:48:22.085+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T00:48:22.086+02:00  INFO 2864 --- [http-nio-8081-exec-5] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T00:48:22.135+02:00  INFO 2864 --- [http-nio-8081-exec-5] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T00:48:22.137+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T00:48:22.202+02:00  INFO 2864 --- [http-nio-8081-exec-5] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 2
2025-05-30T00:48:22.202+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:48:22.203+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T00:48:22.204+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:48:33.228+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing DELETE /api/usuario/email/aliciadantadelrio@gmail.com
2025-05-30T00:48:33.228+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:48:33.229+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured DELETE /api/usuario/email/aliciadantadelrio@gmail.com
2025-05-30T00:48:33.229+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : DELETE "/api/usuario/email/aliciadantadelrio@gmail.com", parameters={}
2025-05-30T00:48:33.229+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#eliminarUsuarioPorEmail(String)
2025-05-30T00:48:33.229+02:00  INFO 2864 --- [http-nio-8081-exec-7] c.t.t.controllers.UsuarioController      : 🗑️ Intentando eliminar usuario con email: aliciadantadelrio@gmail.com
2025-05-30T00:48:33.262+02:00  INFO 2864 --- [http-nio-8081-exec-7] c.t.terranostra.services.UsuarioService  : 🗑️ Intentando eliminar usuario con email: aliciadantadelrio@gmail.com
2025-05-30T00:48:33.263+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-05-30T00:48:33.284+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    left join
        usuarios u1_0 
            on u1_0.id=cm1_0.usuario_id 
    where
        u1_0.id=?
2025-05-30T00:48:33.303+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.direccion_envio,
        pm1_0.email_usuario,
        pm1_0.estado,
        pm1_0.fecha,
        pm1_0.metodo_pago,
        pm1_0.telefono_contacto,
        pm1_0.total,
        pm1_0.usuario_id 
    from
        pedidos pm1_0 
    left join
        usuarios u1_0 
            on u1_0.id=pm1_0.usuario_id 
    where
        u1_0.id=?
2025-05-30T00:48:33.322+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        rm1_0.id,
        rm1_0.comentario,
        rm1_0.fecha,
        rm1_0.producto_id,
        rm1_0.usuario_id,
        rm1_0.valoracion 
    from
        resenas rm1_0 
    left join
        usuarios u1_0 
            on u1_0.id=rm1_0.usuario_id 
    where
        u1_0.id=?
2025-05-30T00:48:33.340+02:00  INFO 2864 --- [http-nio-8081-exec-7] c.t.terranostra.services.UsuarioService  : ✅ Usuario con email aliciadantadelrio@gmail.com y datos relacionados eliminados correctamente
2025-05-30T00:48:33.340+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    delete 
    from
        usuarios 
    where
        id=?
2025-05-30T00:48:33.389+02:00  INFO 2864 --- [http-nio-8081-exec-7] c.t.t.controllers.UsuarioController      : ✅ Usuario eliminado correctamente: aliciadantadelrio@gmail.com
2025-05-30T00:48:33.389+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [text/plain, */*, application/json, application/*+json]
2025-05-30T00:48:33.389+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Usuario eliminado correctamente"]
2025-05-30T00:48:33.390+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:48:33.401+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T00:48:33.401+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:48:33.401+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T00:48:33.401+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T00:48:33.401+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T00:48:33.401+02:00  INFO 2864 --- [http-nio-8081-exec-6] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T00:48:33.452+02:00  INFO 2864 --- [http-nio-8081-exec-6] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T00:48:33.453+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T00:48:33.521+02:00  INFO 2864 --- [http-nio-8081-exec-6] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 1
2025-05-30T00:48:33.521+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:48:33.522+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T00:48:33.522+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:54:10.144+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T00:54:10.145+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:54:10.145+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T00:54:10.145+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T00:54:10.145+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T00:54:10.146+02:00  INFO 2864 --- [http-nio-8081-exec-2] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T00:54:10.196+02:00  INFO 2864 --- [http-nio-8081-exec-2] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T00:54:10.197+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T00:54:10.261+02:00  INFO 2864 --- [http-nio-8081-exec-2] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 1
2025-05-30T00:54:10.262+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:54:10.262+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T00:54:10.263+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:54:10.456+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T00:54:10.456+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:54:10.457+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T00:54:10.457+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T00:54:10.457+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T00:54:10.461+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/categorias
2025-05-30T00:54:10.462+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:54:10.462+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/categorias
2025-05-30T00:54:10.462+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/categorias", parameters={}
2025-05-30T00:54:10.462+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#obtenerCategorias()
2025-05-30T00:54:10.463+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:54:10.463+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Suplementos Naturales, Tés e Infusiones Naturales, Superalimentos, Alimentación Saludable, Cosmétic (truncated)...]
2025-05-30T00:54:10.464+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:54:10.468+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T00:54:10.468+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:54:10.468+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T00:54:10.469+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T00:54:10.469+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T00:54:10.469+02:00  INFO 2864 --- [http-nio-8081-exec-7] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T00:54:10.519+02:00  INFO 2864 --- [http-nio-8081-exec-7] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T00:54:10.520+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T00:54:10.550+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T00:54:10.603+02:00  INFO 2864 --- [http-nio-8081-exec-7] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 1
2025-05-30T00:54:10.605+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:54:10.605+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T00:54:10.606+02:00 DEBUG 2864 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:54:10.693+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T00:54:10.695+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:54:10.695+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T00:54:10.695+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T00:54:10.696+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T00:54:10.751+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T00:54:10.751+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T00:54:10.828+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T00:54:10.846+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T00:54:10.864+02:00  INFO 2864 --- [http-nio-8081-exec-6] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T00:54:10.865+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T00:54:10.865+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T00:54:10.866+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:54:10.872+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T00:54:10.872+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T00:54:10.873+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T00:54:10.873+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T00:54:10.873+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T00:54:10.915+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T00:54:10.974+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T00:54:10.986+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T00:54:10.995+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T00:54:11.005+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T00:54:11.024+02:00  INFO 2864 --- [http-nio-8081-exec-10] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T00:54:11.024+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T00:54:11.024+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T00:54:11.025+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:07:15.542+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T01:07:15.542+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:07:15.542+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T01:07:15.542+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T01:07:15.542+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T01:07:15.596+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T01:07:15.774+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:07:16.057+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T01:07:16.083+02:00 DEBUG 2864 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:09:22.333+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-05-30T01:09:22.333+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:09:22.333+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-05-30T01:09:22.333+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-05-30T01:09:22.334+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.AuthController#inicioSesion(LoginDto)
2025-05-30T01:09:22.334+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginDto(email=ballesterospereze@gmail.com, contrasenia=1234566)]
2025-05-30T01:09:22.334+02:00  INFO 2864 --- [http-nio-8081-exec-6] c.t.t.controllers.AuthController         : 🔐 Intento de inicio de sesión para el usuario: ballesterospereze@gmail.com
2025-05-30T01:09:22.335+02:00  INFO 2864 --- [http-nio-8081-exec-6] c.tfg.terranostra.services.AuthService   : 📩 Intentando autenticar usuario con email: ballesterospereze@gmail.com
2025-05-30T01:09:22.335+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-05-30T01:09:22.428+02:00  INFO 2864 --- [http-nio-8081-exec-6] c.tfg.terranostra.services.AuthService   : 🔎 ¿Las contraseñas coinciden? false
2025-05-30T01:09:22.429+02:00 ERROR 2864 --- [http-nio-8081-exec-6] c.tfg.terranostra.services.AuthService   : ❌ Contraseña incorrecta para el usuario: ballesterospereze@gmail.com
2025-05-30T01:09:22.429+02:00  WARN 2864 --- [http-nio-8081-exec-6] c.t.t.controllers.AuthController         : ❌ Inicio de sesión fallido: Credenciales incorrectas para el usuario ballesterospereze@gmail.com
2025-05-30T01:09:22.429+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-05-30T01:09:22.429+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["❌ Credenciales incorrectas"]
2025-05-30T01:09:22.430+02:00 DEBUG 2864 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2025-05-30T01:09:31.157+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-05-30T01:09:31.157+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:09:31.157+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-05-30T01:09:31.157+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-05-30T01:09:31.157+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.AuthController#inicioSesion(LoginDto)
2025-05-30T01:09:31.158+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginDto(email=ballesterospereze@gmail.com, contrasenia=123456)]
2025-05-30T01:09:31.158+02:00  INFO 2864 --- [http-nio-8081-exec-3] c.t.t.controllers.AuthController         : 🔐 Intento de inicio de sesión para el usuario: ballesterospereze@gmail.com
2025-05-30T01:09:31.158+02:00  INFO 2864 --- [http-nio-8081-exec-3] c.tfg.terranostra.services.AuthService   : 📩 Intentando autenticar usuario con email: ballesterospereze@gmail.com
2025-05-30T01:09:31.159+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-05-30T01:09:31.251+02:00  INFO 2864 --- [http-nio-8081-exec-3] c.tfg.terranostra.services.AuthService   : 🔎 ¿Las contraseñas coinciden? true
2025-05-30T01:09:31.251+02:00  INFO 2864 --- [http-nio-8081-exec-3] c.tfg.terranostra.services.AuthService   : 🔐 Usuario autenticado correctamente en SecurityContext: ballesterospereze@gmail.com
2025-05-30T01:09:31.251+02:00  INFO 2864 --- [http-nio-8081-exec-3] c.t.t.controllers.AuthController         : ✅ Inicio de sesión exitoso para el usuario: ballesterospereze@gmail.com
2025-05-30T01:09:31.252+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:09:31.252+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrasen (truncated)...]
2025-05-30T01:09:31.252+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:09:32.978+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T01:09:32.979+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:09:32.979+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T01:09:32.979+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T01:09:32.979+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T01:09:33.028+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T01:09:33.114+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:09:33.115+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:09:33.116+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:09:33.116+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:09:33.117+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:09:33.186+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:09:33.218+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:09:33.256+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:09:33.273+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:09:33.291+02:00  INFO 2864 --- [http-nio-8081-exec-8] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:09:33.292+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:09:33.292+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:09:33.293+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:09:33.444+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T01:09:33.468+02:00 DEBUG 2864 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:09:36.224+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T01:09:36.225+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:09:36.225+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T01:09:36.225+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T01:09:36.225+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T01:09:36.225+02:00  INFO 2864 --- [http-nio-8081-exec-1] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T01:09:36.276+02:00  INFO 2864 --- [http-nio-8081-exec-1] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T01:09:36.277+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T01:09:36.343+02:00  INFO 2864 --- [http-nio-8081-exec-1] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 1
2025-05-30T01:09:36.343+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:09:36.343+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T01:09:36.345+02:00 DEBUG 2864 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:09:36.444+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T01:09:36.445+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:09:36.445+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T01:09:36.446+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/categorias
2025-05-30T01:09:36.446+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T01:09:36.446+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:09:36.446+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T01:09:36.446+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/categorias
2025-05-30T01:09:36.446+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/categorias", parameters={}
2025-05-30T01:09:36.446+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#obtenerCategorias()
2025-05-30T01:09:36.447+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:09:36.447+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Suplementos Naturales, Tés e Infusiones Naturales, Superalimentos, Alimentación Saludable, Cosmétic (truncated)...]
2025-05-30T01:09:36.449+02:00 DEBUG 2864 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:09:36.454+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T01:09:36.454+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:09:36.454+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T01:09:36.454+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T01:09:36.455+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T01:09:36.455+02:00  INFO 2864 --- [http-nio-8081-exec-2] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T01:09:36.497+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T01:09:36.502+02:00  INFO 2864 --- [http-nio-8081-exec-2] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T01:09:36.504+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T01:09:36.510+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:09:36.511+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:09:36.511+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:09:36.511+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:09:36.511+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:09:36.559+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:09:36.609+02:00  INFO 2864 --- [http-nio-8081-exec-2] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 1
2025-05-30T01:09:36.610+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:09:36.610+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T01:09:36.612+02:00 DEBUG 2864 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:09:36.643+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:09:36.663+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:09:36.681+02:00  INFO 2864 --- [http-nio-8081-exec-3] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:09:36.682+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:09:36.682+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:09:36.683+02:00 DEBUG 2864 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:09:36.687+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:09:36.687+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:09:36.687+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:09:36.687+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:09:36.688+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:09:36.722+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:09:36.788+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:09:36.805+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:09:36.823+02:00  INFO 2864 --- [http-nio-8081-exec-8] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:09:36.823+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:09:36.823+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:09:36.824+02:00 DEBUG 2864 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:09:37.944+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:09:38.161+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T01:09:38.184+02:00 DEBUG 2864 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:12:15.567+02:00  INFO 2864 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-30T01:12:15.577+02:00  INFO 2864 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-05-30T01:12:15.582+02:00  INFO 2864 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T01:12:15.587+02:00  INFO 2864 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-30T01:12:15.590+02:00  INFO 2864 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-30T01:12:20.389+02:00  INFO 33584 --- [restartedMain] c.t.t.TerraNostraApiApplication          : Starting TerraNostraApiApplication using Java 21.0.5 with PID 33584 (C:\Users\balle\Documents\Proyectos\terra-nostra-api\target\classes started by balle in C:\Users\balle\Documents\Proyectos\terra-nostra-api)
2025-05-30T01:12:20.392+02:00  INFO 33584 --- [restartedMain] c.t.t.TerraNostraApiApplication          : No active profile set, falling back to 1 default profile: "default"
2025-05-30T01:12:20.438+02:00  INFO 33584 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-05-30T01:12:20.438+02:00  INFO 33584 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-05-30T01:12:21.373+02:00  INFO 33584 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-30T01:12:21.483+02:00  INFO 33584 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 94 ms. Found 8 JPA repository interfaces.
2025-05-30T01:12:22.406+02:00  INFO 33584 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-05-30T01:12:22.429+02:00  INFO 33584 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-30T01:12:22.429+02:00  INFO 33584 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-05-30T01:12:22.497+02:00  INFO 33584 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-30T01:12:22.497+02:00  INFO 33584 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2059 ms
2025-05-30T01:12:22.740+02:00  INFO 33584 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-30T01:12:22.829+02:00  INFO 33584 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.4.Final
2025-05-30T01:12:22.883+02:00  INFO 33584 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-30T01:12:23.238+02:00  INFO 33584 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-30T01:12:23.272+02:00  WARN 33584 --- [restartedMain] com.zaxxer.hikari.HikariConfig           : HikariPool-1 - idleTimeout has been set but has no effect because the pool is operating as a fixed size pool.
2025-05-30T01:12:23.273+02:00  INFO 33584 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-30T01:12:28.184+02:00  INFO 33584 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@33cd33f1
2025-05-30T01:12:28.186+02:00  INFO 33584 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-30T01:12:28.253+02:00  WARN 33584 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-30T01:12:28.272+02:00  INFO 33584 --- [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.4.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-30T01:12:29.232+02:00  INFO 33584 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-30T01:12:29.748+02:00  INFO 33584 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T01:12:30.483+02:00 DEBUG 33584 --- [restartedMain] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-05-30T01:12:30.522+02:00  WARN 33584 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-30T01:12:30.751+02:00 DEBUG 33584 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 32 mappings in 'requestMappingHandlerMapping'
2025-05-30T01:12:30.814+02:00 DEBUG 33584 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /static/**] in 'resourceHandlerMapping'
2025-05-30T01:12:30.885+02:00 DEBUG 33584 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-30T01:12:30.997+02:00 DEBUG 33584 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-30T01:12:31.072+02:00 DEBUG 33584 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-30T01:12:31.271+02:00  WARN 33584 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2025-05-30T01:12:31.314+02:00  INFO 33584 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-05-30T01:12:31.325+02:00  INFO 33584 --- [restartedMain] c.t.t.TerraNostraApiApplication          : Started TerraNostraApiApplication in 11.48 seconds (process running for 12.052)
2025-05-30T01:13:33.389+02:00  INFO 33584 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-30T01:13:33.389+02:00  INFO 33584 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-30T01:13:33.389+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-30T01:13:33.389+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-30T01:13:33.389+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-30T01:13:33.390+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@159de12d
2025-05-30T01:13:33.391+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@43851194
2025-05-30T01:13:33.391+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-30T01:13:33.391+02:00  INFO 33584 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-05-30T01:13:33.412+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T01:13:33.420+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:13:33.422+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T01:13:33.426+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T01:13:33.428+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T01:13:33.449+02:00  INFO 33584 --- [http-nio-8081-exec-2] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T01:13:33.511+02:00  INFO 33584 --- [http-nio-8081-exec-2] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T01:13:33.592+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T01:13:33.694+02:00  INFO 33584 --- [http-nio-8081-exec-2] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 1
2025-05-30T01:13:33.714+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:13:33.719+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T01:13:33.777+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:13:34.963+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/categorias
2025-05-30T01:13:34.965+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:13:34.966+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/categorias
2025-05-30T01:13:34.966+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/categorias", parameters={}
2025-05-30T01:13:34.967+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#obtenerCategorias()
2025-05-30T01:13:34.970+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T01:13:34.972+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:13:34.972+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T01:13:34.973+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T01:13:34.973+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T01:13:34.973+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T01:13:34.973+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:13:34.973+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T01:13:34.974+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T01:13:34.974+02:00  INFO 33584 --- [http-nio-8081-exec-3] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T01:13:34.974+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T01:13:34.975+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:13:34.976+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Suplementos Naturales, Tés e Infusiones Naturales, Superalimentos, Alimentación Saludable, Cosmétic (truncated)...]
2025-05-30T01:13:34.981+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:13:35.027+02:00  INFO 33584 --- [http-nio-8081-exec-3] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T01:13:35.031+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T01:13:35.047+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T01:13:35.059+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:13:35.060+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:13:35.061+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:13:35.061+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:13:35.062+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:13:35.113+02:00  INFO 33584 --- [http-nio-8081-exec-3] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 1
2025-05-30T01:13:35.116+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:13:35.116+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T01:13:35.118+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:13:35.134+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:13:35.229+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:13:35.285+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:13:35.305+02:00  INFO 33584 --- [http-nio-8081-exec-5] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:13:35.308+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:13:35.308+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:13:35.310+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:13:35.330+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:13:35.331+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:13:35.331+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:13:35.331+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:13:35.332+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:13:35.367+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:13:35.386+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:13:35.440+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:13:35.460+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:13:35.478+02:00  INFO 33584 --- [http-nio-8081-exec-7] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:13:35.479+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:13:35.480+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:13:35.481+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:13:35.614+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T01:13:35.669+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:15:29.077+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T01:15:29.077+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:15:29.077+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T01:15:29.077+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T01:15:29.077+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T01:15:29.078+02:00  INFO 33584 --- [http-nio-8081-exec-1] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T01:15:29.131+02:00  INFO 33584 --- [http-nio-8081-exec-1] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T01:15:29.133+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T01:15:29.205+02:00  INFO 33584 --- [http-nio-8081-exec-1] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 1
2025-05-30T01:15:29.205+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:15:29.206+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T01:15:29.207+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:15:30.502+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/categorias
2025-05-30T01:15:30.502+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:15:30.503+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/categorias
2025-05-30T01:15:30.503+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/categorias", parameters={}
2025-05-30T01:15:30.504+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#obtenerCategorias()
2025-05-30T01:15:30.505+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:15:30.506+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Suplementos Naturales, Tés e Infusiones Naturales, Superalimentos, Alimentación Saludable, Cosmétic (truncated)...]
2025-05-30T01:15:30.508+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:15:30.514+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T01:15:30.516+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:15:30.516+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T01:15:30.516+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T01:15:30.516+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:15:30.516+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T01:15:30.517+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T01:15:30.517+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T01:15:30.518+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T01:15:30.518+02:00  INFO 33584 --- [http-nio-8081-exec-5] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T01:15:30.518+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T01:15:30.572+02:00  INFO 33584 --- [http-nio-8081-exec-5] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T01:15:30.574+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T01:15:30.589+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T01:15:30.643+02:00  INFO 33584 --- [http-nio-8081-exec-5] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 1
2025-05-30T01:15:30.644+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:15:30.644+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T01:15:30.645+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:15:30.795+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:15:30.796+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:15:30.796+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:15:30.796+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:15:30.797+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:15:30.862+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:15:30.914+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:15:30.934+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:15:30.955+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:15:30.976+02:00  INFO 33584 --- [http-nio-8081-exec-6] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:15:30.976+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:15:30.976+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:15:30.977+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:15:30.994+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:15:30.995+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:15:30.995+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:15:30.995+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:15:30.997+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:15:31.044+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:15:31.159+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:15:31.166+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T01:15:31.186+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:15:31.206+02:00  INFO 33584 --- [http-nio-8081-exec-8] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:15:31.207+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:15:31.207+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:15:31.209+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:15:31.249+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:16:14.325+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/productos/guardar
2025-05-30T01:16:14.325+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:16:14.325+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/productos/guardar
2025-05-30T01:16:14.326+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/productos/guardar", parameters={}
2025-05-30T01:16:14.326+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#agregarProducto(ProductoDto, BindingResult)
2025-05-30T01:16:14.469+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ProductoDto(id=null, nombre=Té blanco Pai Mu Tan ecológico, descripcionBreve=Té blanco ecológico de  (truncated)...]
2025-05-30T01:16:14.494+02:00 ERROR 33584 --- [http-nio-8081-exec-1] c.t.t.controllers.ProductoController     : ❌ Error en la validación de datos: Errores en la validación: La cantidad en stock debe ser positiva 
2025-05-30T01:16:14.495+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-05-30T01:16:14.495+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Errores en la validación: La cantidad en stock debe ser positiva "]
2025-05-30T01:16:14.497+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-05-30T01:19:57.365+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T01:19:57.365+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:19:57.365+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T01:19:57.365+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T01:19:57.366+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T01:19:57.366+02:00  INFO 33584 --- [http-nio-8081-exec-4] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T01:19:57.419+02:00  INFO 33584 --- [http-nio-8081-exec-4] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T01:19:57.419+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T01:19:57.498+02:00  INFO 33584 --- [http-nio-8081-exec-4] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 1
2025-05-30T01:19:57.499+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:19:57.499+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T01:19:57.501+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:19:58.856+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/categorias
2025-05-30T01:19:58.857+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:19:58.858+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/categorias
2025-05-30T01:19:58.859+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/categorias", parameters={}
2025-05-30T01:19:58.859+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#obtenerCategorias()
2025-05-30T01:19:58.862+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:19:58.862+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Suplementos Naturales, Tés e Infusiones Naturales, Superalimentos, Alimentación Saludable, Cosmétic (truncated)...]
2025-05-30T01:19:58.864+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:19:58.867+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T01:19:58.868+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:19:58.868+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T01:19:58.869+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T01:19:58.869+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T01:19:58.870+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T01:19:58.870+02:00  INFO 33584 --- [http-nio-8081-exec-6] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T01:19:58.870+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:19:58.871+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T01:19:58.871+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T01:19:58.871+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T01:19:58.926+02:00  INFO 33584 --- [http-nio-8081-exec-6] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T01:19:58.928+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T01:19:58.933+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T01:19:59.025+02:00  INFO 33584 --- [http-nio-8081-exec-6] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 1
2025-05-30T01:19:59.026+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:19:59.026+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T01:19:59.029+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:19:59.131+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:19:59.243+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:19:59.244+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:19:59.244+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:19:59.245+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:19:59.245+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:19:59.285+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:19:59.364+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:19:59.366+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T01:19:59.385+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:19:59.404+02:00  INFO 33584 --- [http-nio-8081-exec-9] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:19:59.405+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:19:59.405+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:19:59.407+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:19:59.429+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:19:59.450+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:19:59.451+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:19:59.451+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:19:59.452+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:19:59.453+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:19:59.492+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:19:59.567+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:19:59.585+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:19:59.614+02:00  INFO 33584 --- [http-nio-8081-exec-2] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:19:59.614+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:19:59.615+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:19:59.616+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:21:40.553+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/productos/guardar
2025-05-30T01:21:40.554+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:21:40.554+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/productos/guardar
2025-05-30T01:21:40.554+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/productos/guardar", parameters={}
2025-05-30T01:21:40.554+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#agregarProducto(ProductoDto, BindingResult)
2025-05-30T01:21:40.614+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ProductoDto(id=null, nombre=Té blanco Pai Mu Tan ecológico, descripcionBreve=Té blanco ecológico de  (truncated)...]
2025-05-30T01:21:40.615+02:00 ERROR 33584 --- [http-nio-8081-exec-4] c.t.t.controllers.ProductoController     : ❌ Error en la validación de datos: Errores en la validación: La cantidad en stock debe ser positiva 
2025-05-30T01:21:40.616+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-05-30T01:21:40.616+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Errores en la validación: La cantidad en stock debe ser positiva "]
2025-05-30T01:21:40.617+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-05-30T01:21:55.268+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/productos/guardar
2025-05-30T01:21:55.269+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:21:55.269+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/productos/guardar
2025-05-30T01:21:55.269+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/productos/guardar", parameters={}
2025-05-30T01:21:55.269+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#agregarProducto(ProductoDto, BindingResult)
2025-05-30T01:21:55.335+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ProductoDto(id=null, nombre=Té blanco Pai Mu Tan ecológico, descripcionBreve=Té blanco ecológico de  (truncated)...]
2025-05-30T01:21:55.336+02:00  INFO 33584 --- [http-nio-8081-exec-3] c.t.t.controllers.ProductoController     : 📥 Se ha recibido la solicitud para agregar el producto: Té blanco Pai Mu Tan ecológico
2025-05-30T01:21:55.336+02:00  INFO 33584 --- [http-nio-8081-exec-3] c.t.t.services.ProductoService           : 📦 Creando nuevo producto: Té blanco Pai Mu Tan ecológico
2025-05-30T01:21:55.391+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    insert 
    into
        productos
        (categoria, descripcion, descripcion_breve, descuento, fecha_alta, fecha_modificacion, imagen, nombre, precio, stock) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-30T01:21:55.888+02:00  INFO 33584 --- [http-nio-8081-exec-3] c.t.t.services.ProductoService           : ✅ Producto guardado correctamente: Té blanco Pai Mu Tan ecológico
2025-05-30T01:21:55.888+02:00  INFO 33584 --- [http-nio-8081-exec-3] c.t.t.controllers.ProductoController     : ✅ Producto agregado exitosamente: Té blanco Pai Mu Tan ecológico
2025-05-30T01:21:55.891+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:21:55.929+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ProductoDto(id=null, nombre=Té blanco Pai Mu Tan ecológico, descripcionBreve=Té blanco ecológico de  (truncated)...]
2025-05-30T01:21:55.960+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-05-30T01:21:55.999+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T01:21:55.999+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:21:55.999+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T01:21:55.999+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T01:21:55.999+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T01:21:56.052+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T01:21:56.430+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:21:56.677+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T01:21:56.710+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:23:21.916+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing PUT /api/productos/editar/35
2025-05-30T01:23:21.917+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:23:21.917+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured PUT /api/productos/editar/35
2025-05-30T01:23:21.917+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : PUT "/api/productos/editar/35", parameters={}
2025-05-30T01:23:21.918+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#editarProducto(Long, ProductoDto, BindingResult)
2025-05-30T01:23:21.921+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ProductoDto(id=null, nombre=Té blanco Pai Mu Tan, descripcionBreve=Té blanco ecológico de sabor suav (truncated)...]
2025-05-30T01:23:21.977+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T01:23:22.171+02:00  INFO 33584 --- [http-nio-8081-exec-7] c.t.t.services.ProductoService           : ✏ Editando producto: Té blanco Pai Mu Tan
2025-05-30T01:23:22.197+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    update
        productos 
    set
        categoria=?,
        descripcion=?,
        descripcion_breve=?,
        descuento=?,
        fecha_modificacion=?,
        imagen=?,
        nombre=?,
        precio=?,
        stock=? 
    where
        id=?
2025-05-30T01:23:22.549+02:00  INFO 33584 --- [http-nio-8081-exec-7] c.t.t.services.ProductoService           : ✅ Producto actualizado correctamente: Té blanco Pai Mu Tan
2025-05-30T01:23:22.549+02:00  INFO 33584 --- [http-nio-8081-exec-7] c.t.t.controllers.ProductoController     : ✅ Producto actualizado correctamente. ID: 35
2025-05-30T01:23:22.550+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json]
2025-05-30T01:23:22.552+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{mensaje=✅ Producto actualizado correctamente.}]
2025-05-30T01:23:22.554+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:23:22.566+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T01:23:22.566+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:23:22.566+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T01:23:22.566+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T01:23:22.566+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T01:23:22.623+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T01:23:23.686+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:23:23.919+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T01:23:23.948+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:23:25.870+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T01:23:25.870+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:23:25.870+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T01:23:25.870+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T01:23:25.871+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T01:23:25.871+02:00  INFO 33584 --- [http-nio-8081-exec-8] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T01:23:25.924+02:00  INFO 33584 --- [http-nio-8081-exec-8] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T01:23:25.925+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T01:23:25.995+02:00  INFO 33584 --- [http-nio-8081-exec-8] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 1
2025-05-30T01:23:25.996+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:23:25.996+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T01:23:25.997+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:23:26.249+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T01:23:26.249+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:23:26.250+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T01:23:26.250+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T01:23:26.251+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T01:23:26.253+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/categorias
2025-05-30T01:23:26.253+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:23:26.253+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/categorias
2025-05-30T01:23:26.254+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/categorias", parameters={}
2025-05-30T01:23:26.254+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#obtenerCategorias()
2025-05-30T01:23:26.254+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:23:26.255+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Suplementos Naturales, Tés e Infusiones Naturales, Superalimentos, Alimentación Saludable, Cosmétic (truncated)...]
2025-05-30T01:23:26.256+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:23:26.262+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T01:23:26.263+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:23:26.263+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T01:23:26.264+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T01:23:26.264+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T01:23:26.264+02:00  INFO 33584 --- [http-nio-8081-exec-10] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T01:23:26.289+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T01:23:26.319+02:00  INFO 33584 --- [http-nio-8081-exec-10] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T01:23:26.321+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T01:23:26.415+02:00  INFO 33584 --- [http-nio-8081-exec-10] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 1
2025-05-30T01:23:26.415+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:23:26.416+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T01:23:26.417+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:23:26.509+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:23:26.564+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:23:26.565+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:23:26.565+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:23:26.566+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:23:26.567+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:23:26.606+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:23:26.682+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:23:26.706+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:23:26.726+02:00  INFO 33584 --- [http-nio-8081-exec-3] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:23:26.727+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:23:26.727+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:23:26.729+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:23:26.740+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:23:26.740+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:23:26.740+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:23:26.741+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:23:26.741+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:23:26.784+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T01:23:26.797+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:23:26.821+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:23:26.874+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:23:26.894+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:23:26.914+02:00  INFO 33584 --- [http-nio-8081-exec-5] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:23:26.915+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:23:26.915+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:23:26.916+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:23:53.317+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing PUT /api/productos/editar/35
2025-05-30T01:23:53.317+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:23:53.317+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured PUT /api/productos/editar/35
2025-05-30T01:23:53.317+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : PUT "/api/productos/editar/35", parameters={}
2025-05-30T01:23:53.318+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#editarProducto(Long, ProductoDto, BindingResult)
2025-05-30T01:23:53.319+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ProductoDto(id=null, nombre=Té blanco Pai Mu Tan, descripcionBreve=Té blanco ecológico de sabor suav (truncated)...]
2025-05-30T01:23:53.374+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T01:23:53.566+02:00  INFO 33584 --- [http-nio-8081-exec-7] c.t.t.services.ProductoService           : ✏ Editando producto: Té blanco Pai Mu Tan
2025-05-30T01:23:53.586+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    update
        productos 
    set
        categoria=?,
        descripcion=?,
        descripcion_breve=?,
        descuento=?,
        fecha_modificacion=?,
        imagen=?,
        nombre=?,
        precio=?,
        stock=? 
    where
        id=?
2025-05-30T01:23:53.898+02:00  INFO 33584 --- [http-nio-8081-exec-7] c.t.t.services.ProductoService           : ✅ Producto actualizado correctamente: Té blanco Pai Mu Tan
2025-05-30T01:23:53.898+02:00  INFO 33584 --- [http-nio-8081-exec-7] c.t.t.controllers.ProductoController     : ✅ Producto actualizado correctamente. ID: 35
2025-05-30T01:23:53.899+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json]
2025-05-30T01:23:53.899+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{mensaje=✅ Producto actualizado correctamente.}]
2025-05-30T01:23:53.899+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:23:53.909+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T01:23:53.909+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:23:53.909+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T01:23:53.909+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T01:23:53.909+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T01:23:53.968+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T01:23:54.331+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:23:54.589+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T01:23:54.620+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:25:13.712+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T01:25:13.713+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:25:13.713+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T01:25:13.713+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T01:25:13.713+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T01:25:13.713+02:00  INFO 33584 --- [http-nio-8081-exec-10] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T01:25:13.767+02:00  INFO 33584 --- [http-nio-8081-exec-10] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T01:25:13.768+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T01:25:13.839+02:00  INFO 33584 --- [http-nio-8081-exec-10] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 1
2025-05-30T01:25:13.840+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:25:13.841+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T01:25:13.842+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:25:14.035+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/categorias
2025-05-30T01:25:14.035+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T01:25:14.035+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:25:14.035+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:25:14.035+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/categorias
2025-05-30T01:25:14.035+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T01:25:14.036+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/categorias", parameters={}
2025-05-30T01:25:14.036+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T01:25:14.036+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#obtenerCategorias()
2025-05-30T01:25:14.036+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T01:25:14.037+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:25:14.037+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Suplementos Naturales, Tés e Infusiones Naturales, Superalimentos, Alimentación Saludable, Cosmétic (truncated)...]
2025-05-30T01:25:14.038+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:25:14.045+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T01:25:14.045+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:25:14.046+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T01:25:14.046+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T01:25:14.046+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T01:25:14.047+02:00  INFO 33584 --- [http-nio-8081-exec-6] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T01:25:14.081+02:00  INFO 33584 --- [http-nio-8081-exec-6] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T01:25:14.082+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T01:25:14.091+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T01:25:14.166+02:00  INFO 33584 --- [http-nio-8081-exec-6] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 1
2025-05-30T01:25:14.167+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:25:14.167+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T01:25:14.168+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:25:14.282+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:25:14.282+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:25:14.282+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:25:14.282+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:25:14.283+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:25:14.327+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:25:14.336+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:25:14.406+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:25:14.425+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:25:14.444+02:00  INFO 33584 --- [http-nio-8081-exec-5] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:25:14.444+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:25:14.445+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:25:14.446+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:25:14.455+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:25:14.455+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:25:14.456+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:25:14.456+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:25:14.457+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:25:14.493+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:25:14.567+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:25:14.583+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T01:25:14.587+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:25:14.604+02:00  INFO 33584 --- [http-nio-8081-exec-7] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:25:14.605+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:25:14.605+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:25:14.607+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:25:14.613+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:25:18.486+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T01:25:18.486+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:25:18.486+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T01:25:18.486+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T01:25:18.486+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T01:25:18.487+02:00  INFO 33584 --- [http-nio-8081-exec-9] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T01:25:18.538+02:00  INFO 33584 --- [http-nio-8081-exec-9] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T01:25:18.540+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T01:25:18.611+02:00  INFO 33584 --- [http-nio-8081-exec-9] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 1
2025-05-30T01:25:18.611+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:25:18.611+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T01:25:18.612+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:25:18.736+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T01:25:18.736+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/categorias
2025-05-30T01:25:18.737+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:25:18.737+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:25:18.737+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T01:25:18.737+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/categorias
2025-05-30T01:25:18.737+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T01:25:18.737+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/categorias", parameters={}
2025-05-30T01:25:18.738+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#obtenerCategorias()
2025-05-30T01:25:18.738+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T01:25:18.740+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:25:18.740+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Suplementos Naturales, Tés e Infusiones Naturales, Superalimentos, Alimentación Saludable, Cosmétic (truncated)...]
2025-05-30T01:25:18.742+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:25:18.744+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T01:25:18.745+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:25:18.745+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T01:25:18.745+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T01:25:18.745+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T01:25:18.745+02:00  INFO 33584 --- [http-nio-8081-exec-4] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T01:25:18.796+02:00  INFO 33584 --- [http-nio-8081-exec-4] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T01:25:18.798+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T01:25:18.814+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T01:25:18.833+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:25:18.833+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:25:18.833+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:25:18.833+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:25:18.834+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:25:18.880+02:00  INFO 33584 --- [http-nio-8081-exec-4] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 1
2025-05-30T01:25:18.882+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:25:18.882+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T01:25:18.883+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:25:18.898+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:25:18.939+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T01:25:18.939+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:25:18.940+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T01:25:18.940+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T01:25:18.941+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T01:25:18.941+02:00  INFO 33584 --- [http-nio-8081-exec-3] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T01:25:18.997+02:00  INFO 33584 --- [http-nio-8081-exec-3] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T01:25:18.998+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T01:25:19.008+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:25:19.025+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:25:19.033+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:25:19.043+02:00  INFO 33584 --- [http-nio-8081-exec-10] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:25:19.044+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:25:19.044+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:25:19.045+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:25:19.055+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:25:19.056+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:25:19.056+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:25:19.056+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:25:19.058+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:25:19.071+02:00  INFO 33584 --- [http-nio-8081-exec-3] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 1
2025-05-30T01:25:19.071+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:25:19.071+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T01:25:19.074+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:25:19.093+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:25:19.166+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:25:19.185+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:25:19.202+02:00  INFO 33584 --- [http-nio-8081-exec-6] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:25:19.203+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:25:19.203+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:25:19.205+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:25:19.303+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/categorias
2025-05-30T01:25:19.303+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:25:19.305+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/categorias
2025-05-30T01:25:19.305+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/categorias", parameters={}
2025-05-30T01:25:19.306+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T01:25:19.306+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#obtenerCategorias()
2025-05-30T01:25:19.306+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:25:19.307+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T01:25:19.307+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T01:25:19.307+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T01:25:19.308+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:25:19.308+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Suplementos Naturales, Tés e Infusiones Naturales, Superalimentos, Alimentación Saludable, Cosmétic (truncated)...]
2025-05-30T01:25:19.310+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:25:19.318+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T01:25:19.319+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:25:19.319+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T01:25:19.320+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T01:25:19.320+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T01:25:19.321+02:00  INFO 33584 --- [http-nio-8081-exec-2] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T01:25:19.347+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T01:25:19.357+02:00  INFO 33584 --- [http-nio-8081-exec-2] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T01:25:19.360+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T01:25:19.369+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T01:25:19.407+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:25:19.416+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:25:19.417+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:25:19.417+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:25:19.417+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:25:19.418+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:25:19.436+02:00  INFO 33584 --- [http-nio-8081-exec-2] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 1
2025-05-30T01:25:19.437+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:25:19.438+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T01:25:19.439+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:25:19.459+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:25:19.538+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:25:19.557+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:25:19.585+02:00  INFO 33584 --- [http-nio-8081-exec-9] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:25:19.586+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:25:19.587+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:25:19.588+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:25:19.596+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:25:19.596+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:25:19.596+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:25:19.597+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:25:19.597+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:25:19.635+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:25:19.643+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:25:19.709+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:25:19.733+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:25:19.752+02:00  INFO 33584 --- [http-nio-8081-exec-1] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:25:19.754+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:25:19.754+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:25:19.757+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:25:19.922+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T01:25:19.950+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:27:30.011+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T01:27:30.011+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:27:30.011+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T01:27:30.011+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T01:27:30.011+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T01:27:30.011+02:00  INFO 33584 --- [http-nio-8081-exec-4] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T01:27:30.064+02:00  INFO 33584 --- [http-nio-8081-exec-4] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T01:27:30.065+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T01:27:30.138+02:00  INFO 33584 --- [http-nio-8081-exec-4] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 1
2025-05-30T01:27:30.138+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:27:30.138+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T01:27:30.139+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:27:30.274+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T01:27:30.274+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:27:30.275+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T01:27:30.275+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T01:27:30.275+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T01:27:30.284+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/categorias
2025-05-30T01:27:30.284+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:27:30.284+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/categorias
2025-05-30T01:27:30.284+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/categorias", parameters={}
2025-05-30T01:27:30.286+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#obtenerCategorias()
2025-05-30T01:27:30.287+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:27:30.287+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Suplementos Naturales, Tés e Infusiones Naturales, Superalimentos, Alimentación Saludable, Cosmétic (truncated)...]
2025-05-30T01:27:30.289+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:27:30.293+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T01:27:30.293+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:27:30.293+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T01:27:30.294+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T01:27:30.294+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T01:27:30.295+02:00  INFO 33584 --- [http-nio-8081-exec-9] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T01:27:30.330+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T01:27:30.348+02:00  INFO 33584 --- [http-nio-8081-exec-9] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T01:27:30.351+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T01:27:30.353+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:27:30.354+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:27:30.355+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:27:30.357+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:27:30.360+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:27:30.408+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:27:30.444+02:00  INFO 33584 --- [http-nio-8081-exec-9] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 1
2025-05-30T01:27:30.445+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:27:30.446+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T01:27:30.447+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:27:30.565+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:27:30.585+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:27:30.604+02:00  INFO 33584 --- [http-nio-8081-exec-1] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:27:30.605+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:27:30.605+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:27:30.607+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:27:30.611+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:27:30.614+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:27:30.614+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:27:30.614+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:27:30.615+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:27:30.615+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:27:30.652+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:27:30.724+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:27:30.744+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:27:30.762+02:00  INFO 33584 --- [http-nio-8081-exec-7] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:27:30.763+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:27:30.763+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:27:30.763+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:27:30.890+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T01:27:30.919+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:27:59.245+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T01:27:59.245+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:27:59.245+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T01:27:59.245+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T01:27:59.245+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T01:27:59.246+02:00  INFO 33584 --- [http-nio-8081-exec-3] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T01:27:59.299+02:00  INFO 33584 --- [http-nio-8081-exec-3] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T01:27:59.300+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T01:27:59.369+02:00  INFO 33584 --- [http-nio-8081-exec-3] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 1
2025-05-30T01:27:59.370+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:27:59.370+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T01:27:59.372+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:27:59.504+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T01:27:59.505+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:27:59.505+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T01:27:59.505+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T01:27:59.505+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T01:27:59.507+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/categorias
2025-05-30T01:27:59.507+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:27:59.507+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/categorias
2025-05-30T01:27:59.507+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/categorias", parameters={}
2025-05-30T01:27:59.507+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#obtenerCategorias()
2025-05-30T01:27:59.508+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:27:59.509+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Suplementos Naturales, Tés e Infusiones Naturales, Superalimentos, Alimentación Saludable, Cosmétic (truncated)...]
2025-05-30T01:27:59.509+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:27:59.521+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T01:27:59.522+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:27:59.522+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T01:27:59.522+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T01:27:59.522+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T01:27:59.523+02:00  INFO 33584 --- [http-nio-8081-exec-10] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T01:27:59.562+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T01:27:59.580+02:00  INFO 33584 --- [http-nio-8081-exec-10] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T01:27:59.582+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T01:27:59.589+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:27:59.589+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:27:59.590+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:27:59.590+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:27:59.590+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:27:59.634+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:27:59.694+02:00  INFO 33584 --- [http-nio-8081-exec-10] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 1
2025-05-30T01:27:59.695+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:27:59.695+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T01:27:59.696+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:27:59.760+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:27:59.779+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:27:59.801+02:00  INFO 33584 --- [http-nio-8081-exec-9] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:27:59.802+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:27:59.802+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:27:59.804+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:27:59.804+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:27:59.810+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:27:59.811+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:27:59.811+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:27:59.811+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:27:59.811+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:27:59.848+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:27:59.922+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:27:59.942+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:27:59.959+02:00  INFO 33584 --- [http-nio-8081-exec-1] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:27:59.960+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:27:59.960+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:27:59.961+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:28:00.053+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T01:28:00.085+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:30:49.641+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /pedidos/listar
2025-05-30T01:30:49.641+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:30:49.642+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id ACF2A4E1903A22550BDB4A37DF021BA9
2025-05-30T01:30:49.642+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /pedidos/listar
2025-05-30T01:30:49.643+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/pedidos/listar", parameters={}
2025-05-30T01:30:49.644+02:00  WARN 33584 --- [http-nio-8081-exec-4] o.s.web.servlet.PageNotFound             : No mapping for GET /pedidos/listar
2025-05-30T01:30:49.648+02:00  WARN 33584 --- [http-nio-8081-exec-4] o.s.web.servlet.PageNotFound             : No endpoint GET /pedidos/listar.
2025-05-30T01:30:49.649+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /pedidos/listar.]
2025-05-30T01:30:49.649+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-05-30T01:30:49.658+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-05-30T01:30:49.659+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-05-30T01:30:49.659+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-05-30T01:30:49.661+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)
2025-05-30T01:30:49.684+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, text/html;q=0.8]
2025-05-30T01:30:49.695+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-05-30T01:30:49.696+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:31:07.619+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T01:31:07.620+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:31:07.620+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T01:31:07.620+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T01:31:07.620+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T01:31:07.620+02:00  INFO 33584 --- [http-nio-8081-exec-10] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T01:31:07.675+02:00  INFO 33584 --- [http-nio-8081-exec-10] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T01:31:07.676+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T01:31:07.746+02:00  INFO 33584 --- [http-nio-8081-exec-10] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 1
2025-05-30T01:31:07.747+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:31:07.747+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T01:31:07.748+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:31:08.020+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T01:31:08.020+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:31:08.020+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T01:31:08.020+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T01:31:08.021+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T01:31:08.024+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/categorias
2025-05-30T01:31:08.025+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:31:08.025+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/categorias
2025-05-30T01:31:08.026+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/categorias", parameters={}
2025-05-30T01:31:08.026+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#obtenerCategorias()
2025-05-30T01:31:08.027+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:31:08.028+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Suplementos Naturales, Tés e Infusiones Naturales, Superalimentos, Alimentación Saludable, Cosmétic (truncated)...]
2025-05-30T01:31:08.029+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:31:08.035+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T01:31:08.036+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:31:08.036+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T01:31:08.036+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T01:31:08.037+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T01:31:08.037+02:00  INFO 33584 --- [http-nio-8081-exec-5] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T01:31:08.076+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T01:31:08.089+02:00  INFO 33584 --- [http-nio-8081-exec-5] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T01:31:08.090+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T01:31:08.177+02:00  INFO 33584 --- [http-nio-8081-exec-5] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 1
2025-05-30T01:31:08.178+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:31:08.178+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T01:31:08.180+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:31:08.315+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:31:08.388+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:31:08.389+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:31:08.389+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:31:08.389+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:31:08.390+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:31:08.434+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:31:08.514+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:31:08.533+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:31:08.551+02:00  INFO 33584 --- [http-nio-8081-exec-6] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:31:08.552+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:31:08.552+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:31:08.553+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:31:08.560+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:31:08.560+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:31:08.561+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:31:08.561+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:31:08.561+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:31:08.613+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T01:31:08.634+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:31:08.648+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:31:08.728+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:31:08.752+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:31:08.772+02:00  INFO 33584 --- [http-nio-8081-exec-7] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:31:08.773+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:31:08.773+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:31:08.774+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:31:20.332+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T01:31:20.333+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:31:20.333+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T01:31:20.333+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T01:31:20.333+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T01:31:20.333+02:00  INFO 33584 --- [http-nio-8081-exec-3] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T01:31:20.387+02:00  INFO 33584 --- [http-nio-8081-exec-3] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T01:31:20.388+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T01:31:20.459+02:00  INFO 33584 --- [http-nio-8081-exec-3] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 1
2025-05-30T01:31:20.459+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:31:20.459+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T01:31:20.460+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:31:20.775+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T01:31:20.775+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:31:20.775+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T01:31:20.775+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T01:31:20.776+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T01:31:20.780+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/categorias
2025-05-30T01:31:20.780+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:31:20.781+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/categorias
2025-05-30T01:31:20.781+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/categorias", parameters={}
2025-05-30T01:31:20.781+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#obtenerCategorias()
2025-05-30T01:31:20.782+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:31:20.782+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Suplementos Naturales, Tés e Infusiones Naturales, Superalimentos, Alimentación Saludable, Cosmétic (truncated)...]
2025-05-30T01:31:20.784+02:00 DEBUG 33584 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:31:20.793+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T01:31:20.794+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:31:20.794+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T01:31:20.794+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T01:31:20.795+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T01:31:20.796+02:00  INFO 33584 --- [http-nio-8081-exec-1] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T01:31:20.818+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T01:31:20.851+02:00  INFO 33584 --- [http-nio-8081-exec-1] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T01:31:20.853+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T01:31:20.948+02:00  INFO 33584 --- [http-nio-8081-exec-1] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 1
2025-05-30T01:31:20.948+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:31:20.948+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T01:31:20.949+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:31:21.124+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:31:21.136+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:31:21.136+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:31:21.137+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:31:21.137+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:31:21.138+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:31:21.198+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:31:21.291+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:31:21.314+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:31:21.334+02:00  INFO 33584 --- [http-nio-8081-exec-5] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:31:21.335+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:31:21.335+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:31:21.338+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:31:21.348+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:31:21.348+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:31:21.348+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:31:21.348+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:31:21.349+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:31:21.387+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:31:21.458+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T01:31:21.487+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:31:21.508+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:31:21.526+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:31:21.544+02:00  INFO 33584 --- [http-nio-8081-exec-6] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:31:21.544+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:31:21.544+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:31:21.545+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:31:29.965+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T01:31:29.966+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:31:29.966+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T01:31:29.966+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T01:31:29.966+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T01:31:30.019+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T01:31:30.249+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:31:30.476+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T01:31:30.504+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:33:05.520+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T01:33:05.520+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:33:05.520+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T01:33:05.520+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T01:33:05.520+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T01:33:05.521+02:00  INFO 33584 --- [http-nio-8081-exec-4] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T01:33:05.572+02:00  INFO 33584 --- [http-nio-8081-exec-4] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T01:33:05.574+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T01:33:05.644+02:00  INFO 33584 --- [http-nio-8081-exec-4] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 1
2025-05-30T01:33:05.644+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:33:05.644+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T01:33:05.646+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:33:05.933+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T01:33:05.933+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/categorias
2025-05-30T01:33:05.933+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:33:05.933+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:33:05.933+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T01:33:05.933+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/categorias
2025-05-30T01:33:05.934+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T01:33:05.934+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/categorias", parameters={}
2025-05-30T01:33:05.934+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T01:33:05.934+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#obtenerCategorias()
2025-05-30T01:33:05.935+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:33:05.935+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Suplementos Naturales, Tés e Infusiones Naturales, Superalimentos, Alimentación Saludable, Cosmétic (truncated)...]
2025-05-30T01:33:05.936+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:33:05.948+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T01:33:05.948+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:33:05.948+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T01:33:05.949+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T01:33:05.949+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T01:33:05.949+02:00  INFO 33584 --- [http-nio-8081-exec-8] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T01:33:06.007+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T01:33:06.020+02:00  INFO 33584 --- [http-nio-8081-exec-8] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T01:33:06.022+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T01:33:06.115+02:00  INFO 33584 --- [http-nio-8081-exec-8] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 1
2025-05-30T01:33:06.115+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:33:06.115+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T01:33:06.116+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:33:06.232+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:33:06.305+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:33:06.306+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:33:06.306+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:33:06.306+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:33:06.307+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:33:06.348+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:33:06.449+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:33:06.472+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:33:06.494+02:00  INFO 33584 --- [http-nio-8081-exec-2] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:33:06.495+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:33:06.495+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:33:06.496+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:33:06.502+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:33:06.503+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:33:06.503+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:33:06.503+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:33:06.503+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:33:06.556+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T01:33:06.566+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:33:06.586+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:33:06.643+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:33:06.662+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:33:06.682+02:00  INFO 33584 --- [http-nio-8081-exec-7] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:33:06.684+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:33:06.684+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:33:06.685+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:37:12.070+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T01:37:12.070+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:37:12.070+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T01:37:12.070+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T01:37:12.070+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T01:37:12.071+02:00  INFO 33584 --- [http-nio-8081-exec-9] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T01:37:12.123+02:00  INFO 33584 --- [http-nio-8081-exec-9] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T01:37:12.124+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T01:37:12.194+02:00  INFO 33584 --- [http-nio-8081-exec-9] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 1
2025-05-30T01:37:12.194+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:37:12.194+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T01:37:12.195+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:37:12.641+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/categorias
2025-05-30T01:37:12.641+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T01:37:12.641+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:37:12.641+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:37:12.641+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T01:37:12.641+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/categorias
2025-05-30T01:37:12.641+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T01:37:12.641+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/categorias", parameters={}
2025-05-30T01:37:12.642+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T01:37:12.642+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#obtenerCategorias()
2025-05-30T01:37:12.643+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:37:12.643+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Suplementos Naturales, Tés e Infusiones Naturales, Superalimentos, Alimentación Saludable, Cosmétic (truncated)...]
2025-05-30T01:37:12.645+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:37:12.649+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T01:37:12.650+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:37:12.650+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T01:37:12.650+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T01:37:12.650+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T01:37:12.651+02:00  INFO 33584 --- [http-nio-8081-exec-6] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T01:37:12.697+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T01:37:12.701+02:00  INFO 33584 --- [http-nio-8081-exec-6] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T01:37:12.703+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T01:37:12.780+02:00  INFO 33584 --- [http-nio-8081-exec-6] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 1
2025-05-30T01:37:12.781+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:37:12.781+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T01:37:12.782+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:37:12.913+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:37:12.920+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:37:12.920+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:37:12.920+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:37:12.920+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:37:12.921+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:37:12.977+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:37:13.079+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:37:13.112+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:37:13.131+02:00  INFO 33584 --- [http-nio-8081-exec-7] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:37:13.133+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:37:13.134+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:37:13.138+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:37:13.147+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:37:13.147+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:37:13.148+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:37:13.148+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:37:13.148+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:37:13.185+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:37:13.211+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T01:37:13.243+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:37:13.272+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:37:13.291+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:37:13.311+02:00  INFO 33584 --- [http-nio-8081-exec-1] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:37:13.311+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:37:13.311+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:37:13.312+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:37:47.518+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing PUT /api/productos/editar/35
2025-05-30T01:37:47.518+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:37:47.518+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured PUT /api/productos/editar/35
2025-05-30T01:37:47.518+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : PUT "/api/productos/editar/35", parameters={}
2025-05-30T01:37:47.519+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#editarProducto(Long, ProductoDto, BindingResult)
2025-05-30T01:37:47.520+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ProductoDto(id=null, nombre= Té blanco Pai Mu Tan ecológico, descripcionBreve=Té blanco ecológico de (truncated)...]
2025-05-30T01:37:47.521+02:00 ERROR 33584 --- [http-nio-8081-exec-8] c.t.t.controllers.ProductoController     : ❌ Error en la validación de datos para edición: Errores en la validación: La cantidad en stock debe ser positiva 
2025-05-30T01:37:47.522+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json]
2025-05-30T01:37:47.522+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{mensaje=Errores en la validación: La cantidad en stock debe ser positiva }]
2025-05-30T01:37:47.523+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-05-30T01:37:47.533+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T01:37:47.534+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:37:47.534+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T01:37:47.534+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T01:37:47.534+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T01:37:47.587+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T01:37:47.808+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:37:48.034+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T01:37:48.062+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:37:54.439+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing PUT /api/productos/editar/35
2025-05-30T01:37:54.439+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:37:54.440+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured PUT /api/productos/editar/35
2025-05-30T01:37:54.440+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : PUT "/api/productos/editar/35", parameters={}
2025-05-30T01:37:54.440+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#editarProducto(Long, ProductoDto, BindingResult)
2025-05-30T01:37:54.441+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ProductoDto(id=null, nombre= Té blanco Pai Mu Tan ecológico, descripcionBreve=Té blanco ecológico de (truncated)...]
2025-05-30T01:37:54.441+02:00 ERROR 33584 --- [http-nio-8081-exec-7] c.t.t.controllers.ProductoController     : ❌ Error en la validación de datos para edición: Errores en la validación: La cantidad en stock debe ser positiva 
2025-05-30T01:37:54.441+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json]
2025-05-30T01:37:54.443+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{mensaje=Errores en la validación: La cantidad en stock debe ser positiva }]
2025-05-30T01:37:54.444+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-05-30T01:37:54.455+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T01:37:54.455+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:37:54.456+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T01:37:54.456+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T01:37:54.456+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T01:37:54.509+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T01:37:54.725+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:37:54.948+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T01:37:54.977+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:38:07.376+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing PUT /api/productos/editar/35
2025-05-30T01:38:07.376+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:38:07.376+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured PUT /api/productos/editar/35
2025-05-30T01:38:07.376+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : PUT "/api/productos/editar/35", parameters={}
2025-05-30T01:38:07.376+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#editarProducto(Long, ProductoDto, BindingResult)
2025-05-30T01:38:07.378+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ProductoDto(id=null, nombre= Té blanco Pai Mu Tan ecológico, descripcionBreve=Té blanco ecológico de (truncated)...]
2025-05-30T01:38:07.433+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T01:38:07.637+02:00  INFO 33584 --- [http-nio-8081-exec-1] c.t.t.services.ProductoService           : ✏ Editando producto:  Té blanco Pai Mu Tan ecológico
2025-05-30T01:38:07.670+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    update
        productos 
    set
        categoria=?,
        descripcion=?,
        descripcion_breve=?,
        descuento=?,
        fecha_modificacion=?,
        imagen=?,
        nombre=?,
        precio=?,
        stock=? 
    where
        id=?
2025-05-30T01:38:09.010+02:00  INFO 33584 --- [http-nio-8081-exec-1] c.t.t.services.ProductoService           : ✅ Producto actualizado correctamente:  Té blanco Pai Mu Tan ecológico
2025-05-30T01:38:09.010+02:00  INFO 33584 --- [http-nio-8081-exec-1] c.t.t.controllers.ProductoController     : ✅ Producto actualizado correctamente. ID: 35
2025-05-30T01:38:09.011+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json]
2025-05-30T01:38:09.011+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{mensaje=✅ Producto actualizado correctamente.}]
2025-05-30T01:38:09.013+02:00 DEBUG 33584 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:38:09.022+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T01:38:09.022+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:38:09.023+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T01:38:09.023+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T01:38:09.023+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T01:38:09.078+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T01:38:09.287+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:38:09.513+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T01:38:09.541+02:00 DEBUG 33584 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:41:19.405+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T01:41:19.406+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:41:19.406+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T01:41:19.406+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T01:41:19.406+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T01:41:19.406+02:00  INFO 33584 --- [http-nio-8081-exec-3] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T01:41:19.458+02:00  INFO 33584 --- [http-nio-8081-exec-3] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T01:41:19.459+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T01:41:19.530+02:00  INFO 33584 --- [http-nio-8081-exec-3] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 1
2025-05-30T01:41:19.530+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:41:19.530+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T01:41:19.531+02:00 DEBUG 33584 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:41:19.908+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T01:41:19.909+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:41:19.909+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T01:41:19.909+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T01:41:19.909+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T01:41:19.912+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/categorias
2025-05-30T01:41:19.913+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:41:19.913+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/categorias
2025-05-30T01:41:19.913+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/categorias", parameters={}
2025-05-30T01:41:19.913+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#obtenerCategorias()
2025-05-30T01:41:19.915+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:41:19.915+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Suplementos Naturales, Tés e Infusiones Naturales, Superalimentos, Alimentación Saludable, Cosmétic (truncated)...]
2025-05-30T01:41:19.916+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:41:19.921+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T01:41:19.921+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:41:19.921+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T01:41:19.922+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T01:41:19.922+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T01:41:19.923+02:00  INFO 33584 --- [http-nio-8081-exec-8] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T01:41:19.945+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T01:41:19.977+02:00  INFO 33584 --- [http-nio-8081-exec-8] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T01:41:19.978+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T01:41:20.066+02:00  INFO 33584 --- [http-nio-8081-exec-8] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 1
2025-05-30T01:41:20.066+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:41:20.066+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T01:41:20.067+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:41:20.176+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:41:20.229+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:41:20.230+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:41:20.232+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:41:20.232+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:41:20.233+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:41:20.291+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:41:20.391+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:41:20.411+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:41:20.429+02:00  INFO 33584 --- [http-nio-8081-exec-6] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:41:20.430+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:41:20.430+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:41:20.432+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:41:20.439+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:41:20.439+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:41:20.439+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:41:20.439+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:41:20.439+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:41:20.478+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:41:20.484+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T01:41:20.515+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:41:20.553+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:41:20.572+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:41:20.591+02:00  INFO 33584 --- [http-nio-8081-exec-7] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:41:20.591+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:41:20.591+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:41:20.592+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:46:25.461+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T01:46:25.461+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:46:25.461+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T01:46:25.461+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T01:46:25.461+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T01:46:25.462+02:00  INFO 33584 --- [http-nio-8081-exec-4] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T01:46:25.509+02:00  INFO 33584 --- [http-nio-8081-exec-4] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T01:46:25.510+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T01:46:25.575+02:00  INFO 33584 --- [http-nio-8081-exec-4] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 1
2025-05-30T01:46:25.575+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:46:25.576+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T01:46:25.576+02:00 DEBUG 33584 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:46:25.733+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T01:46:25.733+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:46:25.733+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T01:46:25.733+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T01:46:25.735+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T01:46:25.741+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/categorias
2025-05-30T01:46:25.741+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:46:25.741+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/categorias
2025-05-30T01:46:25.741+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/categorias", parameters={}
2025-05-30T01:46:25.741+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#obtenerCategorias()
2025-05-30T01:46:25.742+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:46:25.742+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Suplementos Naturales, Tés e Infusiones Naturales, Superalimentos, Alimentación Saludable, Cosmétic (truncated)...]
2025-05-30T01:46:25.743+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:46:25.747+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T01:46:25.747+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:46:25.747+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T01:46:25.748+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T01:46:25.748+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T01:46:25.749+02:00  INFO 33584 --- [http-nio-8081-exec-9] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T01:46:25.770+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T01:46:25.797+02:00  INFO 33584 --- [http-nio-8081-exec-9] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T01:46:25.799+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T01:46:25.862+02:00  INFO 33584 --- [http-nio-8081-exec-9] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 1
2025-05-30T01:46:25.862+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:46:25.862+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T01:46:25.864+02:00 DEBUG 33584 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:46:26.015+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:46:26.016+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:46:26.016+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:46:26.016+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:46:26.017+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:46:26.056+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:46:26.118+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:46:26.122+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:46:26.152+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:46:26.183+02:00  INFO 33584 --- [http-nio-8081-exec-7] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:46:26.183+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:46:26.183+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:46:26.184+02:00 DEBUG 33584 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:46:26.190+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:46:26.190+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:46:26.190+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:46:26.190+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:46:26.191+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:46:26.244+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:46:26.321+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:46:26.338+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:46:26.356+02:00  INFO 33584 --- [http-nio-8081-exec-2] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:46:26.357+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:46:26.358+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:46:26.360+02:00 DEBUG 33584 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:46:26.395+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T01:46:26.445+02:00 DEBUG 33584 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:47:55.411+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/productos/guardar
2025-05-30T01:47:55.411+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:47:55.411+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/productos/guardar
2025-05-30T01:47:55.412+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/productos/guardar", parameters={}
2025-05-30T01:47:55.412+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#agregarProducto(ProductoDto, BindingResult)
2025-05-30T01:47:55.531+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ProductoDto(id=null, nombre=Spray ambiental relajante, descripcionBreve=Spray natural para crear un  (truncated)...]
2025-05-30T01:47:55.532+02:00 ERROR 33584 --- [http-nio-8081-exec-6] c.t.t.controllers.ProductoController     : ❌ Error en la validación de datos: Errores en la validación: La cantidad en stock debe ser positiva 
2025-05-30T01:47:55.532+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-05-30T01:47:55.532+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Errores en la validación: La cantidad en stock debe ser positiva "]
2025-05-30T01:47:55.534+02:00 DEBUG 33584 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-05-30T01:49:50.964+02:00  INFO 33584 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-30T01:49:50.976+02:00  INFO 33584 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-05-30T01:49:50.982+02:00  INFO 33584 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T01:49:50.990+02:00  INFO 33584 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-30T01:49:50.995+02:00  INFO 33584 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-30T01:49:54.916+02:00  INFO 26488 --- [restartedMain] c.t.t.TerraNostraApiApplication          : Starting TerraNostraApiApplication using Java 21.0.5 with PID 26488 (C:\Users\balle\Documents\Proyectos\terra-nostra-api\target\classes started by balle in C:\Users\balle\Documents\Proyectos\terra-nostra-api)
2025-05-30T01:49:54.920+02:00  INFO 26488 --- [restartedMain] c.t.t.TerraNostraApiApplication          : No active profile set, falling back to 1 default profile: "default"
2025-05-30T01:49:54.971+02:00  INFO 26488 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-05-30T01:49:54.971+02:00  INFO 26488 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-05-30T01:49:55.969+02:00  INFO 26488 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-30T01:49:56.092+02:00  INFO 26488 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 107 ms. Found 8 JPA repository interfaces.
2025-05-30T01:49:57.027+02:00  INFO 26488 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-05-30T01:49:57.058+02:00  INFO 26488 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-30T01:49:57.059+02:00  INFO 26488 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-05-30T01:49:57.130+02:00  INFO 26488 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-30T01:49:57.131+02:00  INFO 26488 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2159 ms
2025-05-30T01:49:57.370+02:00  INFO 26488 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-30T01:49:57.508+02:00  INFO 26488 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.4.Final
2025-05-30T01:49:57.577+02:00  INFO 26488 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-30T01:49:57.945+02:00  INFO 26488 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-30T01:49:57.982+02:00  WARN 26488 --- [restartedMain] com.zaxxer.hikari.HikariConfig           : HikariPool-1 - idleTimeout has been set but has no effect because the pool is operating as a fixed size pool.
2025-05-30T01:49:57.983+02:00  INFO 26488 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-30T01:50:02.869+02:00  INFO 26488 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@398275a3
2025-05-30T01:50:02.870+02:00  INFO 26488 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-30T01:50:02.936+02:00  WARN 26488 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-30T01:50:02.957+02:00  INFO 26488 --- [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.4.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-30T01:50:04.021+02:00  INFO 26488 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-30T01:50:04.498+02:00  INFO 26488 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T01:50:05.318+02:00 DEBUG 26488 --- [restartedMain] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-05-30T01:50:05.363+02:00  WARN 26488 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-30T01:50:05.612+02:00 DEBUG 26488 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 32 mappings in 'requestMappingHandlerMapping'
2025-05-30T01:50:05.673+02:00 DEBUG 26488 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /static/**] in 'resourceHandlerMapping'
2025-05-30T01:50:05.733+02:00 DEBUG 26488 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-30T01:50:05.828+02:00 DEBUG 26488 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-30T01:50:05.894+02:00 DEBUG 26488 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-30T01:50:06.060+02:00  WARN 26488 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2025-05-30T01:50:06.103+02:00  INFO 26488 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-05-30T01:50:06.113+02:00  INFO 26488 --- [restartedMain] c.t.t.TerraNostraApiApplication          : Started TerraNostraApiApplication in 11.792 seconds (process running for 12.356)
2025-05-30T01:50:15.195+02:00  INFO 26488 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-30T01:50:15.195+02:00  INFO 26488 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-30T01:50:15.195+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-30T01:50:15.195+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-30T01:50:15.195+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-30T01:50:15.197+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@33fe59ac
2025-05-30T01:50:15.197+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@32311b7a
2025-05-30T01:50:15.198+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-30T01:50:15.198+02:00  INFO 26488 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-05-30T01:50:15.215+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/productos/guardar
2025-05-30T01:50:15.224+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:50:15.225+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/productos/guardar
2025-05-30T01:50:15.228+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/productos/guardar", parameters={}
2025-05-30T01:50:15.230+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#agregarProducto(ProductoDto, BindingResult)
2025-05-30T01:50:15.415+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ProductoDto(id=null, nombre=Spray ambiental relajante, descripcionBreve=Spray natural para crear un  (truncated)...]
2025-05-30T01:50:15.447+02:00  INFO 26488 --- [http-nio-8081-exec-2] c.t.t.controllers.ProductoController     : 📥 Se ha recibido la solicitud para agregar el producto: Spray ambiental relajante
2025-05-30T01:50:15.447+02:00  INFO 26488 --- [http-nio-8081-exec-2] c.t.t.services.ProductoService           : 📦 Creando nuevo producto: Spray ambiental relajante
2025-05-30T01:50:15.518+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        productos
        (categoria, descripcion, descripcion_breve, descuento, fecha_alta, fecha_modificacion, imagen, nombre, precio, stock) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-30T01:50:15.948+02:00  INFO 26488 --- [http-nio-8081-exec-2] c.t.t.services.ProductoService           : ✅ Producto guardado correctamente: Spray ambiental relajante
2025-05-30T01:50:15.949+02:00  INFO 26488 --- [http-nio-8081-exec-2] c.t.t.controllers.ProductoController     : ✅ Producto agregado exitosamente: Spray ambiental relajante
2025-05-30T01:50:15.967+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:50:16.016+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ProductoDto(id=null, nombre=Spray ambiental relajante, descripcionBreve=Spray natural para crear un  (truncated)...]
2025-05-30T01:50:16.051+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-05-30T01:50:16.097+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T01:50:16.097+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:50:16.097+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T01:50:16.097+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T01:50:16.098+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T01:50:16.208+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T01:50:16.602+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:50:16.950+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T01:50:17.005+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:50:21.690+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T01:50:21.691+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:50:21.692+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T01:50:21.693+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T01:50:21.693+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T01:50:21.744+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T01:50:21.792+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:50:21.792+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:50:21.793+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:50:21.793+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:50:21.793+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:50:21.865+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:50:21.975+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:50:21.993+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:50:22.008+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:50:22.030+02:00  INFO 26488 --- [http-nio-8081-exec-5] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:50:22.033+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:50:22.034+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:50:22.037+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:50:22.046+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:50:22.047+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:50:22.048+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:50:22.048+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:50:22.049+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:50:22.085+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:50:22.168+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:50:22.189+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:50:22.207+02:00  INFO 26488 --- [http-nio-8081-exec-4] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:50:22.209+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:50:22.209+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:50:22.211+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:50:22.363+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T01:50:22.402+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:50:36.128+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T01:50:36.129+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:50:36.129+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T01:50:36.130+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T01:50:36.130+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T01:50:36.182+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T01:50:36.195+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:50:36.195+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:50:36.196+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:50:36.196+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:50:36.196+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:50:36.269+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:50:36.384+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:50:36.405+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:50:36.424+02:00  INFO 26488 --- [http-nio-8081-exec-7] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:50:36.425+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:50:36.425+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:50:36.426+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:50:36.434+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:50:36.434+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:50:36.435+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:50:36.435+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:50:36.435+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:50:36.451+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:50:36.471+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:50:36.539+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:50:36.560+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:50:36.580+02:00  INFO 26488 --- [http-nio-8081-exec-8] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:50:36.581+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:50:36.581+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:50:36.582+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:50:36.785+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T01:50:36.826+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:50:36.951+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/resenias/producto/33
2025-05-30T01:50:36.952+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:50:36.952+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/resenias/producto/33
2025-05-30T01:50:36.952+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/resenias/producto/33", parameters={}
2025-05-30T01:50:36.952+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ReseniaController#obtenerReseniasPorProducto(Long)
2025-05-30T01:50:36.991+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T01:50:37.100+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        rm1_0.id,
        rm1_0.comentario,
        rm1_0.fecha,
        rm1_0.producto_id,
        rm1_0.usuario_id,
        rm1_0.valoracion 
    from
        resenas rm1_0 
    where
        rm1_0.producto_id=? 
    order by
        rm1_0.fecha desc
2025-05-30T01:50:37.125+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:50:37.125+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-05-30T01:50:37.126+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:50:48.762+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T01:50:48.764+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:50:48.764+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T01:50:48.764+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T01:50:48.765+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T01:50:48.814+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T01:50:48.820+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:50:48.820+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:50:48.821+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:50:48.821+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:50:48.822+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:50:48.895+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:50:49.003+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:50:49.022+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:50:49.045+02:00  INFO 26488 --- [http-nio-8081-exec-2] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:50:49.046+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:50:49.046+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:50:49.048+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:50:49.052+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:50:49.052+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:50:49.052+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:50:49.052+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:50:49.052+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:50:49.069+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:50:49.085+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:50:49.153+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:50:49.173+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:50:49.191+02:00  INFO 26488 --- [http-nio-8081-exec-1] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:50:49.193+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:50:49.193+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:50:49.194+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:50:49.392+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T01:50:49.440+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:50:58.265+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T01:50:58.266+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:50:58.266+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T01:50:58.266+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T01:50:58.266+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T01:50:58.319+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T01:50:58.649+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:50:58.649+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:50:58.649+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:50:58.650+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:50:58.650+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:50:58.701+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:50:58.762+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:50:58.769+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:50:58.786+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:50:58.804+02:00  INFO 26488 --- [http-nio-8081-exec-4] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:50:58.805+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:50:58.805+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:50:58.807+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:50:58.817+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:50:58.818+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:50:58.819+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:50:58.819+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:50:58.820+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:50:58.856+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:50:58.933+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:50:58.988+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:50:59.016+02:00  INFO 26488 --- [http-nio-8081-exec-3] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:50:59.018+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:50:59.019+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:50:59.028+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:50:59.205+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T01:50:59.242+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:50:59.370+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/resenias/producto/34
2025-05-30T01:50:59.370+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:50:59.371+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/resenias/producto/34
2025-05-30T01:50:59.371+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/resenias/producto/34", parameters={}
2025-05-30T01:50:59.371+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ReseniaController#obtenerReseniasPorProducto(Long)
2025-05-30T01:50:59.406+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T01:50:59.511+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        rm1_0.id,
        rm1_0.comentario,
        rm1_0.fecha,
        rm1_0.producto_id,
        rm1_0.usuario_id,
        rm1_0.valoracion 
    from
        resenas rm1_0 
    where
        rm1_0.producto_id=? 
    order by
        rm1_0.fecha desc
2025-05-30T01:50:59.529+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:50:59.530+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-05-30T01:50:59.530+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:51:17.294+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T01:51:17.294+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:51:17.295+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T01:51:17.295+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T01:51:17.295+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T01:51:17.352+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:51:17.352+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:51:17.352+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:51:17.352+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:51:17.353+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:51:17.357+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T01:51:17.449+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:51:17.550+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:51:17.571+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:51:17.587+02:00  INFO 26488 --- [http-nio-8081-exec-6] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:51:17.588+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:51:17.588+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:51:17.589+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:51:17.593+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:51:17.593+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:51:17.594+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:51:17.594+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:51:17.594+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:51:17.620+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:51:17.627+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:51:17.695+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:51:17.714+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:51:17.733+02:00  INFO 26488 --- [http-nio-8081-exec-9] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:51:17.733+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:51:17.734+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:51:17.735+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:51:18.013+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T01:51:18.051+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:51:18.187+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/resenias/producto/36
2025-05-30T01:51:18.188+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:51:18.188+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/resenias/producto/36
2025-05-30T01:51:18.188+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/resenias/producto/36", parameters={}
2025-05-30T01:51:18.188+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ReseniaController#obtenerReseniasPorProducto(Long)
2025-05-30T01:51:18.226+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T01:51:18.332+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        rm1_0.id,
        rm1_0.comentario,
        rm1_0.fecha,
        rm1_0.producto_id,
        rm1_0.usuario_id,
        rm1_0.valoracion 
    from
        resenas rm1_0 
    where
        rm1_0.producto_id=? 
    order by
        rm1_0.fecha desc
2025-05-30T01:51:18.350+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:51:18.350+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-05-30T01:51:18.352+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:53:25.149+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T01:53:25.149+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:53:25.149+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T01:53:25.149+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T01:53:25.150+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T01:53:25.204+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T01:53:25.393+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:53:25.393+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:53:25.394+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:53:25.394+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:53:25.395+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:53:25.452+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:53:25.462+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:53:25.525+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:53:25.545+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:53:25.564+02:00  INFO 26488 --- [http-nio-8081-exec-5] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:53:25.564+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:53:25.565+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:53:25.567+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:53:25.575+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:53:25.576+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:53:25.576+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:53:25.576+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:53:25.577+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:53:25.613+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:53:25.684+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:53:25.702+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:53:25.720+02:00  INFO 26488 --- [http-nio-8081-exec-7] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:53:25.721+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:53:25.721+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:53:25.721+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:53:25.788+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T01:53:25.823+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:55:38.125+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T01:55:38.126+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:55:38.126+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T01:55:38.126+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T01:55:38.126+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T01:55:38.176+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T01:55:38.358+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:55:38.359+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:55:38.359+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:55:38.359+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:55:38.359+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:55:38.413+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:55:38.462+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:55:38.480+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:55:38.499+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:55:38.516+02:00  INFO 26488 --- [http-nio-8081-exec-2] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:55:38.518+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:55:38.520+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:55:38.522+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:55:38.528+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:55:38.528+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:55:38.528+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:55:38.529+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:55:38.529+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:55:38.565+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:55:38.637+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:55:38.656+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:55:38.674+02:00  INFO 26488 --- [http-nio-8081-exec-1] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:55:38.674+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:55:38.675+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:55:38.675+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:55:38.848+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T01:55:38.886+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:56:45.063+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T01:56:45.063+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:56:45.063+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T01:56:45.063+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T01:56:45.063+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T01:56:45.117+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T01:56:45.306+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:56:45.307+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:56:45.307+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:56:45.307+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:56:45.307+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:56:45.366+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:56:45.398+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:56:45.434+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:56:45.453+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:56:45.472+02:00  INFO 26488 --- [http-nio-8081-exec-7] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:56:45.473+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:56:45.473+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:56:45.476+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:56:45.487+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:56:45.487+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:56:45.488+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:56:45.488+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:56:45.488+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:56:45.521+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:56:45.591+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:56:45.609+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:56:45.627+02:00  INFO 26488 --- [http-nio-8081-exec-3] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:56:45.628+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:56:45.628+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:56:45.629+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:56:45.772+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T01:56:45.810+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:58:09.142+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T01:58:09.142+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:58:09.142+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T01:58:09.143+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T01:58:09.143+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T01:58:09.221+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T01:58:09.225+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:58:09.226+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:58:09.226+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:58:09.226+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:58:09.226+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:58:09.292+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:58:09.441+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:58:09.465+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:58:09.482+02:00  INFO 26488 --- [http-nio-8081-exec-1] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:58:09.482+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:58:09.483+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:58:09.483+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:58:09.489+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:58:09.489+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:58:09.490+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:58:09.490+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:58:09.490+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:58:09.497+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:58:09.524+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:58:09.608+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:58:09.632+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:58:09.654+02:00  INFO 26488 --- [http-nio-8081-exec-8] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:58:09.656+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:58:09.658+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:58:09.662+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:58:10.147+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T01:58:10.235+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:58:17.685+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T01:58:17.685+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:58:17.685+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T01:58:17.686+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T01:58:17.686+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T01:58:17.734+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T01:58:17.747+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:58:17.747+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:58:17.747+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:58:17.747+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:58:17.748+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:58:17.821+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:58:17.944+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:58:17.962+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:58:17.979+02:00  INFO 26488 --- [http-nio-8081-exec-4] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:58:17.979+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:58:17.979+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:58:17.980+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:58:17.986+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:58:17.986+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:58:17.986+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:58:17.987+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:58:17.987+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:58:17.992+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:58:18.021+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:58:18.090+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:58:18.109+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:58:18.127+02:00  INFO 26488 --- [http-nio-8081-exec-7] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:58:18.128+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:58:18.128+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:58:18.129+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:58:18.307+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T01:58:18.345+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:58:18.491+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/resenias/producto/36
2025-05-30T01:58:18.491+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:58:18.491+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/resenias/producto/36
2025-05-30T01:58:18.491+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/resenias/producto/36", parameters={}
2025-05-30T01:58:18.492+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ReseniaController#obtenerReseniasPorProducto(Long)
2025-05-30T01:58:18.527+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T01:58:18.634+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        rm1_0.id,
        rm1_0.comentario,
        rm1_0.fecha,
        rm1_0.producto_id,
        rm1_0.usuario_id,
        rm1_0.valoracion 
    from
        resenas rm1_0 
    where
        rm1_0.producto_id=? 
    order by
        rm1_0.fecha desc
2025-05-30T01:58:18.651+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:58:18.652+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-05-30T01:58:18.653+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:58:19.885+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T01:58:19.885+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:58:19.885+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T01:58:19.885+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T01:58:19.885+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T01:58:19.943+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T01:58:19.951+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:58:19.951+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:58:19.951+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:58:19.951+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:58:19.952+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:58:20.023+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:58:20.127+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:58:20.148+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:58:20.167+02:00  INFO 26488 --- [http-nio-8081-exec-9] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:58:20.169+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:58:20.169+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:58:20.171+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:58:20.178+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:58:20.179+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:58:20.179+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:58:20.179+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:58:20.179+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:58:20.198+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:58:20.212+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:58:20.280+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:58:20.298+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:58:20.315+02:00  INFO 26488 --- [http-nio-8081-exec-6] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:58:20.316+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:58:20.317+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:58:20.318+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:58:20.521+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T01:58:20.559+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:58:51.204+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T01:58:51.204+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:58:51.204+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T01:58:51.204+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T01:58:51.204+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T01:58:51.205+02:00  INFO 26488 --- [http-nio-8081-exec-4] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T01:58:51.255+02:00  INFO 26488 --- [http-nio-8081-exec-4] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T01:58:51.257+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T01:58:51.326+02:00  INFO 26488 --- [http-nio-8081-exec-4] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 1
2025-05-30T01:58:51.327+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:58:51.346+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T01:58:51.365+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:58:51.575+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/categorias
2025-05-30T01:58:51.575+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T01:58:51.575+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:58:51.575+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:58:51.576+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/categorias
2025-05-30T01:58:51.576+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T01:58:51.576+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/categorias", parameters={}
2025-05-30T01:58:51.576+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T01:58:51.576+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#obtenerCategorias()
2025-05-30T01:58:51.578+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T01:58:51.582+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:58:51.584+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Suplementos Naturales, Tés e Infusiones Naturales, Superalimentos, Alimentación Saludable, Cosmétic (truncated)...]
2025-05-30T01:58:51.598+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:58:51.599+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T01:58:51.601+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:58:51.603+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T01:58:51.604+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T01:58:51.605+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T01:58:51.605+02:00  INFO 26488 --- [http-nio-8081-exec-3] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T01:58:51.621+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T01:58:51.671+02:00  INFO 26488 --- [http-nio-8081-exec-3] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T01:58:51.673+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T01:58:51.683+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:58:51.683+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:58:51.684+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:58:51.684+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:58:51.686+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:58:51.803+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:58:51.811+02:00  INFO 26488 --- [http-nio-8081-exec-3] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 1
2025-05-30T01:58:51.812+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:58:51.813+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T01:58:51.814+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:58:51.882+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:58:51.895+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:58:51.904+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:58:51.922+02:00  INFO 26488 --- [http-nio-8081-exec-9] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:58:51.923+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:58:51.923+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:58:51.926+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:58:51.933+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:58:51.933+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:58:51.933+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:58:51.934+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:58:51.934+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:58:51.967+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:58:52.034+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:58:52.050+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:58:52.066+02:00  INFO 26488 --- [http-nio-8081-exec-6] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:58:52.067+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:58:52.067+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:58:52.068+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:58:52.241+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T01:58:52.278+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:59:14.394+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T01:59:14.395+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:59:14.395+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T01:59:14.396+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T01:59:14.396+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T01:59:14.466+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T01:59:14.667+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:59:14.668+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:59:14.668+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:59:14.668+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:59:14.668+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:59:14.719+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:59:14.728+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:59:14.797+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:59:14.815+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:59:14.835+02:00  INFO 26488 --- [http-nio-8081-exec-8] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:59:14.836+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:59:14.837+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:59:14.839+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:59:15.053+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T01:59:15.089+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:59:20.030+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T01:59:20.031+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:59:20.031+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T01:59:20.031+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T01:59:20.031+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T01:59:20.081+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T01:59:20.095+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:59:20.096+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:59:20.096+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:59:20.096+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:59:20.096+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:59:20.180+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:59:20.281+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:59:20.301+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:59:20.316+02:00  INFO 26488 --- [http-nio-8081-exec-10] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:59:20.316+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:59:20.317+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:59:20.318+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:59:20.324+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:59:20.324+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:59:20.324+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:59:20.324+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:59:20.324+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:59:20.332+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:59:20.358+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:59:20.432+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:59:20.452+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:59:20.471+02:00  INFO 26488 --- [http-nio-8081-exec-3] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:59:20.471+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:59:20.471+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:59:20.473+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:59:20.666+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T01:59:20.702+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:59:26.224+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T01:59:26.225+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:59:26.225+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T01:59:26.225+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T01:59:26.225+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T01:59:26.271+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:59:26.271+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:59:26.271+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:59:26.271+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:59:26.272+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:59:26.281+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T01:59:26.321+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:59:26.386+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:59:26.405+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:59:26.431+02:00  INFO 26488 --- [http-nio-8081-exec-6] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:59:26.435+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:59:26.435+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:59:26.436+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:59:26.443+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:59:26.443+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:59:26.443+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:59:26.443+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:59:26.444+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:59:26.532+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:59:26.624+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:59:26.643+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:59:26.659+02:00  INFO 26488 --- [http-nio-8081-exec-7] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:59:26.660+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:59:26.660+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:59:26.660+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:59:26.687+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:59:26.977+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T01:59:27.014+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:59:27.162+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/resenias/producto/36
2025-05-30T01:59:27.163+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:59:27.163+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/resenias/producto/36
2025-05-30T01:59:27.163+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/resenias/producto/36", parameters={}
2025-05-30T01:59:27.163+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ReseniaController#obtenerReseniasPorProducto(Long)
2025-05-30T01:59:27.215+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T01:59:27.318+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        rm1_0.id,
        rm1_0.comentario,
        rm1_0.fecha,
        rm1_0.producto_id,
        rm1_0.usuario_id,
        rm1_0.valoracion 
    from
        resenas rm1_0 
    where
        rm1_0.producto_id=? 
    order by
        rm1_0.fecha desc
2025-05-30T01:59:27.337+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:59:27.337+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-05-30T01:59:27.337+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:59:33.709+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T01:59:33.709+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:59:33.709+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T01:59:33.709+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T01:59:33.711+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T01:59:33.762+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T01:59:33.776+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:59:33.776+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:59:33.777+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:59:33.777+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:59:33.777+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:59:33.862+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:59:33.970+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:59:33.988+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:59:34.006+02:00  INFO 26488 --- [http-nio-8081-exec-8] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:59:34.006+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:59:34.007+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:59:34.008+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:59:34.012+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:59:34.012+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:59:34.012+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:59:34.012+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:59:34.012+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:59:34.014+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:59:34.046+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:59:34.121+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:59:34.140+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:59:34.156+02:00  INFO 26488 --- [http-nio-8081-exec-2] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:59:34.157+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:59:34.157+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:59:34.158+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:59:34.349+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T01:59:34.386+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:59:37.079+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T01:59:37.079+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:59:37.081+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T01:59:37.081+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T01:59:37.081+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T01:59:37.129+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T01:59:37.134+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:59:37.134+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:59:37.134+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:59:37.134+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:59:37.134+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:59:37.217+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:59:37.340+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:59:37.359+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:59:37.376+02:00  INFO 26488 --- [http-nio-8081-exec-3] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:59:37.376+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:59:37.376+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:59:37.376+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:59:37.380+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:59:37.380+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:59:37.382+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:59:37.382+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:59:37.382+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:59:37.382+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:59:37.432+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:59:37.507+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:59:37.524+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:59:37.547+02:00  INFO 26488 --- [http-nio-8081-exec-4] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:59:37.548+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:59:37.548+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T01:59:37.549+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:59:37.727+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T01:59:37.765+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:59:37.880+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/resenias/producto/33
2025-05-30T01:59:37.880+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:59:37.880+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/resenias/producto/33
2025-05-30T01:59:37.880+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/resenias/producto/33", parameters={}
2025-05-30T01:59:37.880+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ReseniaController#obtenerReseniasPorProducto(Long)
2025-05-30T01:59:37.916+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T01:59:38.020+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        rm1_0.id,
        rm1_0.comentario,
        rm1_0.fecha,
        rm1_0.producto_id,
        rm1_0.usuario_id,
        rm1_0.valoracion 
    from
        resenas rm1_0 
    where
        rm1_0.producto_id=? 
    order by
        rm1_0.fecha desc
2025-05-30T01:59:38.038+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T01:59:38.038+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-05-30T01:59:38.039+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:59:41.133+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /carrito/agregar?usuarioId=50
2025-05-30T01:59:41.134+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:59:41.134+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /carrito/agregar?usuarioId=50
2025-05-30T01:59:41.135+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/carrito/agregar?usuarioId=50", parameters={masked}
2025-05-30T01:59:41.135+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#agregarAlCarrito(Long, CarritoItemDto)
2025-05-30T01:59:41.143+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CarritoItemDto(productoId=33, cantidad=3, nombre=Producto, imagen=, precioUnitario=14.95)]
2025-05-30T01:59:41.144+02:00  INFO 26488 --- [http-nio-8081-exec-7] c.t.terranostra.services.CarritoService  : 🧪 [agregarProductoAlCarrito] Iniciando para usuarioId=50 y productoId=33
2025-05-30T01:59:41.194+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:59:41.262+02:00  INFO 26488 --- [http-nio-8081-exec-7] c.t.terranostra.services.CarritoService  : ✅ Usuario encontrado: ballesterospereze@gmail.com
2025-05-30T01:59:41.294+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T01:59:41.407+02:00  INFO 26488 --- [http-nio-8081-exec-7] c.t.terranostra.services.CarritoService  : ✅ Producto encontrado: Té verde matcha en polvo
2025-05-30T01:59:41.410+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:59:41.429+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:59:41.446+02:00  INFO 26488 --- [http-nio-8081-exec-7] c.t.terranostra.services.CarritoService  : 🆕 Item añadido al carrito: Té verde matcha en polvo (3 uds)
2025-05-30T01:59:41.478+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    insert 
    into
        carrito_item
        (cantidad, carrito_id, imagen, nombre, precio_unitario, producto_id) 
    values
        (?, ?, ?, ?, ?, ?)
2025-05-30T01:59:41.561+02:00  INFO 26488 --- [http-nio-8081-exec-7] c.t.terranostra.services.CarritoService  : ✅ Carrito guardado correctamente
2025-05-30T01:59:41.568+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:59:41.569+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{mensaje=Producto añadido al carrito}]
2025-05-30T01:59:41.574+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T01:59:41.584+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T01:59:41.585+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T01:59:41.585+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T01:59:41.585+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T01:59:41.585+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T01:59:41.639+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T01:59:41.723+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T01:59:41.750+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T01:59:41.778+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T01:59:41.849+02:00  INFO 26488 --- [http-nio-8081-exec-9] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T01:59:41.850+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T01:59:41.857+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T01:59:41.893+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:00:57.842+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T02:00:57.843+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:00:57.843+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T02:00:57.843+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T02:00:57.843+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T02:00:57.904+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T02:00:57.912+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:00:57.912+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:00:57.912+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:00:57.912+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:00:57.913+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:00:58.004+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:00:58.102+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:00:58.121+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:00:58.138+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:00:58.153+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T02:00:58.195+02:00  INFO 26488 --- [http-nio-8081-exec-4] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:00:58.195+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:00:58.202+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T02:00:58.217+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:00:58.501+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T02:00:58.539+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:00:59.165+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T02:00:59.166+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:00:59.166+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T02:00:59.166+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T02:00:59.166+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T02:00:59.221+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T02:00:59.232+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:00:59.232+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:00:59.232+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:00:59.232+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:00:59.232+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:00:59.309+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:00:59.428+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:00:59.445+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:00:59.464+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:00:59.474+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T02:00:59.525+02:00  INFO 26488 --- [http-nio-8081-exec-6] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:00:59.526+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:00:59.533+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T02:00:59.547+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:00:59.570+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:00:59.571+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:00:59.571+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:00:59.571+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:00:59.571+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:00:59.608+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:00:59.680+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:00:59.700+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:00:59.721+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:00:59.783+02:00  INFO 26488 --- [http-nio-8081-exec-7] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:00:59.783+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:00:59.794+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T02:00:59.809+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:00:59.833+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T02:00:59.874+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:01:07.381+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:01:07.381+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:01:07.381+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:01:07.383+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:01:07.383+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:01:07.436+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:01:07.506+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:01:07.526+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:01:07.544+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:01:07.610+02:00  INFO 26488 --- [http-nio-8081-exec-9] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:01:07.611+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:01:07.617+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T02:01:07.632+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:01:07.657+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:01:07.657+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:01:07.657+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:01:07.657+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:01:07.658+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:01:07.708+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:01:07.779+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:01:07.796+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:01:07.813+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:01:07.871+02:00  INFO 26488 --- [http-nio-8081-exec-1] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:01:07.872+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:01:07.876+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T02:01:07.889+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:01:07.912+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:01:07.912+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:01:07.913+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:01:07.913+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:01:07.913+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:01:07.960+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:01:08.023+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:01:08.040+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:01:08.058+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:01:08.113+02:00  INFO 26488 --- [http-nio-8081-exec-8] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:01:08.114+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:01:08.118+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T02:01:08.131+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:01:19.773+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:01:19.773+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:01:19.773+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:01:19.773+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:01:19.773+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:01:19.821+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:01:19.886+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:01:19.905+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:01:19.921+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:01:19.980+02:00  INFO 26488 --- [http-nio-8081-exec-2] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:01:19.980+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:01:19.987+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T02:01:20.001+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:01:42.480+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:01:42.480+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:01:42.480+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:01:42.480+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:01:42.480+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:01:42.528+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:01:42.592+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:01:42.610+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:01:42.626+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:01:42.681+02:00  INFO 26488 --- [http-nio-8081-exec-4] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:01:42.681+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:01:42.687+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T02:01:42.700+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:01:42.719+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:01:42.720+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:01:42.720+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:01:42.720+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:01:42.720+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:01:42.770+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:01:42.837+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:01:42.855+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:01:42.872+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:01:42.928+02:00  INFO 26488 --- [http-nio-8081-exec-3] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:01:42.928+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:01:42.934+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T02:01:42.947+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:01:42.972+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /carrito/finalizar
2025-05-30T02:01:42.972+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:01:42.972+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /carrito/finalizar
2025-05-30T02:01:42.973+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/carrito/finalizar", parameters={}
2025-05-30T02:01:42.973+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#finalizarCompra(CrearPedidoDto)
2025-05-30T02:01:42.988+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CrearPedidoDto(usuarioId=50, emailUsuario=ballesterospereze@gmail.com, metodoPago=paypal, direccionE (truncated)...]
2025-05-30T02:01:43.021+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:01:43.088+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:01:43.106+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:01:43.245+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:01:43.382+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    update
        productos 
    set
        categoria=?,
        descripcion=?,
        descripcion_breve=?,
        descuento=?,
        fecha_modificacion=?,
        imagen=?,
        nombre=?,
        precio=?,
        stock=? 
    where
        id=?
2025-05-30T02:01:43.773+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    insert 
    into
        pedidos
        (direccion_envio, email_usuario, estado, fecha, metodo_pago, telefono_contacto, total, usuario_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-30T02:01:43.795+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    insert 
    into
        producto_pedido
        (cantidad, pedido_id, precio_unitario, producto_id) 
    values
        (?, ?, ?, ?)
2025-05-30T02:01:43.933+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    delete 
    from
        carrito_item 
    where
        id=?
2025-05-30T02:01:43.995+02:00  INFO 26488 --- [http-nio-8081-exec-6] c.t.terranostra.services.CarritoService  : ✅ Pedido creado y carrito vaciado para el usuario 50
2025-05-30T02:01:43.995+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:01:43.996+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{mensaje=✅ Pedido realizado correctamente}]
2025-05-30T02:01:43.997+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:01:43.999+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing DELETE /carrito/50/vaciar
2025-05-30T02:01:43.999+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:01:43.999+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured DELETE /carrito/50/vaciar
2025-05-30T02:01:43.999+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : DELETE "/carrito/50/vaciar", parameters={}
2025-05-30T02:01:43.999+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#vaciarCarrito(Long)
2025-05-30T02:01:44.051+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:01:44.122+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:01:44.141+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:01:44.212+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:01:44.212+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{mensaje=Carrito vaciado correctamente}]
2025-05-30T02:01:44.213+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:01:44.388+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T02:01:44.388+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:01:44.388+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T02:01:44.389+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T02:01:44.389+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T02:01:44.445+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T02:01:44.505+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:01:44.506+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:01:44.506+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:01:44.506+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:01:44.508+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:01:44.623+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:01:44.727+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:01:44.747+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:01:44.760+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T02:01:44.765+02:00  INFO 26488 --- [http-nio-8081-exec-9] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:01:44.766+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:01:44.768+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T02:01:44.769+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:01:45.183+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T02:01:45.225+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:01:51.441+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T02:01:51.441+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:01:51.441+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T02:01:51.441+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T02:01:51.441+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T02:01:51.443+02:00  INFO 26488 --- [http-nio-8081-exec-1] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T02:01:51.492+02:00  INFO 26488 --- [http-nio-8081-exec-1] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T02:01:51.493+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T02:01:51.559+02:00  INFO 26488 --- [http-nio-8081-exec-1] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 1
2025-05-30T02:01:51.559+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T02:01:51.560+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T02:01:51.560+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:01:51.674+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T02:01:51.676+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:01:51.676+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T02:01:51.676+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T02:01:51.677+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T02:01:51.678+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/categorias
2025-05-30T02:01:51.678+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:01:51.678+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/categorias
2025-05-30T02:01:51.679+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/categorias", parameters={}
2025-05-30T02:01:51.679+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#obtenerCategorias()
2025-05-30T02:01:51.679+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T02:01:51.679+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Suplementos Naturales, Tés e Infusiones Naturales, Superalimentos, Alimentación Saludable, Cosmétic (truncated)...]
2025-05-30T02:01:51.681+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:01:51.690+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T02:01:51.691+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:01:51.691+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T02:01:51.691+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T02:01:51.691+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T02:01:51.691+02:00  INFO 26488 --- [http-nio-8081-exec-5] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T02:01:51.725+02:00  INFO 26488 --- [http-nio-8081-exec-5] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T02:01:51.726+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T02:01:51.726+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T02:01:51.740+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:01:51.740+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:01:51.740+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:01:51.740+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:01:51.742+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:01:51.807+02:00  INFO 26488 --- [http-nio-8081-exec-5] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 1
2025-05-30T02:01:51.807+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T02:01:51.807+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T02:01:51.808+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:01:51.818+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:01:51.926+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:01:51.952+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:01:51.970+02:00  INFO 26488 --- [http-nio-8081-exec-4] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:01:51.970+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:01:51.971+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T02:01:51.971+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:01:51.975+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:01:51.976+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:01:51.976+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:01:51.976+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:01:51.976+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:01:52.001+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T02:01:52.010+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:01:52.082+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:01:52.101+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:01:52.121+02:00  INFO 26488 --- [http-nio-8081-exec-3] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:01:52.122+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:01:52.122+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T02:01:52.123+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:01:52.306+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T02:01:52.343+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:04:07.995+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T02:04:07.996+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:04:07.996+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T02:04:07.996+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T02:04:07.997+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T02:04:08.048+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T02:04:08.065+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:04:08.065+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:04:08.065+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:04:08.066+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:04:08.066+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:04:08.152+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:04:08.274+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:04:08.293+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:04:08.300+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T02:04:08.311+02:00  INFO 26488 --- [http-nio-8081-exec-5] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:04:08.312+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:04:08.313+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T02:04:08.315+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:04:08.632+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T02:04:08.669+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:05:58.529+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T02:05:58.529+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:05:58.530+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T02:05:58.530+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T02:05:58.530+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T02:05:58.580+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T02:05:58.612+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:05:58.612+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:05:58.612+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:05:58.612+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:05:58.613+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:05:58.690+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:05:58.800+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:05:58.818+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:05:58.836+02:00  INFO 26488 --- [http-nio-8081-exec-6] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:05:58.837+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:05:58.837+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T02:05:58.838+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:05:58.842+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T02:05:58.843+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:05:58.843+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:05:58.843+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:05:58.843+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:05:58.843+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:05:58.881+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:05:58.954+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:05:58.973+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:05:58.991+02:00  INFO 26488 --- [http-nio-8081-exec-7] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:05:58.991+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:05:58.992+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T02:05:58.992+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:05:59.176+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T02:05:59.212+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:06:32.367+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T02:06:32.368+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:06:32.368+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T02:06:32.368+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T02:06:32.368+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T02:06:32.419+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T02:06:32.602+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:06:32.602+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:06:32.602+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:06:32.602+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:06:32.603+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:06:32.659+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:06:32.708+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T02:06:32.731+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:06:32.749+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:06:32.766+02:00  INFO 26488 --- [http-nio-8081-exec-5] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:06:32.767+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:06:32.768+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T02:06:32.771+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:06:32.777+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:06:32.777+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:06:32.777+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:06:32.777+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:06:32.777+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:06:32.811+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:06:32.884+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:06:32.904+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:06:32.922+02:00  INFO 26488 --- [http-nio-8081-exec-2] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:06:32.923+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:06:32.923+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T02:06:32.925+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:06:33.139+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T02:06:33.176+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:06:33.297+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/resenias/producto/33
2025-05-30T02:06:33.297+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:06:33.297+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/resenias/producto/33
2025-05-30T02:06:33.297+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/resenias/producto/33", parameters={}
2025-05-30T02:06:33.297+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ReseniaController#obtenerReseniasPorProducto(Long)
2025-05-30T02:06:33.350+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:06:33.462+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        rm1_0.id,
        rm1_0.comentario,
        rm1_0.fecha,
        rm1_0.producto_id,
        rm1_0.usuario_id,
        rm1_0.valoracion 
    from
        resenas rm1_0 
    where
        rm1_0.producto_id=? 
    order by
        rm1_0.fecha desc
2025-05-30T02:06:33.482+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T02:06:33.482+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-05-30T02:06:33.483+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:06:46.324+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /carrito/agregar?usuarioId=50
2025-05-30T02:06:46.324+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:06:46.324+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /carrito/agregar?usuarioId=50
2025-05-30T02:06:46.325+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/carrito/agregar?usuarioId=50", parameters={masked}
2025-05-30T02:06:46.325+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#agregarAlCarrito(Long, CarritoItemDto)
2025-05-30T02:06:46.326+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CarritoItemDto(productoId=33, cantidad=1, nombre=Producto, imagen=, precioUnitario=14.95)]
2025-05-30T02:06:46.326+02:00  INFO 26488 --- [http-nio-8081-exec-3] c.t.terranostra.services.CarritoService  : 🧪 [agregarProductoAlCarrito] Iniciando para usuarioId=50 y productoId=33
2025-05-30T02:06:46.374+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:06:46.438+02:00  INFO 26488 --- [http-nio-8081-exec-3] c.t.terranostra.services.CarritoService  : ✅ Usuario encontrado: ballesterospereze@gmail.com
2025-05-30T02:06:46.470+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:06:46.574+02:00  INFO 26488 --- [http-nio-8081-exec-3] c.t.terranostra.services.CarritoService  : ✅ Producto encontrado: Té verde matcha en polvo
2025-05-30T02:06:46.575+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:06:46.593+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:06:46.609+02:00  INFO 26488 --- [http-nio-8081-exec-3] c.t.terranostra.services.CarritoService  : 🆕 Item añadido al carrito: Té verde matcha en polvo (1 uds)
2025-05-30T02:06:46.625+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    insert 
    into
        carrito_item
        (cantidad, carrito_id, imagen, nombre, precio_unitario, producto_id) 
    values
        (?, ?, ?, ?, ?, ?)
2025-05-30T02:06:46.677+02:00  INFO 26488 --- [http-nio-8081-exec-3] c.t.terranostra.services.CarritoService  : ✅ Carrito guardado correctamente
2025-05-30T02:06:46.678+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:06:46.678+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{mensaje=Producto añadido al carrito}]
2025-05-30T02:06:46.679+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:06:46.684+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:06:46.684+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:06:46.684+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:06:46.684+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:06:46.685+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:06:46.717+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:06:46.784+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:06:46.802+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:06:46.818+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:06:46.880+02:00  INFO 26488 --- [http-nio-8081-exec-6] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:06:46.880+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:06:46.883+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T02:06:46.897+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:06:53.740+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /carrito/agregar?usuarioId=50
2025-05-30T02:06:53.740+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:06:53.741+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /carrito/agregar?usuarioId=50
2025-05-30T02:06:53.741+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/carrito/agregar?usuarioId=50", parameters={masked}
2025-05-30T02:06:53.741+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#agregarAlCarrito(Long, CarritoItemDto)
2025-05-30T02:06:53.742+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CarritoItemDto(productoId=33, cantidad=1, nombre=Producto, imagen=, precioUnitario=14.95)]
2025-05-30T02:06:53.742+02:00  INFO 26488 --- [http-nio-8081-exec-7] c.t.terranostra.services.CarritoService  : 🧪 [agregarProductoAlCarrito] Iniciando para usuarioId=50 y productoId=33
2025-05-30T02:06:53.790+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:06:53.855+02:00  INFO 26488 --- [http-nio-8081-exec-7] c.t.terranostra.services.CarritoService  : ✅ Usuario encontrado: ballesterospereze@gmail.com
2025-05-30T02:06:53.887+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:06:53.992+02:00  INFO 26488 --- [http-nio-8081-exec-7] c.t.terranostra.services.CarritoService  : ✅ Producto encontrado: Té verde matcha en polvo
2025-05-30T02:06:53.993+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:06:54.011+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:06:54.027+02:00  INFO 26488 --- [http-nio-8081-exec-7] c.t.terranostra.services.CarritoService  : 🧾 Item ya existente. Cantidad actualizada: 1 -> 2
2025-05-30T02:06:54.047+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    update
        carrito_item 
    set
        cantidad=?,
        carrito_id=?,
        imagen=?,
        nombre=?,
        precio_unitario=?,
        producto_id=? 
    where
        id=?
2025-05-30T02:06:54.099+02:00  INFO 26488 --- [http-nio-8081-exec-7] c.t.terranostra.services.CarritoService  : ✅ Carrito guardado correctamente
2025-05-30T02:06:54.099+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:06:54.100+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{mensaje=Producto añadido al carrito}]
2025-05-30T02:06:54.100+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:06:54.105+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:06:54.106+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:06:54.106+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:06:54.106+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:06:54.106+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:06:54.156+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:06:54.223+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:06:54.241+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:06:54.259+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:06:54.316+02:00  INFO 26488 --- [http-nio-8081-exec-8] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:06:54.316+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:06:54.322+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T02:06:54.335+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:07:05.742+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing DELETE /carrito/50/producto/33
2025-05-30T02:07:05.742+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:07:05.743+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured DELETE /carrito/50/producto/33
2025-05-30T02:07:05.743+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : DELETE "/carrito/50/producto/33", parameters={}
2025-05-30T02:07:05.743+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#eliminarProducto(Long, Long)
2025-05-30T02:07:05.777+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:07:05.796+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:07:05.813+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:07:05.832+02:00  INFO 26488 --- [http-nio-8081-exec-5] c.t.terranostra.services.CarritoService  : 🗑️ Producto 33 eliminado completamente del carrito
2025-05-30T02:07:05.832+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    delete 
    from
        carrito_item 
    where
        id=?
2025-05-30T02:07:05.883+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:07:05.883+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{mensaje=Producto eliminado correctamente}]
2025-05-30T02:07:05.884+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:07:05.889+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:07:05.890+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:07:05.890+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:07:05.890+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:07:05.890+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:07:05.922+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:07:05.992+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:07:06.010+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:07:06.026+02:00  INFO 26488 --- [http-nio-8081-exec-2] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:07:06.027+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:07:06.027+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T02:07:06.029+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:08:43.122+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T02:08:43.123+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:08:43.123+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T02:08:43.123+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T02:08:43.123+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T02:08:43.177+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T02:08:43.188+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:08:43.188+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:08:43.189+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:08:43.189+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:08:43.189+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:08:43.250+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:08:43.339+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:08:43.365+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:08:43.384+02:00  INFO 26488 --- [http-nio-8081-exec-3] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:08:43.384+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:08:43.385+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T02:08:43.386+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:08:43.394+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:08:43.394+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:08:43.394+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:08:43.395+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:08:43.395+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:08:43.430+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:08:43.471+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T02:08:43.501+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:08:43.520+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:08:43.538+02:00  INFO 26488 --- [http-nio-8081-exec-6] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:08:43.539+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:08:43.539+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T02:08:43.539+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:08:43.815+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T02:08:43.855+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:08:43.971+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/resenias/producto/33
2025-05-30T02:08:43.972+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:08:43.972+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/resenias/producto/33
2025-05-30T02:08:43.973+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/resenias/producto/33", parameters={}
2025-05-30T02:08:43.973+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ReseniaController#obtenerReseniasPorProducto(Long)
2025-05-30T02:08:44.008+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:08:44.119+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        rm1_0.id,
        rm1_0.comentario,
        rm1_0.fecha,
        rm1_0.producto_id,
        rm1_0.usuario_id,
        rm1_0.valoracion 
    from
        resenas rm1_0 
    where
        rm1_0.producto_id=? 
    order by
        rm1_0.fecha desc
2025-05-30T02:08:44.139+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T02:08:44.139+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-05-30T02:08:44.140+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:08:50.496+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /carrito/agregar?usuarioId=50
2025-05-30T02:08:50.496+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:08:50.496+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /carrito/agregar?usuarioId=50
2025-05-30T02:08:50.496+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/carrito/agregar?usuarioId=50", parameters={masked}
2025-05-30T02:08:50.496+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#agregarAlCarrito(Long, CarritoItemDto)
2025-05-30T02:08:50.497+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CarritoItemDto(productoId=33, cantidad=1, nombre=Producto, imagen=, precioUnitario=14.95)]
2025-05-30T02:08:50.497+02:00  INFO 26488 --- [http-nio-8081-exec-8] c.t.terranostra.services.CarritoService  : 🧪 [agregarProductoAlCarrito] Iniciando para usuarioId=50 y productoId=33
2025-05-30T02:08:50.547+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:08:50.610+02:00  INFO 26488 --- [http-nio-8081-exec-8] c.t.terranostra.services.CarritoService  : ✅ Usuario encontrado: ballesterospereze@gmail.com
2025-05-30T02:08:50.640+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:08:50.745+02:00  INFO 26488 --- [http-nio-8081-exec-8] c.t.terranostra.services.CarritoService  : ✅ Producto encontrado: Té verde matcha en polvo
2025-05-30T02:08:50.746+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:08:50.765+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:08:50.780+02:00  INFO 26488 --- [http-nio-8081-exec-8] c.t.terranostra.services.CarritoService  : 🆕 Item añadido al carrito: Té verde matcha en polvo (1 uds)
2025-05-30T02:08:50.799+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    insert 
    into
        carrito_item
        (cantidad, carrito_id, imagen, nombre, precio_unitario, producto_id) 
    values
        (?, ?, ?, ?, ?, ?)
2025-05-30T02:08:50.849+02:00  INFO 26488 --- [http-nio-8081-exec-8] c.t.terranostra.services.CarritoService  : ✅ Carrito guardado correctamente
2025-05-30T02:08:50.849+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:08:50.849+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{mensaje=Producto añadido al carrito}]
2025-05-30T02:08:50.851+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:08:50.859+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:08:50.859+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:08:50.860+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:08:50.860+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:08:50.860+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:08:50.911+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:08:50.981+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:08:51.001+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:08:51.020+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:08:51.083+02:00  INFO 26488 --- [http-nio-8081-exec-9] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:08:51.084+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:08:51.088+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T02:08:51.101+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:10:19.381+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T02:10:19.383+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:10:19.383+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T02:10:19.383+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T02:10:19.383+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T02:10:19.435+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T02:10:19.444+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:10:19.444+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:10:19.444+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:10:19.445+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:10:19.445+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:10:19.508+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:10:19.613+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:10:19.632+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:10:19.650+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:10:19.694+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T02:10:19.705+02:00  INFO 26488 --- [http-nio-8081-exec-3] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:10:19.706+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:10:19.712+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T02:10:19.730+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:10:19.758+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:10:19.758+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:10:19.758+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:10:19.758+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:10:19.759+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:10:19.794+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:10:19.864+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:10:19.883+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:10:19.901+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:10:19.963+02:00  INFO 26488 --- [http-nio-8081-exec-6] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:10:19.964+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:10:19.969+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T02:10:19.990+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:10:20.068+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T02:10:20.105+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:10:20.241+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/resenias/producto/33
2025-05-30T02:10:20.241+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:10:20.242+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/resenias/producto/33
2025-05-30T02:10:20.242+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/resenias/producto/33", parameters={}
2025-05-30T02:10:20.242+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ReseniaController#obtenerReseniasPorProducto(Long)
2025-05-30T02:10:20.298+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:10:20.414+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        rm1_0.id,
        rm1_0.comentario,
        rm1_0.fecha,
        rm1_0.producto_id,
        rm1_0.usuario_id,
        rm1_0.valoracion 
    from
        resenas rm1_0 
    where
        rm1_0.producto_id=? 
    order by
        rm1_0.fecha desc
2025-05-30T02:10:20.434+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T02:10:20.434+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-05-30T02:10:20.434+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:10:22.254+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /carrito/agregar?usuarioId=50
2025-05-30T02:10:22.255+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:10:22.255+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /carrito/agregar?usuarioId=50
2025-05-30T02:10:22.255+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/carrito/agregar?usuarioId=50", parameters={masked}
2025-05-30T02:10:22.255+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#agregarAlCarrito(Long, CarritoItemDto)
2025-05-30T02:10:22.256+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CarritoItemDto(productoId=33, cantidad=1, nombre=Producto, imagen=, precioUnitario=14.95)]
2025-05-30T02:10:22.256+02:00  INFO 26488 --- [http-nio-8081-exec-7] c.t.terranostra.services.CarritoService  : 🧪 [agregarProductoAlCarrito] Iniciando para usuarioId=50 y productoId=33
2025-05-30T02:10:22.306+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:10:22.371+02:00  INFO 26488 --- [http-nio-8081-exec-7] c.t.terranostra.services.CarritoService  : ✅ Usuario encontrado: ballesterospereze@gmail.com
2025-05-30T02:10:22.403+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:10:22.516+02:00  INFO 26488 --- [http-nio-8081-exec-7] c.t.terranostra.services.CarritoService  : ✅ Producto encontrado: Té verde matcha en polvo
2025-05-30T02:10:22.517+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:10:22.535+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:10:22.552+02:00  INFO 26488 --- [http-nio-8081-exec-7] c.t.terranostra.services.CarritoService  : 🧾 Item ya existente. Cantidad actualizada: 1 -> 2
2025-05-30T02:10:22.569+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    update
        carrito_item 
    set
        cantidad=?,
        carrito_id=?,
        imagen=?,
        nombre=?,
        precio_unitario=?,
        producto_id=? 
    where
        id=?
2025-05-30T02:10:22.620+02:00  INFO 26488 --- [http-nio-8081-exec-7] c.t.terranostra.services.CarritoService  : ✅ Carrito guardado correctamente
2025-05-30T02:10:22.620+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:10:22.620+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{mensaje=Producto añadido al carrito}]
2025-05-30T02:10:22.621+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:10:22.628+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:10:22.628+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:10:22.628+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:10:22.628+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:10:22.629+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:10:22.677+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:10:22.740+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:10:22.757+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:10:22.774+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:10:22.828+02:00  INFO 26488 --- [http-nio-8081-exec-8] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:10:22.828+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:10:22.834+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T02:10:22.851+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:10:37.447+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T02:10:37.447+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:10:37.448+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T02:10:37.448+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T02:10:37.449+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T02:10:37.489+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:10:37.490+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:10:37.490+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:10:37.490+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:10:37.491+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:10:37.509+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T02:10:37.557+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:10:37.710+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:10:37.726+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:10:37.744+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:10:37.755+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T02:10:37.812+02:00  INFO 26488 --- [http-nio-8081-exec-3] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:10:37.813+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:10:37.818+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T02:10:37.854+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:10:37.982+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:10:37.982+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:10:37.983+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:10:37.983+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:10:37.983+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:10:38.035+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:10:38.102+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:10:38.112+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T02:10:38.120+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:10:38.137+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:10:38.210+02:00  INFO 26488 --- [http-nio-8081-exec-6] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:10:38.211+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:10:38.220+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T02:10:38.231+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:10:38.240+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:10:38.656+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/resenias/producto/33
2025-05-30T02:10:38.657+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:10:38.657+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/resenias/producto/33
2025-05-30T02:10:38.657+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/resenias/producto/33", parameters={}
2025-05-30T02:10:38.658+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ReseniaController#obtenerReseniasPorProducto(Long)
2025-05-30T02:10:38.701+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:10:38.821+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        rm1_0.id,
        rm1_0.comentario,
        rm1_0.fecha,
        rm1_0.producto_id,
        rm1_0.usuario_id,
        rm1_0.valoracion 
    from
        resenas rm1_0 
    where
        rm1_0.producto_id=? 
    order by
        rm1_0.fecha desc
2025-05-30T02:10:38.840+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T02:10:38.841+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-05-30T02:10:38.841+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:10:39.989+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /carrito/agregar?usuarioId=50
2025-05-30T02:10:39.990+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:10:39.990+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /carrito/agregar?usuarioId=50
2025-05-30T02:10:39.990+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/carrito/agregar?usuarioId=50", parameters={masked}
2025-05-30T02:10:39.990+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#agregarAlCarrito(Long, CarritoItemDto)
2025-05-30T02:10:39.993+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CarritoItemDto(productoId=33, cantidad=1, nombre=Producto, imagen=, precioUnitario=14.95)]
2025-05-30T02:10:39.994+02:00  INFO 26488 --- [http-nio-8081-exec-4] c.t.terranostra.services.CarritoService  : 🧪 [agregarProductoAlCarrito] Iniciando para usuarioId=50 y productoId=33
2025-05-30T02:10:40.049+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:10:40.121+02:00  INFO 26488 --- [http-nio-8081-exec-4] c.t.terranostra.services.CarritoService  : ✅ Usuario encontrado: ballesterospereze@gmail.com
2025-05-30T02:10:40.158+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:10:40.273+02:00  INFO 26488 --- [http-nio-8081-exec-4] c.t.terranostra.services.CarritoService  : ✅ Producto encontrado: Té verde matcha en polvo
2025-05-30T02:10:40.274+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:10:40.293+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:10:40.311+02:00  INFO 26488 --- [http-nio-8081-exec-4] c.t.terranostra.services.CarritoService  : 🧾 Item ya existente. Cantidad actualizada: 2 -> 3
2025-05-30T02:10:40.331+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    update
        carrito_item 
    set
        cantidad=?,
        carrito_id=?,
        imagen=?,
        nombre=?,
        precio_unitario=?,
        producto_id=? 
    where
        id=?
2025-05-30T02:10:40.392+02:00  INFO 26488 --- [http-nio-8081-exec-4] c.t.terranostra.services.CarritoService  : ✅ Carrito guardado correctamente
2025-05-30T02:10:40.393+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:10:40.393+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{mensaje=Producto añadido al carrito}]
2025-05-30T02:10:40.394+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:10:40.403+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:10:40.403+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:10:40.404+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:10:40.404+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:10:40.404+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:10:40.462+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:10:40.534+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:10:40.552+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:10:40.570+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:10:40.631+02:00  INFO 26488 --- [http-nio-8081-exec-7] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:10:40.632+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:10:40.636+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T02:10:40.653+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:10:45.085+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing DELETE /carrito/50/producto/33
2025-05-30T02:10:45.085+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:10:45.085+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured DELETE /carrito/50/producto/33
2025-05-30T02:10:45.085+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : DELETE "/carrito/50/producto/33", parameters={}
2025-05-30T02:10:45.085+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#eliminarProducto(Long, Long)
2025-05-30T02:10:45.118+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:10:45.135+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:10:45.152+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:10:45.170+02:00  INFO 26488 --- [http-nio-8081-exec-8] c.t.terranostra.services.CarritoService  : 🗑️ Producto 33 eliminado completamente del carrito
2025-05-30T02:10:45.171+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    delete 
    from
        carrito_item 
    where
        id=?
2025-05-30T02:10:45.219+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:10:45.219+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{mensaje=Producto eliminado correctamente}]
2025-05-30T02:10:45.220+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:10:45.226+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:10:45.226+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:10:45.226+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:10:45.226+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:10:45.226+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:10:45.258+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:10:45.326+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:10:45.342+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:10:45.359+02:00  INFO 26488 --- [http-nio-8081-exec-5] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:10:45.359+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:10:45.360+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T02:10:45.360+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:10:46.938+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /carrito/agregar?usuarioId=50
2025-05-30T02:10:46.938+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:10:46.938+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /carrito/agregar?usuarioId=50
2025-05-30T02:10:46.939+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/carrito/agregar?usuarioId=50", parameters={masked}
2025-05-30T02:10:46.939+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#agregarAlCarrito(Long, CarritoItemDto)
2025-05-30T02:10:46.940+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CarritoItemDto(productoId=33, cantidad=1, nombre=Producto, imagen=, precioUnitario=14.95)]
2025-05-30T02:10:46.940+02:00  INFO 26488 --- [http-nio-8081-exec-9] c.t.terranostra.services.CarritoService  : 🧪 [agregarProductoAlCarrito] Iniciando para usuarioId=50 y productoId=33
2025-05-30T02:10:46.993+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:10:47.062+02:00  INFO 26488 --- [http-nio-8081-exec-9] c.t.terranostra.services.CarritoService  : ✅ Usuario encontrado: ballesterospereze@gmail.com
2025-05-30T02:10:47.096+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:10:47.210+02:00  INFO 26488 --- [http-nio-8081-exec-9] c.t.terranostra.services.CarritoService  : ✅ Producto encontrado: Té verde matcha en polvo
2025-05-30T02:10:47.211+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:10:47.229+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:10:47.248+02:00  INFO 26488 --- [http-nio-8081-exec-9] c.t.terranostra.services.CarritoService  : 🆕 Item añadido al carrito: Té verde matcha en polvo (1 uds)
2025-05-30T02:10:47.267+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    insert 
    into
        carrito_item
        (cantidad, carrito_id, imagen, nombre, precio_unitario, producto_id) 
    values
        (?, ?, ?, ?, ?, ?)
2025-05-30T02:10:47.322+02:00  INFO 26488 --- [http-nio-8081-exec-9] c.t.terranostra.services.CarritoService  : ✅ Carrito guardado correctamente
2025-05-30T02:10:47.322+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:10:47.322+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{mensaje=Producto añadido al carrito}]
2025-05-30T02:10:47.323+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:10:47.329+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:10:47.329+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:10:47.329+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:10:47.329+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:10:47.329+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:10:47.378+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:10:47.446+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:10:47.463+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:10:47.480+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:10:47.538+02:00  INFO 26488 --- [http-nio-8081-exec-10] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:10:47.539+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:10:47.544+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T02:10:47.561+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:11:59.593+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T02:11:59.594+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:11:59.594+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T02:11:59.595+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T02:11:59.595+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T02:11:59.648+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T02:11:59.678+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:11:59.678+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:11:59.678+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:11:59.679+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:11:59.679+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:11:59.746+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:11:59.844+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:11:59.862+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:11:59.880+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:11:59.903+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T02:11:59.954+02:00  INFO 26488 --- [http-nio-8081-exec-4] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:11:59.955+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:11:59.964+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T02:11:59.982+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:12:00.016+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:12:00.016+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:12:00.017+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:12:00.017+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:12:00.017+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:12:00.068+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:12:00.148+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:12:00.175+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:12:00.203+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:12:00.302+02:00  INFO 26488 --- [http-nio-8081-exec-7] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:12:00.303+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:12:00.313+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T02:12:00.401+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T02:12:00.406+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:12:00.444+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:12:00.599+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/resenias/producto/33
2025-05-30T02:12:00.599+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:12:00.599+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/resenias/producto/33
2025-05-30T02:12:00.600+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/resenias/producto/33", parameters={}
2025-05-30T02:12:00.600+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ReseniaController#obtenerReseniasPorProducto(Long)
2025-05-30T02:12:00.635+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:12:00.751+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        rm1_0.id,
        rm1_0.comentario,
        rm1_0.fecha,
        rm1_0.producto_id,
        rm1_0.usuario_id,
        rm1_0.valoracion 
    from
        resenas rm1_0 
    where
        rm1_0.producto_id=? 
    order by
        rm1_0.fecha desc
2025-05-30T02:12:00.769+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T02:12:00.770+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-05-30T02:12:00.770+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:12:21.303+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:12:21.304+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:12:21.305+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:12:21.305+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:12:21.307+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:12:21.358+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:12:21.426+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:12:21.443+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:12:21.459+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:12:21.524+02:00  INFO 26488 --- [http-nio-8081-exec-5] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:12:21.524+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:12:21.528+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T02:12:21.548+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:12:21.571+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:12:21.572+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:12:21.572+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:12:21.572+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:12:21.572+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:12:21.624+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:12:21.691+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:12:21.709+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:12:21.728+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:12:21.794+02:00  INFO 26488 --- [http-nio-8081-exec-9] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:12:21.794+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:12:21.799+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T02:12:21.816+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:12:54.283+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:12:54.283+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:12:54.284+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:12:54.284+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:12:54.285+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:12:54.361+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:12:54.428+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:12:54.447+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:12:54.464+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:12:54.521+02:00  INFO 26488 --- [http-nio-8081-exec-6] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:12:54.522+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:12:54.531+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T02:12:54.548+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:12:54.576+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:12:54.576+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:12:54.576+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:12:54.577+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:12:54.577+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:12:54.632+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:12:54.706+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:12:54.725+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:12:54.751+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:12:54.815+02:00  INFO 26488 --- [http-nio-8081-exec-4] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:12:54.815+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:12:54.821+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T02:12:54.839+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:13:09.683+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T02:13:09.684+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:13:09.684+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T02:13:09.684+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T02:13:09.684+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T02:13:09.733+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T02:13:09.815+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:13:09.815+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:13:09.815+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:13:09.815+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:13:09.815+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:13:09.883+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:13:09.955+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:13:09.972+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:13:09.987+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T02:13:09.989+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:13:10.083+02:00  INFO 26488 --- [http-nio-8081-exec-1] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:13:10.084+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:13:10.092+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T02:13:10.127+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:13:10.198+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:13:10.199+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:13:10.199+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:13:10.200+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:13:10.200+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:13:10.237+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:13:10.322+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:13:10.350+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:13:10.371+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:13:10.437+02:00  INFO 26488 --- [http-nio-8081-exec-8] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:13:10.439+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:13:10.447+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T02:13:10.548+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T02:13:10.552+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:13:10.590+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:13:14.662+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:13:14.662+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:13:14.663+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:13:14.663+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:13:14.663+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:13:14.713+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:13:14.779+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:13:14.796+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:13:14.812+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:13:14.877+02:00  INFO 26488 --- [http-nio-8081-exec-5] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:13:14.878+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:13:14.884+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T02:13:14.902+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:13:14.927+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:13:14.927+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:13:14.928+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:13:14.928+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:13:14.928+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:13:15.024+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:13:15.100+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:13:15.119+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:13:15.137+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:13:15.196+02:00  INFO 26488 --- [http-nio-8081-exec-9] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:13:15.196+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:13:15.202+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T02:13:15.220+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:13:35.069+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:13:35.069+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:13:35.069+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:13:35.070+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:13:35.070+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:13:35.126+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:13:35.191+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:13:35.208+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:13:35.226+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:13:35.293+02:00  INFO 26488 --- [http-nio-8081-exec-2] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:13:35.293+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:13:35.300+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T02:13:35.318+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:13:35.353+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:13:35.353+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:13:35.353+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:13:35.353+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:13:35.354+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:13:35.387+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:13:35.456+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:13:35.474+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:13:35.490+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:13:35.552+02:00  INFO 26488 --- [http-nio-8081-exec-10] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:13:35.553+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:13:35.556+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T02:13:35.573+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:13:46.220+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T02:13:46.220+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:13:46.220+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T02:13:46.220+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T02:13:46.221+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T02:13:46.274+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T02:13:46.497+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:13:46.497+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:13:46.497+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:13:46.497+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:13:46.497+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:13:46.527+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T02:13:46.551+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:13:46.677+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:13:46.724+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:13:46.786+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:13:46.882+02:00  INFO 26488 --- [http-nio-8081-exec-1] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:13:46.883+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:13:46.890+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T02:13:46.933+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:13:47.076+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T02:13:47.090+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:13:47.090+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:13:47.090+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:13:47.090+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:13:47.091+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:13:47.133+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:13:47.169+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:13:47.284+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:13:47.303+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:13:47.326+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:13:47.390+02:00  INFO 26488 --- [http-nio-8081-exec-8] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:13:47.391+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:13:47.395+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T02:13:47.416+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:13:47.641+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T02:13:47.641+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:13:47.643+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T02:13:47.643+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T02:13:47.643+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T02:13:47.697+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T02:13:47.963+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T02:13:47.977+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:13:47.977+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:13:47.977+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:13:47.977+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:13:47.977+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:13:48.061+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:13:48.139+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:13:48.158+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:13:48.176+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:13:48.242+02:00  INFO 26488 --- [http-nio-8081-exec-5] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:13:48.243+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:13:48.254+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T02:13:48.280+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:13:48.315+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:13:48.316+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:13:48.316+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:13:48.317+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:13:48.317+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:13:48.430+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T02:13:48.431+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:13:48.497+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:13:48.519+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:13:48.538+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:13:48.558+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:13:48.632+02:00  INFO 26488 --- [http-nio-8081-exec-9] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:13:48.635+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:13:48.646+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T02:13:48.678+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:13:53.837+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:13:53.837+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:13:53.839+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:13:53.839+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:13:53.839+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:13:53.890+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:13:53.957+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:13:53.974+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:13:53.993+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:13:54.049+02:00  INFO 26488 --- [http-nio-8081-exec-2] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:13:54.050+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:13:54.058+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T02:13:54.076+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:13:54.103+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:13:54.103+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:13:54.103+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:13:54.104+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:13:54.104+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:13:54.138+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:13:54.205+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:13:54.225+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:13:54.242+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:13:54.303+02:00  INFO 26488 --- [http-nio-8081-exec-10] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:13:54.303+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:13:54.309+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T02:13:54.326+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:15:04.076+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:15:04.076+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:15:04.077+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:15:04.077+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:15:04.077+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:15:04.127+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:15:04.195+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:15:04.215+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:15:04.232+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:15:04.291+02:00  INFO 26488 --- [http-nio-8081-exec-1] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:15:04.291+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:15:04.296+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T02:15:04.314+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:15:04.348+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:15:04.349+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:15:04.349+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:15:04.349+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:15:04.349+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:15:04.401+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:15:04.481+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:15:04.500+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:15:04.520+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:15:04.577+02:00  INFO 26488 --- [http-nio-8081-exec-4] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:15:04.577+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:15:04.581+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T02:15:04.598+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:15:06.362+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T02:15:06.362+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:15:06.362+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T02:15:06.362+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T02:15:06.362+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T02:15:06.418+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T02:15:06.691+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:15:06.691+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:15:06.691+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:15:06.691+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:15:06.693+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:15:06.725+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T02:15:06.746+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:15:06.848+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:15:06.876+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:15:06.922+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:15:07.019+02:00  INFO 26488 --- [http-nio-8081-exec-5] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:15:07.020+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:15:07.030+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T02:15:07.064+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:15:07.097+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:15:07.098+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:15:07.098+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:15:07.099+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:15:07.099+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:15:07.157+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:15:07.289+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T02:15:07.309+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:15:07.328+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:15:07.334+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:15:07.353+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:15:07.417+02:00  INFO 26488 --- [http-nio-8081-exec-7] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:15:07.418+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:15:07.424+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T02:15:07.451+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:15:11.054+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:15:11.055+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:15:11.055+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:15:11.055+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:15:11.056+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:15:11.109+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:15:11.180+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:15:11.198+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:15:11.216+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:15:11.273+02:00  INFO 26488 --- [http-nio-8081-exec-9] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:15:11.273+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:15:11.279+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T02:15:11.297+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:15:11.324+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:15:11.325+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:15:11.325+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:15:11.325+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:15:11.325+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:15:11.375+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:15:11.441+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:15:11.458+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:15:11.474+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:15:11.534+02:00  INFO 26488 --- [http-nio-8081-exec-2] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:15:11.535+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:15:11.542+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T02:15:11.558+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:16:08.550+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T02:16:08.550+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:16:08.550+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T02:16:08.551+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T02:16:08.551+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T02:16:08.604+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T02:16:08.873+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T02:16:09.264+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T02:16:09.309+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:16:09.422+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T02:16:09.422+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:16:09.422+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T02:16:09.422+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T02:16:09.422+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T02:16:09.460+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T02:16:09.710+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T02:16:10.116+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T02:16:10.155+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:16:13.062+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T02:16:13.062+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:16:13.062+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T02:16:13.062+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T02:16:13.063+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T02:16:13.070+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T02:16:13.070+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:16:13.070+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T02:16:13.070+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T02:16:13.070+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T02:16:13.126+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T02:16:13.143+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T02:16:13.628+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T02:16:13.640+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T02:16:14.142+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T02:16:14.170+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T02:16:14.180+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:16:14.208+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:16:14.331+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T02:16:14.331+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:16:14.331+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T02:16:14.331+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T02:16:14.332+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T02:16:14.390+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T02:16:14.637+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T02:16:15.058+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T02:16:15.096+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:16:18.867+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T02:16:18.868+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:16:18.868+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T02:16:18.868+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T02:16:18.868+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T02:16:18.919+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T02:16:19.166+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T02:16:19.591+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T02:16:19.624+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:16:19.726+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T02:16:19.727+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:16:19.727+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T02:16:19.727+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T02:16:19.728+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T02:16:19.763+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/resenias/producto/33
2025-05-30T02:16:19.763+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:16:19.763+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/resenias/producto/33
2025-05-30T02:16:19.763+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/resenias/producto/33", parameters={}
2025-05-30T02:16:19.763+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ReseniaController#obtenerReseniasPorProducto(Long)
2025-05-30T02:16:19.846+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:16:19.866+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T02:16:19.972+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        rm1_0.id,
        rm1_0.comentario,
        rm1_0.fecha,
        rm1_0.producto_id,
        rm1_0.usuario_id,
        rm1_0.valoracion 
    from
        resenas rm1_0 
    where
        rm1_0.producto_id=? 
    order by
        rm1_0.fecha desc
2025-05-30T02:16:19.994+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T02:16:19.994+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-05-30T02:16:19.995+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:16:20.121+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T02:16:20.493+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T02:16:20.532+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:16:20.673+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/resenias/producto/33
2025-05-30T02:16:20.673+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:16:20.673+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/resenias/producto/33
2025-05-30T02:16:20.673+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/resenias/producto/33", parameters={}
2025-05-30T02:16:20.674+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ReseniaController#obtenerReseniasPorProducto(Long)
2025-05-30T02:16:20.730+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:16:20.836+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        rm1_0.id,
        rm1_0.comentario,
        rm1_0.fecha,
        rm1_0.producto_id,
        rm1_0.usuario_id,
        rm1_0.valoracion 
    from
        resenas rm1_0 
    where
        rm1_0.producto_id=? 
    order by
        rm1_0.fecha desc
2025-05-30T02:16:20.855+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T02:16:20.855+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-05-30T02:16:20.855+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:17:23.970+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T02:17:23.970+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:17:23.971+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T02:17:23.971+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T02:17:23.971+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T02:17:24.160+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T02:17:25.401+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T02:17:25.803+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T02:17:25.880+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:17:25.999+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T02:17:25.999+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:17:25.999+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T02:17:25.999+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T02:17:26.000+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T02:17:26.026+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/resenias/producto/33
2025-05-30T02:17:26.026+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:17:26.026+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/resenias/producto/33
2025-05-30T02:17:26.026+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/resenias/producto/33", parameters={}
2025-05-30T02:17:26.026+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ReseniaController#obtenerReseniasPorProducto(Long)
2025-05-30T02:17:26.057+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T02:17:26.078+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:17:26.274+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        rm1_0.id,
        rm1_0.comentario,
        rm1_0.fecha,
        rm1_0.producto_id,
        rm1_0.usuario_id,
        rm1_0.valoracion 
    from
        resenas rm1_0 
    where
        rm1_0.producto_id=? 
    order by
        rm1_0.fecha desc
2025-05-30T02:17:26.300+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T02:17:26.300+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-05-30T02:17:26.302+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:17:26.383+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T02:17:26.720+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T02:17:26.756+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:17:26.868+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/resenias/producto/33
2025-05-30T02:17:26.868+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:17:26.868+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/resenias/producto/33
2025-05-30T02:17:26.868+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/resenias/producto/33", parameters={}
2025-05-30T02:17:26.869+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ReseniaController#obtenerReseniasPorProducto(Long)
2025-05-30T02:17:26.921+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:17:27.059+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        rm1_0.id,
        rm1_0.comentario,
        rm1_0.fecha,
        rm1_0.producto_id,
        rm1_0.usuario_id,
        rm1_0.valoracion 
    from
        resenas rm1_0 
    where
        rm1_0.producto_id=? 
    order by
        rm1_0.fecha desc
2025-05-30T02:17:27.077+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T02:17:27.077+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-05-30T02:17:27.078+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:17:36.158+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T02:17:36.159+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:17:36.159+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T02:17:36.159+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T02:17:36.159+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T02:17:36.208+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T02:17:36.559+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T02:17:36.913+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T02:17:36.948+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:17:37.037+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T02:17:37.038+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:17:37.038+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T02:17:37.038+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T02:17:37.039+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T02:17:37.095+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/resenias/producto/33
2025-05-30T02:17:37.095+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:17:37.095+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/resenias/producto/33
2025-05-30T02:17:37.096+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/resenias/producto/33", parameters={}
2025-05-30T02:17:37.096+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ReseniaController#obtenerReseniasPorProducto(Long)
2025-05-30T02:17:37.097+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T02:17:37.131+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:17:37.379+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        rm1_0.id,
        rm1_0.comentario,
        rm1_0.fecha,
        rm1_0.producto_id,
        rm1_0.usuario_id,
        rm1_0.valoracion 
    from
        resenas rm1_0 
    where
        rm1_0.producto_id=? 
    order by
        rm1_0.fecha desc
2025-05-30T02:17:37.400+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T02:17:37.400+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-05-30T02:17:37.401+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:17:37.426+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T02:17:37.750+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T02:17:37.789+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:17:37.925+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/resenias/producto/33
2025-05-30T02:17:37.925+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:17:37.925+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/resenias/producto/33
2025-05-30T02:17:37.927+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/resenias/producto/33", parameters={}
2025-05-30T02:17:37.927+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ReseniaController#obtenerReseniasPorProducto(Long)
2025-05-30T02:17:37.980+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:17:38.083+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        rm1_0.id,
        rm1_0.comentario,
        rm1_0.fecha,
        rm1_0.producto_id,
        rm1_0.usuario_id,
        rm1_0.valoracion 
    from
        resenas rm1_0 
    where
        rm1_0.producto_id=? 
    order by
        rm1_0.fecha desc
2025-05-30T02:17:38.101+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T02:17:38.101+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-05-30T02:17:38.102+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:19:08.385+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T02:19:08.385+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:19:08.386+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T02:19:08.386+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T02:19:08.386+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T02:19:08.439+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T02:19:08.723+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T02:19:08.728+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:19:08.728+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:19:08.728+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:19:08.728+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:19:08.728+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:19:08.780+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:19:08.851+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:19:08.870+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:19:08.888+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:19:08.948+02:00  INFO 26488 --- [http-nio-8081-exec-8] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:19:08.948+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:19:08.956+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T02:19:08.970+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:19:08.998+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:19:08.998+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:19:08.998+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:19:08.998+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:19:08.999+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:19:09.054+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:19:09.110+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T02:19:09.128+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:19:09.147+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:19:09.153+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:19:09.173+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:19:09.229+02:00  INFO 26488 --- [http-nio-8081-exec-4] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:19:09.230+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:19:09.238+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T02:19:09.254+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:19:09.333+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/resenias/producto/33
2025-05-30T02:19:09.335+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:19:09.335+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/resenias/producto/33
2025-05-30T02:19:09.335+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/resenias/producto/33", parameters={}
2025-05-30T02:19:09.335+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ReseniaController#obtenerReseniasPorProducto(Long)
2025-05-30T02:19:09.371+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:19:09.477+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        rm1_0.id,
        rm1_0.comentario,
        rm1_0.fecha,
        rm1_0.producto_id,
        rm1_0.usuario_id,
        rm1_0.valoracion 
    from
        resenas rm1_0 
    where
        rm1_0.producto_id=? 
    order by
        rm1_0.fecha desc
2025-05-30T02:19:09.495+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T02:19:09.495+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-05-30T02:19:09.496+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:19:12.852+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /carrito/agregar?usuarioId=50
2025-05-30T02:19:12.852+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:19:12.852+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /carrito/agregar?usuarioId=50
2025-05-30T02:19:12.852+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/carrito/agregar?usuarioId=50", parameters={masked}
2025-05-30T02:19:12.853+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#agregarAlCarrito(Long, CarritoItemDto)
2025-05-30T02:19:12.854+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CarritoItemDto(productoId=33, cantidad=1, nombre=Producto, imagen=, precioUnitario=14.95)]
2025-05-30T02:19:12.854+02:00  INFO 26488 --- [http-nio-8081-exec-2] c.t.terranostra.services.CarritoService  : 🧪 [agregarProductoAlCarrito] Iniciando para usuarioId=50 y productoId=33
2025-05-30T02:19:12.899+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:19:12.962+02:00  INFO 26488 --- [http-nio-8081-exec-2] c.t.terranostra.services.CarritoService  : ✅ Usuario encontrado: ballesterospereze@gmail.com
2025-05-30T02:19:12.994+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:19:13.091+02:00  INFO 26488 --- [http-nio-8081-exec-2] c.t.terranostra.services.CarritoService  : ✅ Producto encontrado: Té verde matcha en polvo
2025-05-30T02:19:13.093+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:19:13.110+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:19:13.127+02:00  INFO 26488 --- [http-nio-8081-exec-2] c.t.terranostra.services.CarritoService  : 🧾 Item ya existente. Cantidad actualizada: 1 -> 2
2025-05-30T02:19:13.151+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    update
        carrito_item 
    set
        cantidad=?,
        carrito_id=?,
        imagen=?,
        nombre=?,
        precio_unitario=?,
        producto_id=? 
    where
        id=?
2025-05-30T02:19:13.200+02:00  INFO 26488 --- [http-nio-8081-exec-2] c.t.terranostra.services.CarritoService  : ✅ Carrito guardado correctamente
2025-05-30T02:19:13.200+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:19:13.200+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{mensaje=Producto añadido al carrito}]
2025-05-30T02:19:13.201+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:19:13.208+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:19:13.208+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:19:13.208+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:19:13.208+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:19:13.209+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:19:13.239+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:19:13.303+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:19:13.320+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:19:13.337+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:19:13.394+02:00  INFO 26488 --- [http-nio-8081-exec-10] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:19:13.394+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:19:13.399+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T02:19:13.417+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:19:18.301+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing DELETE /carrito/50/producto/33
2025-05-30T02:19:18.301+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:19:18.301+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured DELETE /carrito/50/producto/33
2025-05-30T02:19:18.302+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : DELETE "/carrito/50/producto/33", parameters={}
2025-05-30T02:19:18.302+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#eliminarProducto(Long, Long)
2025-05-30T02:19:18.337+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:19:18.356+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:19:18.373+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:19:18.390+02:00  INFO 26488 --- [http-nio-8081-exec-9] c.t.terranostra.services.CarritoService  : 🗑️ Producto 33 eliminado completamente del carrito
2025-05-30T02:19:18.390+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    delete 
    from
        carrito_item 
    where
        id=?
2025-05-30T02:19:18.443+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:19:18.443+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{mensaje=Producto eliminado correctamente}]
2025-05-30T02:19:18.444+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:19:18.450+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:19:18.450+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:19:18.450+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:19:18.450+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:19:18.450+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:19:18.499+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:19:18.564+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:19:18.580+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:19:18.597+02:00  INFO 26488 --- [http-nio-8081-exec-3] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:19:18.597+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:19:18.597+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[])]
2025-05-30T02:19:18.598+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:19:19.719+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /carrito/agregar?usuarioId=50
2025-05-30T02:19:19.719+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:19:19.720+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /carrito/agregar?usuarioId=50
2025-05-30T02:19:19.720+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/carrito/agregar?usuarioId=50", parameters={masked}
2025-05-30T02:19:19.720+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#agregarAlCarrito(Long, CarritoItemDto)
2025-05-30T02:19:19.720+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CarritoItemDto(productoId=33, cantidad=1, nombre=Producto, imagen=, precioUnitario=14.95)]
2025-05-30T02:19:19.721+02:00  INFO 26488 --- [http-nio-8081-exec-1] c.t.terranostra.services.CarritoService  : 🧪 [agregarProductoAlCarrito] Iniciando para usuarioId=50 y productoId=33
2025-05-30T02:19:19.768+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:19:19.832+02:00  INFO 26488 --- [http-nio-8081-exec-1] c.t.terranostra.services.CarritoService  : ✅ Usuario encontrado: ballesterospereze@gmail.com
2025-05-30T02:19:19.863+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:19:19.965+02:00  INFO 26488 --- [http-nio-8081-exec-1] c.t.terranostra.services.CarritoService  : ✅ Producto encontrado: Té verde matcha en polvo
2025-05-30T02:19:19.966+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:19:19.984+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:19:20.002+02:00  INFO 26488 --- [http-nio-8081-exec-1] c.t.terranostra.services.CarritoService  : 🆕 Item añadido al carrito: Té verde matcha en polvo (1 uds)
2025-05-30T02:19:20.020+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    insert 
    into
        carrito_item
        (cantidad, carrito_id, imagen, nombre, precio_unitario, producto_id) 
    values
        (?, ?, ?, ?, ?, ?)
2025-05-30T02:19:20.076+02:00  INFO 26488 --- [http-nio-8081-exec-1] c.t.terranostra.services.CarritoService  : ✅ Carrito guardado correctamente
2025-05-30T02:19:20.076+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:19:20.076+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{mensaje=Producto añadido al carrito}]
2025-05-30T02:19:20.077+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:19:20.082+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:19:20.083+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:19:20.083+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:19:20.083+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:19:20.083+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:19:20.118+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:19:20.187+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:19:20.205+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:19:20.224+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:19:20.276+02:00  INFO 26488 --- [http-nio-8081-exec-6] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:19:20.277+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:19:20.281+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T02:19:20.297+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:19:39.201+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/resenias
2025-05-30T02:19:39.201+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:19:39.201+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/resenias
2025-05-30T02:19:39.201+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/resenias", parameters={}
2025-05-30T02:19:39.201+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ReseniaController#crearResenia(CrearReseniaDto)
2025-05-30T02:19:39.212+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CrearReseniaDto(productoId=33, usuarioId=50, comentario=Muy buena calidad, valoracion=5)]
2025-05-30T02:19:39.264+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:19:39.369+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:19:39.499+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    insert 
    into
        resenas
        (comentario, fecha, producto_id, usuario_id, valoracion) 
    values
        (?, ?, ?, ?, ?)
2025-05-30T02:19:39.560+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:19:39.574+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ReseniaDto(id=10, productoId=33, nombreProducto=Té verde matcha en polvo, usuarioId=50, nombreUsuari (truncated)...]
2025-05-30T02:19:39.576+02:00 DEBUG 26488 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-05-30T02:19:39.589+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/resenias/producto/33
2025-05-30T02:19:39.589+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:19:39.591+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/resenias/producto/33
2025-05-30T02:19:39.591+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/resenias/producto/33", parameters={}
2025-05-30T02:19:39.591+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ReseniaController#obtenerReseniasPorProducto(Long)
2025-05-30T02:19:39.642+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:19:39.748+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        rm1_0.id,
        rm1_0.comentario,
        rm1_0.fecha,
        rm1_0.producto_id,
        rm1_0.usuario_id,
        rm1_0.valoracion 
    from
        resenas rm1_0 
    where
        rm1_0.producto_id=? 
    order by
        rm1_0.fecha desc
2025-05-30T02:19:39.767+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:19:39.786+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T02:19:39.786+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ReseniaDto(id=10, productoId=33, nombreProducto=Té verde matcha en polvo, usuarioId=50, nombreUsuar (truncated)...]
2025-05-30T02:19:39.788+02:00 DEBUG 26488 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:19:54.592+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T02:19:54.592+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:19:54.592+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T02:19:54.593+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T02:19:54.593+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T02:19:54.645+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T02:19:54.912+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:19:54.913+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:19:54.913+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:19:54.915+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:19:54.915+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:19:55.002+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:19:55.081+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:19:55.098+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:19:55.112+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T02:19:55.118+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:19:55.267+02:00  INFO 26488 --- [http-nio-8081-exec-9] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:19:55.267+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:19:55.273+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T02:19:55.291+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:19:55.452+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T02:19:55.488+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:21:00.164+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T02:21:00.164+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:21:00.165+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T02:21:00.165+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T02:21:00.165+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T02:21:00.220+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T02:21:00.270+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:21:00.271+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:21:00.272+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:21:00.272+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:21:00.272+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:21:00.324+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:21:00.413+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:21:00.449+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:21:00.484+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:21:00.638+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T02:21:00.645+02:00  INFO 26488 --- [http-nio-8081-exec-5] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:21:00.645+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:21:00.652+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T02:21:00.669+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:21:01.002+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T02:21:01.040+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:23:00.781+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T02:23:00.782+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:23:00.782+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T02:23:00.782+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T02:23:00.782+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T02:23:00.838+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T02:23:01.082+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T02:23:01.160+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:23:01.160+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:23:01.160+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:23:01.160+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:23:01.161+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:23:01.236+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:23:01.305+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:23:01.326+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:23:01.344+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:23:01.422+02:00  INFO 26488 --- [http-nio-8081-exec-9] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:23:01.423+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:23:01.431+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T02:23:01.445+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T02:23:01.450+02:00 DEBUG 26488 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:23:01.487+02:00 DEBUG 26488 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:23:06.362+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T02:23:06.362+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:23:06.363+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T02:23:06.363+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T02:23:06.363+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T02:23:06.414+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T02:23:06.635+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:23:06.636+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:23:06.636+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:23:06.636+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:23:06.637+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:23:06.696+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:23:06.697+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T02:23:06.762+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:23:06.780+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:23:06.798+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:23:06.888+02:00  INFO 26488 --- [http-nio-8081-exec-3] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:23:06.889+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:23:06.895+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T02:23:06.915+02:00 DEBUG 26488 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:23:06.940+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:23:06.940+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:23:06.941+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:23:06.941+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:23:06.941+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:23:06.972+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:23:07.037+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:23:07.054+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:23:07.071+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:23:07.073+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T02:23:07.109+02:00 DEBUG 26488 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:23:07.162+02:00  INFO 26488 --- [http-nio-8081-exec-1] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:23:07.163+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:23:07.168+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T02:23:07.191+02:00 DEBUG 26488 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:23:07.243+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/resenias/producto/34
2025-05-30T02:23:07.244+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:23:07.244+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/resenias/producto/34
2025-05-30T02:23:07.244+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/resenias/producto/34", parameters={}
2025-05-30T02:23:07.245+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ReseniaController#obtenerReseniasPorProducto(Long)
2025-05-30T02:23:07.281+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:23:07.395+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        rm1_0.id,
        rm1_0.comentario,
        rm1_0.fecha,
        rm1_0.producto_id,
        rm1_0.usuario_id,
        rm1_0.valoracion 
    from
        resenas rm1_0 
    where
        rm1_0.producto_id=? 
    order by
        rm1_0.fecha desc
2025-05-30T02:23:07.416+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T02:23:07.416+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-05-30T02:23:07.417+02:00 DEBUG 26488 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:23:07.978+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T02:23:07.978+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:23:07.978+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T02:23:07.978+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T02:23:07.978+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T02:23:08.031+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T02:23:08.035+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T02:23:08.035+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T02:23:08.035+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T02:23:08.035+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T02:23:08.036+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T02:23:08.091+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T02:23:08.167+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T02:23:08.186+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T02:23:08.205+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T02:23:08.308+02:00  INFO 26488 --- [http-nio-8081-exec-8] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T02:23:08.310+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T02:23:08.319+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T02:23:08.337+02:00 DEBUG 26488 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T02:23:08.385+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T02:23:08.723+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T02:23:08.758+02:00 DEBUG 26488 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T18:48:41.921+02:00  INFO 5220 --- [restartedMain] c.t.t.TerraNostraApiApplication          : Starting TerraNostraApiApplication using Java 21.0.5 with PID 5220 (C:\Users\balle\Documents\Proyectos\terra-nostra-api\target\classes started by balle in C:\Users\balle\Documents\Proyectos\terra-nostra-api)
2025-05-30T18:48:41.924+02:00  INFO 5220 --- [restartedMain] c.t.t.TerraNostraApiApplication          : No active profile set, falling back to 1 default profile: "default"
2025-05-30T18:48:41.979+02:00  INFO 5220 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-05-30T18:48:41.979+02:00  INFO 5220 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-05-30T18:48:43.263+02:00  INFO 5220 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-30T18:48:43.453+02:00  INFO 5220 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 149 ms. Found 8 JPA repository interfaces.
2025-05-30T18:48:44.555+02:00  INFO 5220 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-05-30T18:48:44.580+02:00  INFO 5220 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-30T18:48:44.581+02:00  INFO 5220 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-05-30T18:48:44.656+02:00  INFO 5220 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-30T18:48:44.657+02:00  INFO 5220 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2676 ms
2025-05-30T18:48:44.951+02:00  INFO 5220 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-30T18:48:45.104+02:00  INFO 5220 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.4.Final
2025-05-30T18:48:45.188+02:00  INFO 5220 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-30T18:48:45.629+02:00  INFO 5220 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-30T18:48:45.669+02:00  WARN 5220 --- [restartedMain] com.zaxxer.hikari.HikariConfig           : HikariPool-1 - idleTimeout has been set but has no effect because the pool is operating as a fixed size pool.
2025-05-30T18:48:45.669+02:00  INFO 5220 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-30T18:48:51.547+02:00  INFO 5220 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@765a9a82
2025-05-30T18:48:51.551+02:00  INFO 5220 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-30T18:48:51.748+02:00  WARN 5220 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-30T18:48:51.804+02:00  INFO 5220 --- [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.4.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-30T18:48:54.120+02:00  INFO 5220 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-30T18:48:55.707+02:00  INFO 5220 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T18:48:57.353+02:00 DEBUG 5220 --- [restartedMain] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-05-30T18:48:57.439+02:00  WARN 5220 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-30T18:48:57.905+02:00 DEBUG 5220 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 32 mappings in 'requestMappingHandlerMapping'
2025-05-30T18:48:57.986+02:00 DEBUG 5220 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /static/**] in 'resourceHandlerMapping'
2025-05-30T18:48:58.078+02:00 DEBUG 5220 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-30T18:48:58.227+02:00 DEBUG 5220 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-30T18:48:58.350+02:00 DEBUG 5220 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-30T18:48:58.657+02:00  WARN 5220 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2025-05-30T18:48:58.721+02:00  INFO 5220 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-05-30T18:48:58.737+02:00  INFO 5220 --- [restartedMain] c.t.t.TerraNostraApiApplication          : Started TerraNostraApiApplication in 17.507 seconds (process running for 18.333)
2025-05-30T18:49:40.144+02:00  INFO 5220 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-30T18:49:40.145+02:00  INFO 5220 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-30T18:49:40.145+02:00 DEBUG 5220 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-30T18:49:40.145+02:00 DEBUG 5220 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-30T18:49:40.145+02:00 DEBUG 5220 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-30T18:49:40.147+02:00 DEBUG 5220 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@17d7958b
2025-05-30T18:49:40.148+02:00 DEBUG 5220 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@579b5a5
2025-05-30T18:49:40.149+02:00 DEBUG 5220 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-30T18:49:40.149+02:00  INFO 5220 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-05-30T18:49:40.190+02:00 DEBUG 5220 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T18:49:40.206+02:00 DEBUG 5220 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T18:49:40.211+02:00 DEBUG 5220 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T18:49:40.215+02:00 DEBUG 5220 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T18:49:40.218+02:00 DEBUG 5220 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T18:49:40.629+02:00 DEBUG 5220 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T18:49:42.345+02:00 DEBUG 5220 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T18:49:43.175+02:00 DEBUG 5220 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T18:49:43.487+02:00 DEBUG 5220 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T18:59:18.339+02:00 DEBUG 5220 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T18:59:18.340+02:00 DEBUG 5220 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T18:59:18.341+02:00 DEBUG 5220 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T18:59:18.341+02:00 DEBUG 5220 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T18:59:18.342+02:00 DEBUG 5220 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T18:59:18.528+02:00 DEBUG 5220 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T18:59:19.281+02:00 DEBUG 5220 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T18:59:19.901+02:00 DEBUG 5220 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T18:59:20.051+02:00 DEBUG 5220 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T18:59:36.645+02:00 DEBUG 5220 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T18:59:36.647+02:00 DEBUG 5220 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T18:59:36.648+02:00 DEBUG 5220 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T18:59:36.650+02:00 DEBUG 5220 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T18:59:36.651+02:00 DEBUG 5220 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T18:59:36.827+02:00 DEBUG 5220 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T18:59:37.430+02:00 DEBUG 5220 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T18:59:38.084+02:00 DEBUG 5220 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T18:59:38.210+02:00 DEBUG 5220 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T19:04:54.633+02:00 DEBUG 5220 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T19:04:54.634+02:00 DEBUG 5220 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T19:04:54.635+02:00 DEBUG 5220 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T19:04:54.636+02:00 DEBUG 5220 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T19:04:54.639+02:00 DEBUG 5220 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T19:04:55.788+02:00 DEBUG 5220 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T19:05:05.449+02:00 DEBUG 5220 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T19:05:05.451+02:00 DEBUG 5220 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T19:05:05.452+02:00 DEBUG 5220 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T19:05:05.452+02:00 DEBUG 5220 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T19:05:05.453+02:00 DEBUG 5220 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T19:05:05.667+02:00 DEBUG 5220 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T19:05:07.743+02:00 DEBUG 5220 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T19:05:08.388+02:00 DEBUG 5220 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T19:05:08.543+02:00 DEBUG 5220 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T19:05:09.667+02:00 DEBUG 5220 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T19:05:09.667+02:00 DEBUG 5220 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T19:05:09.668+02:00 DEBUG 5220 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T19:05:09.668+02:00 DEBUG 5220 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T19:05:09.669+02:00 DEBUG 5220 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T19:05:10.080+02:00 DEBUG 5220 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T19:05:12.615+02:00 DEBUG 5220 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T19:05:12.616+02:00 DEBUG 5220 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T19:05:12.616+02:00 DEBUG 5220 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T19:05:12.617+02:00 DEBUG 5220 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T19:05:12.618+02:00 DEBUG 5220 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T19:05:12.661+02:00 DEBUG 5220 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T19:05:13.138+02:00 DEBUG 5220 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T19:05:13.228+02:00 DEBUG 5220 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T19:05:13.326+02:00 DEBUG 5220 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T19:05:14.631+02:00 DEBUG 5220 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T19:05:15.291+02:00 DEBUG 5220 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T19:05:15.394+02:00 DEBUG 5220 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T19:05:23.994+02:00 DEBUG 5220 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T19:05:24.572+02:00 DEBUG 5220 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T19:05:24.685+02:00 DEBUG 5220 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T19:07:27.502+02:00  INFO 5220 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-30T19:07:27.522+02:00  INFO 5220 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-05-30T19:07:27.531+02:00  INFO 5220 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T19:07:27.538+02:00  INFO 5220 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-30T19:07:27.545+02:00  INFO 5220 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-30T22:25:50.962+02:00  INFO 16864 --- [restartedMain] c.t.t.TerraNostraApiApplication          : Starting TerraNostraApiApplication using Java 21.0.5 with PID 16864 (C:\Users\balle\Documents\Proyectos\terra-nostra-api\target\classes started by balle in C:\Users\balle\Documents\Proyectos\terra-nostra-api)
2025-05-30T22:25:50.966+02:00  INFO 16864 --- [restartedMain] c.t.t.TerraNostraApiApplication          : No active profile set, falling back to 1 default profile: "default"
2025-05-30T22:25:51.041+02:00  INFO 16864 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-05-30T22:25:51.041+02:00  INFO 16864 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-05-30T22:25:52.865+02:00  INFO 16864 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-30T22:25:53.067+02:00  INFO 16864 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 181 ms. Found 8 JPA repository interfaces.
2025-05-30T22:25:54.991+02:00  INFO 16864 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-05-30T22:25:55.016+02:00  INFO 16864 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-30T22:25:55.017+02:00  INFO 16864 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-05-30T22:25:55.142+02:00  INFO 16864 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-30T22:25:55.143+02:00  INFO 16864 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4100 ms
2025-05-30T22:25:56.034+02:00  INFO 16864 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-30T22:25:56.359+02:00  INFO 16864 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.4.Final
2025-05-30T22:25:56.555+02:00  INFO 16864 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-30T22:25:58.559+02:00  INFO 16864 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-30T22:25:58.673+02:00  WARN 16864 --- [restartedMain] com.zaxxer.hikari.HikariConfig           : HikariPool-1 - idleTimeout has been set but has no effect because the pool is operating as a fixed size pool.
2025-05-30T22:25:58.673+02:00  INFO 16864 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-30T22:26:04.558+02:00  INFO 16864 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@bb57ea9
2025-05-30T22:26:04.562+02:00  INFO 16864 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-30T22:26:04.774+02:00  WARN 16864 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-30T22:26:04.844+02:00  INFO 16864 --- [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.4.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-30T22:26:07.101+02:00  INFO 16864 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-30T22:26:09.459+02:00  INFO 16864 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T22:26:11.789+02:00 DEBUG 16864 --- [restartedMain] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-05-30T22:26:11.841+02:00  WARN 16864 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-30T22:26:12.184+02:00 DEBUG 16864 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 32 mappings in 'requestMappingHandlerMapping'
2025-05-30T22:26:12.252+02:00 DEBUG 16864 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /static/**] in 'resourceHandlerMapping'
2025-05-30T22:26:12.322+02:00 DEBUG 16864 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-30T22:26:12.467+02:00 DEBUG 16864 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-30T22:26:12.587+02:00 DEBUG 16864 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-30T22:26:12.870+02:00  INFO 16864 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-05-30T22:26:12.918+02:00  INFO 16864 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-05-30T22:26:12.928+02:00  INFO 16864 --- [restartedMain] c.t.t.TerraNostraApiApplication          : Started TerraNostraApiApplication in 22.757 seconds (process running for 23.609)
2025-05-30T22:28:42.824+02:00  INFO 16864 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-30T22:28:42.825+02:00  INFO 16864 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-30T22:28:42.825+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-30T22:28:42.826+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-30T22:28:42.826+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-30T22:28:42.829+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@7397de85
2025-05-30T22:28:42.830+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@52c8268
2025-05-30T22:28:42.831+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-30T22:28:42.831+02:00  INFO 16864 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2025-05-30T22:28:42.874+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T22:28:42.887+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:28:42.889+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T22:28:42.893+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T22:28:42.897+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T22:28:43.327+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T22:28:46.677+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T22:28:47.556+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T22:28:47.831+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:29:00.565+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-05-30T22:29:00.566+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:29:00.566+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-05-30T22:29:00.567+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-05-30T22:29:00.567+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.AuthController#inicioSesion(LoginDto)
2025-05-30T22:29:00.630+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginDto(email=ballesterospereze@gmail.com, contrasenia=123456)]
2025-05-30T22:29:00.633+02:00  INFO 16864 --- [http-nio-8081-exec-2] c.t.t.controllers.AuthController         : 🔐 Intento de inicio de sesión para el usuario: ballesterospereze@gmail.com
2025-05-30T22:29:00.634+02:00  INFO 16864 --- [http-nio-8081-exec-2] c.tfg.terranostra.services.AuthService   : 📩 Intentando autenticar usuario con email: ballesterospereze@gmail.com
2025-05-30T22:29:00.676+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-05-30T22:29:00.966+02:00  INFO 16864 --- [http-nio-8081-exec-2] c.tfg.terranostra.services.AuthService   : 🔎 ¿Las contraseñas coinciden? true
2025-05-30T22:29:00.974+02:00  INFO 16864 --- [http-nio-8081-exec-2] c.tfg.terranostra.services.AuthService   : 🔐 Usuario autenticado correctamente en SecurityContext: ballesterospereze@gmail.com
2025-05-30T22:29:00.975+02:00  INFO 16864 --- [http-nio-8081-exec-2] c.t.t.controllers.AuthController         : ✅ Inicio de sesión exitoso para el usuario: ballesterospereze@gmail.com
2025-05-30T22:29:00.986+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T22:29:00.993+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrasen (truncated)...]
2025-05-30T22:29:00.997+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:29:03.100+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T22:29:03.101+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:29:03.101+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T22:29:03.101+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T22:29:03.102+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T22:29:03.302+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T22:29:03.304+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:29:03.304+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T22:29:03.305+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T22:29:03.307+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T22:29:03.317+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T22:29:03.552+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T22:29:03.818+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T22:29:03.931+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T22:29:04.016+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T22:29:06.207+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T22:29:06.804+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T22:29:06.907+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:29:08.269+02:00  INFO 16864 --- [http-nio-8081-exec-4] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T22:29:08.274+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T22:29:08.288+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T22:29:08.341+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:29:08.804+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T22:29:08.805+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:29:08.805+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T22:29:08.805+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T22:29:08.807+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T22:29:08.808+02:00  INFO 16864 --- [http-nio-8081-exec-6] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T22:29:09.020+02:00  INFO 16864 --- [http-nio-8081-exec-6] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T22:29:09.023+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T22:29:09.540+02:00  INFO 16864 --- [http-nio-8081-exec-6] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 1
2025-05-30T22:29:09.541+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T22:29:09.542+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T22:29:09.545+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:29:10.013+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T22:29:10.013+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:29:10.015+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T22:29:10.016+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T22:29:10.018+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T22:29:10.029+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/categorias
2025-05-30T22:29:10.031+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:29:10.032+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/categorias
2025-05-30T22:29:10.032+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/categorias", parameters={}
2025-05-30T22:29:10.033+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#obtenerCategorias()
2025-05-30T22:29:10.040+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T22:29:10.041+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:29:10.042+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T22:29:10.042+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T22:29:10.043+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T22:29:10.044+02:00  INFO 16864 --- [http-nio-8081-exec-8] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T22:29:10.048+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T22:29:10.049+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Suplementos Naturales, Tés e Infusiones Naturales, Superalimentos, Alimentación Saludable, Cosmétic (truncated)...]
2025-05-30T22:29:10.056+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:29:10.153+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T22:29:10.174+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T22:29:10.176+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:29:10.179+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T22:29:10.181+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T22:29:10.183+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T22:29:10.209+02:00  INFO 16864 --- [http-nio-8081-exec-8] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T22:29:10.215+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T22:29:10.593+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T22:29:10.748+02:00  INFO 16864 --- [http-nio-8081-exec-8] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 1
2025-05-30T22:29:10.749+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T22:29:10.751+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T22:29:10.752+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:29:11.152+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T22:29:11.237+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T22:29:11.332+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T22:29:13.339+02:00  INFO 16864 --- [http-nio-8081-exec-10] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T22:29:13.341+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T22:29:13.350+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T22:29:13.380+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T22:29:13.385+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:29:13.465+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T22:29:13.466+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:29:13.467+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T22:29:13.467+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T22:29:13.469+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T22:29:13.652+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T22:29:13.930+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T22:29:14.004+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T22:29:14.073+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T22:29:14.084+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T22:29:14.184+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:29:15.765+02:00  INFO 16864 --- [http-nio-8081-exec-1] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T22:29:15.766+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T22:29:15.775+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T22:29:15.818+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:29:30.382+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T22:29:30.383+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:29:30.383+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T22:29:30.385+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T22:29:30.385+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T22:29:30.732+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T22:29:32.990+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T22:29:33.662+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T22:29:33.775+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:29:44.429+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/usuario/solicitar-cambio
2025-05-30T22:29:44.430+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:29:44.431+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/usuario/solicitar-cambio
2025-05-30T22:29:44.431+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/usuario/solicitar-cambio", parameters={}
2025-05-30T22:29:44.432+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#solicitarCambioContrasenia(Map)
2025-05-30T22:29:44.439+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{email=ballesterospereze@gmail.com}]
2025-05-30T22:29:44.440+02:00  INFO 16864 --- [http-nio-8081-exec-6] c.t.t.controllers.UsuarioController      : 📩 Solicitud de cambio de contraseña para: ballesterospereze@gmail.com
2025-05-30T22:29:44.564+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-05-30T22:29:44.664+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.email=?
2025-05-30T22:29:44.822+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    insert 
    into
        password_reset_tokens
        (email, expiracion, token) 
    values
        (?, ?, ?)
2025-05-30T22:29:47.756+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    delete 
    from
        password_reset_tokens 
    where
        id=?
2025-05-30T22:29:47.940+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-05-30T22:29:47.942+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["📨 Se ha enviado un enlace de cambio de contraseña."]
2025-05-30T22:29:47.946+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:29:56.000+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T22:29:56.000+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:29:56.001+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T22:29:56.001+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T22:29:56.001+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T22:29:56.187+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T22:30:00.812+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T22:30:01.443+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T22:30:01.552+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:31:30.444+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T22:31:30.445+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:31:30.447+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T22:31:30.447+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T22:31:30.448+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T22:31:30.692+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T22:31:34.160+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T22:31:34.903+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T22:31:35.031+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:31:53.783+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T22:31:53.784+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:31:53.784+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T22:31:53.785+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T22:31:53.786+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T22:31:54.276+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T22:31:56.289+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T22:31:56.911+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T22:31:57.011+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:32:41.875+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T22:32:41.876+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:32:41.877+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T22:32:41.877+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T22:32:41.878+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T22:32:42.350+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T22:32:45.707+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T22:32:46.287+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T22:32:46.373+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:33:14.430+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T22:33:14.430+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:33:14.431+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T22:33:14.431+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T22:33:14.432+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T22:33:14.620+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T22:33:16.963+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T22:33:17.498+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T22:33:17.565+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:33:21.807+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T22:33:21.808+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:33:21.809+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T22:33:21.809+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T22:33:21.810+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T22:33:21.980+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T22:33:24.069+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T22:33:24.678+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T22:33:24.756+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:33:37.983+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T22:33:37.983+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:33:37.983+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T22:33:37.983+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T22:33:37.983+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T22:33:38.528+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T22:33:40.740+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T22:33:41.341+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T22:33:41.430+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:33:49.693+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T22:33:49.694+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:33:49.695+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T22:33:49.695+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T22:33:49.695+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T22:33:49.868+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T22:33:51.609+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T22:33:52.502+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T22:33:52.599+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:34:39.766+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T22:34:39.767+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:34:39.768+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T22:34:39.768+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T22:34:39.769+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T22:34:40.000+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T22:34:40.767+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T22:34:40.768+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:34:40.768+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T22:34:40.768+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T22:34:40.769+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T22:34:40.976+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T22:34:41.232+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T22:34:41.233+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:34:41.234+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T22:34:41.234+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T22:34:41.236+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T22:34:41.944+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T22:34:44.788+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T22:34:45.292+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T22:34:45.422+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:34:45.842+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T22:34:46.395+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T22:34:46.466+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:34:46.520+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T22:34:47.039+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T22:34:47.113+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:35:34.619+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T22:35:34.620+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:35:34.620+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T22:35:34.620+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T22:35:34.620+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T22:35:34.987+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T22:35:38.658+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T22:35:39.333+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T22:35:39.408+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:36:13.477+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T22:36:13.478+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:36:13.478+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T22:36:13.479+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T22:36:13.479+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T22:36:14.389+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T22:36:16.809+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T22:36:17.352+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T22:36:17.418+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:36:26.406+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T22:36:26.407+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:36:26.407+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T22:36:26.408+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T22:36:26.409+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T22:36:26.597+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T22:36:27.323+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T22:36:27.324+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:36:27.324+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T22:36:27.325+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T22:36:27.325+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T22:36:27.525+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T22:36:27.859+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T22:36:27.859+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:36:27.860+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T22:36:27.860+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T22:36:27.861+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T22:36:28.314+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T22:36:30.052+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T22:36:30.078+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T22:36:30.078+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:36:30.079+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T22:36:30.079+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T22:36:30.079+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T22:36:30.554+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T22:36:30.554+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:36:30.554+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T22:36:30.554+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T22:36:30.555+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T22:36:30.647+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T22:36:30.656+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T22:36:30.747+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:36:31.485+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T22:36:32.877+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T22:36:33.377+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T22:36:33.476+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:36:34.198+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T22:36:34.700+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T22:36:34.795+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:36:35.821+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T22:36:36.434+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T22:36:36.539+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:36:36.626+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T22:36:37.158+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T22:36:37.258+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:36:42.775+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-05-30T22:36:42.777+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:36:42.777+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-05-30T22:36:42.778+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-05-30T22:36:42.778+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.AuthController#inicioSesion(LoginDto)
2025-05-30T22:36:42.780+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginDto(email=ballesterospereze@gmail.com, contrasenia=123456)]
2025-05-30T22:36:42.781+02:00  INFO 16864 --- [http-nio-8081-exec-5] c.t.t.controllers.AuthController         : 🔐 Intento de inicio de sesión para el usuario: ballesterospereze@gmail.com
2025-05-30T22:36:42.781+02:00  INFO 16864 --- [http-nio-8081-exec-5] c.tfg.terranostra.services.AuthService   : 📩 Intentando autenticar usuario con email: ballesterospereze@gmail.com
2025-05-30T22:36:42.784+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-05-30T22:36:43.128+02:00  INFO 16864 --- [http-nio-8081-exec-5] c.tfg.terranostra.services.AuthService   : 🔎 ¿Las contraseñas coinciden? true
2025-05-30T22:36:43.128+02:00  INFO 16864 --- [http-nio-8081-exec-5] c.tfg.terranostra.services.AuthService   : 🔐 Usuario autenticado correctamente en SecurityContext: ballesterospereze@gmail.com
2025-05-30T22:36:43.128+02:00  INFO 16864 --- [http-nio-8081-exec-5] c.t.t.controllers.AuthController         : ✅ Inicio de sesión exitoso para el usuario: ballesterospereze@gmail.com
2025-05-30T22:36:43.129+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T22:36:43.129+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrasen (truncated)...]
2025-05-30T22:36:43.132+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:36:44.940+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T22:36:44.940+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:36:44.942+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T22:36:44.942+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T22:36:44.943+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T22:36:45.105+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T22:36:45.106+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:36:45.108+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T22:36:45.108+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T22:36:45.110+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T22:36:45.172+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T22:36:45.298+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T22:36:45.551+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T22:36:45.612+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T22:36:45.675+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T22:36:46.556+02:00  INFO 16864 --- [http-nio-8081-exec-9] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T22:36:46.556+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T22:36:46.569+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T22:36:46.593+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:36:47.175+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T22:36:47.177+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:36:47.177+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T22:36:47.177+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T22:36:47.178+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T22:36:47.178+02:00  INFO 16864 --- [http-nio-8081-exec-6] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T22:36:47.661+02:00  INFO 16864 --- [http-nio-8081-exec-6] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T22:36:47.663+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T22:36:47.911+02:00  INFO 16864 --- [http-nio-8081-exec-6] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 1
2025-05-30T22:36:47.913+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T22:36:47.913+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T22:36:47.915+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:36:48.152+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T22:36:48.153+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:36:48.155+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/categorias
2025-05-30T22:36:48.155+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:36:48.156+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T22:36:48.156+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/categorias
2025-05-30T22:36:48.156+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T22:36:48.156+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/categorias", parameters={}
2025-05-30T22:36:48.157+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#obtenerCategorias()
2025-05-30T22:36:48.159+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T22:36:48.160+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Suplementos Naturales, Tés e Infusiones Naturales, Superalimentos, Alimentación Saludable, Cosmétic (truncated)...]
2025-05-30T22:36:48.160+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T22:36:48.162+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:36:48.192+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T22:36:48.193+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:36:48.194+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T22:36:48.195+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T22:36:48.196+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T22:36:48.197+02:00  INFO 16864 --- [http-nio-8081-exec-2] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T22:36:48.293+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T22:36:48.331+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T22:36:48.332+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:36:48.332+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T22:36:48.333+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T22:36:48.335+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T22:36:48.407+02:00  INFO 16864 --- [http-nio-8081-exec-2] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T22:36:48.409+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T22:36:48.650+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T22:36:48.861+02:00  INFO 16864 --- [http-nio-8081-exec-2] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 1
2025-05-30T22:36:48.861+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T22:36:48.862+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T22:36:48.863+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:36:48.993+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T22:36:49.054+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T22:36:49.087+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T22:36:49.122+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T22:36:49.664+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T22:36:49.734+02:00  INFO 16864 --- [http-nio-8081-exec-7] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T22:36:49.735+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T22:36:49.742+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T22:36:49.763+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:36:49.768+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:36:49.814+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T22:36:49.815+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:36:49.815+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T22:36:49.815+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T22:36:49.816+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T22:36:50.007+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T22:36:50.322+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T22:36:50.389+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T22:36:50.450+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T22:36:50.976+02:00  INFO 16864 --- [http-nio-8081-exec-1] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T22:36:50.977+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T22:36:50.986+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T22:36:51.010+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:36:52.056+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T22:36:52.674+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T22:36:52.770+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:43:56.134+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T22:43:56.134+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:43:56.136+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T22:43:56.136+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T22:43:56.136+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T22:43:56.137+02:00  INFO 16864 --- [http-nio-8081-exec-3] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T22:43:57.450+02:00  INFO 16864 --- [http-nio-8081-exec-3] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T22:43:57.454+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T22:43:57.684+02:00  INFO 16864 --- [http-nio-8081-exec-3] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 1
2025-05-30T22:43:57.686+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T22:43:57.686+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T22:43:57.688+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:43:57.946+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/categorias
2025-05-30T22:43:57.947+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:43:57.947+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T22:43:57.948+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/categorias
2025-05-30T22:43:57.948+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:43:57.948+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/categorias", parameters={}
2025-05-30T22:43:57.948+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T22:43:57.948+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T22:43:57.948+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#obtenerCategorias()
2025-05-30T22:43:57.949+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T22:43:57.950+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T22:43:57.951+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Suplementos Naturales, Tés e Infusiones Naturales, Superalimentos, Alimentación Saludable, Cosmétic (truncated)...]
2025-05-30T22:43:57.953+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:43:57.956+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T22:43:57.958+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:43:57.958+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T22:43:57.958+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T22:43:57.959+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T22:43:57.960+02:00  INFO 16864 --- [http-nio-8081-exec-8] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T22:43:58.064+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T22:43:58.065+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:43:58.067+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T22:43:58.067+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T22:43:58.068+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T22:43:58.121+02:00  INFO 16864 --- [http-nio-8081-exec-8] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T22:43:58.123+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T22:43:58.123+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T22:43:58.268+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T22:43:58.450+02:00  INFO 16864 --- [http-nio-8081-exec-8] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 1
2025-05-30T22:43:58.452+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T22:43:58.453+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T22:43:58.454+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:43:58.563+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T22:43:58.629+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T22:43:58.706+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T22:43:59.595+02:00  INFO 16864 --- [http-nio-8081-exec-6] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T22:43:59.596+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T22:43:59.608+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T22:43:59.635+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:43:59.677+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T22:43:59.678+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:43:59.678+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T22:43:59.678+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T22:43:59.679+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T22:43:59.815+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T22:44:00.162+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T22:44:00.296+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T22:44:00.381+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T22:44:01.178+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T22:44:01.263+02:00  INFO 16864 --- [http-nio-8081-exec-10] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T22:44:01.265+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T22:44:01.281+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T22:44:01.308+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:44:01.871+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T22:44:01.989+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:44:11.385+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T22:44:11.385+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:44:11.386+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T22:44:11.386+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T22:44:11.386+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T22:44:11.484+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T22:44:11.485+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:44:11.485+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T22:44:11.486+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T22:44:11.486+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T22:44:11.549+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T22:44:11.695+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T22:44:12.060+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T22:44:12.173+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T22:44:12.249+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T22:44:12.814+02:00  INFO 16864 --- [http-nio-8081-exec-1] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T22:44:12.815+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T22:44:12.822+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T22:44:12.845+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:44:13.877+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T22:44:14.449+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T22:44:14.551+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:47:43.671+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T22:47:43.671+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:47:43.672+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T22:47:43.672+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T22:47:43.673+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T22:47:43.872+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T22:47:43.953+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T22:47:43.953+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:47:43.954+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T22:47:43.954+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T22:47:43.954+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T22:47:44.128+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T22:47:44.348+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T22:47:44.404+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T22:47:44.459+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T22:47:45.203+02:00  INFO 16864 --- [http-nio-8081-exec-10] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T22:47:45.204+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T22:47:45.213+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T22:47:45.280+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:47:45.639+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T22:47:45.639+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:47:45.639+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T22:47:45.640+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T22:47:45.640+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T22:47:45.739+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T22:47:45.739+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:47:45.740+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T22:47:45.740+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T22:47:45.740+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T22:47:45.759+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T22:47:46.110+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T22:47:46.790+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T22:47:47.006+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T22:47:47.348+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T22:47:47.608+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T22:47:48.031+02:00  INFO 16864 --- [http-nio-8081-exec-4] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T22:47:48.031+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T22:47:48.036+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T22:47:48.061+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:47:48.149+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T22:47:48.251+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:47:48.965+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T22:47:49.530+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T22:47:49.628+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:49:45.393+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T22:49:45.395+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:49:45.396+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T22:49:45.396+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T22:49:45.399+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T22:49:45.571+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T22:49:45.808+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T22:49:45.865+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T22:49:45.925+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T22:49:46.454+02:00  INFO 16864 --- [http-nio-8081-exec-3] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T22:49:46.456+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T22:49:46.472+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T22:49:46.496+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:50:24.657+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T22:50:24.658+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:50:24.659+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T22:50:24.660+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T22:50:24.661+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T22:50:24.827+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T22:50:25.042+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T22:50:25.096+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T22:50:25.153+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T22:50:25.806+02:00  INFO 16864 --- [http-nio-8081-exec-8] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T22:50:25.807+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T22:50:25.817+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T22:50:25.841+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:51:27.019+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T22:51:27.019+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:51:27.020+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T22:51:27.020+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T22:51:27.021+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T22:51:27.170+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T22:51:27.380+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T22:51:27.431+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T22:51:27.483+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T22:51:28.142+02:00  INFO 16864 --- [http-nio-8081-exec-4] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T22:51:28.143+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T22:51:28.155+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T22:51:28.190+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:51:28.410+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T22:51:28.410+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:51:28.412+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T22:51:28.412+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T22:51:28.413+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T22:51:28.576+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T22:51:28.782+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T22:51:28.833+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T22:51:28.884+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T22:51:29.232+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T22:51:29.233+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:51:29.233+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T22:51:29.234+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T22:51:29.234+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T22:51:29.397+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T22:51:29.504+02:00  INFO 16864 --- [http-nio-8081-exec-6] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T22:51:29.505+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T22:51:29.510+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T22:51:29.528+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:51:29.596+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T22:51:29.655+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T22:51:29.712+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T22:51:30.562+02:00  INFO 16864 --- [http-nio-8081-exec-2] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T22:51:30.563+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T22:51:30.570+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T22:51:30.599+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:51:44.836+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T22:51:44.836+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:51:44.836+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T22:51:44.836+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T22:51:44.837+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T22:51:45.187+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T22:51:45.408+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T22:51:45.460+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T22:51:45.517+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T22:51:46.100+02:00  INFO 16864 --- [http-nio-8081-exec-7] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T22:51:46.101+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T22:51:46.111+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T22:51:46.190+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:52:27.820+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T22:52:27.821+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:52:27.822+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T22:52:27.822+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T22:52:27.823+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T22:52:27.982+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T22:52:28.392+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T22:52:28.447+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T22:52:28.505+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T22:52:28.838+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T22:52:28.839+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:52:28.839+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T22:52:28.840+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T22:52:28.840+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T22:52:29.126+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T22:52:29.321+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T22:52:29.321+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:52:29.321+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T22:52:29.322+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T22:52:29.323+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T22:52:29.336+02:00  INFO 16864 --- [http-nio-8081-exec-9] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T22:52:29.339+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T22:52:29.362+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T22:52:29.402+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:52:29.427+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T22:52:29.477+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T22:52:29.478+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T22:52:29.541+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T22:52:29.767+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T22:52:29.865+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T22:52:29.961+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T22:52:30.222+02:00  INFO 16864 --- [http-nio-8081-exec-8] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T22:52:30.223+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T22:52:30.234+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T22:52:30.260+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:52:30.560+02:00  INFO 16864 --- [http-nio-8081-exec-10] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T22:52:30.561+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T22:52:30.569+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T22:52:30.593+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:52:47.974+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T22:52:47.974+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:52:47.976+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T22:52:47.976+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T22:52:47.977+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T22:52:48.157+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T22:52:48.373+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T22:52:48.431+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T22:52:48.488+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T22:52:49.131+02:00  INFO 16864 --- [http-nio-8081-exec-4] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T22:52:49.132+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T22:52:49.139+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T22:52:49.164+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:53:18.768+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T22:53:18.769+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:53:18.769+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T22:53:18.770+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T22:53:18.770+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T22:53:19.002+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T22:53:19.238+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T22:53:19.293+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T22:53:19.351+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T22:53:20.240+02:00  INFO 16864 --- [http-nio-8081-exec-5] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T22:53:20.241+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T22:53:20.248+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T22:53:20.272+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T22:53:35.117+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T22:53:35.118+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T22:53:35.118+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T22:53:35.119+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T22:53:35.119+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T22:53:35.279+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T22:53:35.479+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T22:53:35.532+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T22:53:35.591+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T22:53:36.336+02:00  INFO 16864 --- [http-nio-8081-exec-1] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T22:53:36.337+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T22:53:36.344+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T22:53:36.362+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T23:00:27.403+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T23:00:27.407+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T23:00:27.409+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T23:00:27.410+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T23:00:27.411+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T23:00:27.710+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T23:00:27.932+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T23:00:27.995+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T23:00:28.056+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T23:00:28.941+02:00  INFO 16864 --- [http-nio-8081-exec-3] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T23:00:28.943+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T23:00:28.952+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T23:00:28.972+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T23:01:30.628+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T23:01:30.629+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T23:01:30.629+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T23:01:30.630+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T23:01:30.630+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T23:01:30.788+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T23:01:30.997+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T23:01:31.064+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T23:01:31.122+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T23:01:31.830+02:00  INFO 16864 --- [http-nio-8081-exec-8] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T23:01:31.831+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T23:01:31.915+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T23:01:32.016+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T23:02:15.820+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T23:02:15.821+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T23:02:15.822+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T23:02:15.823+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T23:02:15.824+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T23:02:15.988+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T23:02:16.207+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T23:02:16.272+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T23:02:16.338+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T23:02:16.783+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T23:02:16.783+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T23:02:16.783+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T23:02:16.783+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T23:02:16.783+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T23:02:16.983+02:00  INFO 16864 --- [http-nio-8081-exec-4] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T23:02:16.983+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T23:02:16.997+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T23:02:16.997+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T23:02:17.016+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T23:02:17.229+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T23:02:17.282+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T23:02:17.350+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T23:02:18.325+02:00  INFO 16864 --- [http-nio-8081-exec-6] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T23:02:18.326+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T23:02:18.336+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T23:02:18.404+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T23:02:43.907+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T23:02:43.908+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T23:02:43.908+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T23:02:43.908+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T23:02:43.908+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T23:02:44.079+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T23:02:44.330+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T23:02:44.391+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T23:02:44.452+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T23:02:45.105+02:00  INFO 16864 --- [http-nio-8081-exec-2] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T23:02:45.106+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T23:02:45.111+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T23:02:45.134+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T23:02:47.937+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T23:02:47.938+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T23:02:47.938+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T23:02:47.939+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T23:02:47.940+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T23:02:48.128+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T23:02:48.365+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T23:02:48.433+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T23:02:48.490+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T23:02:49.107+02:00  INFO 16864 --- [http-nio-8081-exec-5] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T23:02:49.108+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T23:02:49.116+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T23:02:49.130+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T23:02:49.714+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T23:02:49.714+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T23:02:49.715+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T23:02:49.715+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T23:02:49.715+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T23:02:49.982+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T23:02:49.983+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T23:02:49.984+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T23:02:49.985+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T23:02:49.986+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T23:02:50.084+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T23:02:50.199+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T23:02:50.325+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T23:02:50.384+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T23:02:50.431+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T23:02:50.450+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T23:02:50.451+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T23:02:50.451+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T23:02:50.451+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T23:02:50.453+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T23:02:50.455+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T23:02:50.496+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T23:02:50.560+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T23:02:50.756+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T23:02:51.029+02:00  INFO 16864 --- [http-nio-8081-exec-7] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T23:02:51.031+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T23:02:51.039+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T23:02:51.055+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T23:02:51.164+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T23:02:51.196+02:00  INFO 16864 --- [http-nio-8081-exec-1] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T23:02:51.196+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T23:02:51.202+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T23:02:51.221+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T23:02:51.232+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T23:02:51.290+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T23:02:52.215+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T23:02:52.215+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T23:02:52.216+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T23:02:52.216+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T23:02:52.216+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T23:02:52.289+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T23:02:52.290+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T23:02:52.290+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T23:02:52.290+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T23:02:52.292+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T23:02:52.395+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T23:02:52.485+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T23:02:53.150+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T23:02:53.525+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T23:02:53.906+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T23:02:54.110+02:00  INFO 16864 --- [http-nio-8081-exec-3] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T23:02:54.110+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T23:02:54.123+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T23:02:54.143+02:00 DEBUG 16864 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T23:02:54.344+02:00  INFO 16864 --- [http-nio-8081-exec-8] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T23:02:54.345+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T23:02:54.358+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T23:02:54.372+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T23:02:54.428+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T23:02:54.430+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T23:02:54.430+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T23:02:54.430+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T23:02:54.437+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T23:02:54.593+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T23:02:55.020+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T23:02:55.188+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T23:02:55.247+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T23:02:55.789+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T23:02:55.984+02:00  INFO 16864 --- [http-nio-8081-exec-10] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T23:02:55.985+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T23:02:55.998+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T23:02:56.024+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T23:02:56.524+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T23:02:56.607+02:00 DEBUG 16864 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T23:03:08.538+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T23:03:08.539+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T23:03:08.539+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T23:03:08.539+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T23:03:08.540+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T23:03:08.646+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T23:03:08.647+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T23:03:08.647+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T23:03:08.648+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T23:03:08.648+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T23:03:08.868+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T23:03:08.870+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T23:03:09.318+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T23:03:09.497+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T23:03:09.710+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T23:03:10.599+02:00  INFO 16864 --- [http-nio-8081-exec-6] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T23:03:10.600+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T23:03:10.612+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T23:03:10.630+02:00 DEBUG 16864 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T23:03:10.706+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T23:03:10.706+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T23:03:10.706+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T23:03:10.707+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T23:03:10.710+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T23:03:10.888+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T23:03:11.452+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T23:03:11.634+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T23:03:11.699+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T23:03:11.962+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T23:03:12.514+02:00  INFO 16864 --- [http-nio-8081-exec-2] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T23:03:12.515+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T23:03:12.527+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T23:03:12.546+02:00 DEBUG 16864 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T23:03:12.560+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T23:03:12.692+02:00 DEBUG 16864 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T23:03:12.898+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/resenias/producto/36
2025-05-30T23:03:12.898+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T23:03:12.898+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/resenias/producto/36
2025-05-30T23:03:12.899+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/resenias/producto/36", parameters={}
2025-05-30T23:03:12.899+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ReseniaController#obtenerReseniasPorProducto(Long)
2025-05-30T23:03:13.020+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T23:03:13.874+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        rm1_0.id,
        rm1_0.comentario,
        rm1_0.fecha,
        rm1_0.producto_id,
        rm1_0.usuario_id,
        rm1_0.valoracion 
    from
        resenas rm1_0 
    where
        rm1_0.producto_id=? 
    order by
        rm1_0.fecha desc
2025-05-30T23:03:13.944+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T23:03:13.945+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-05-30T23:03:13.947+02:00 DEBUG 16864 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T23:03:20.071+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/resenias
2025-05-30T23:03:20.073+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T23:03:20.073+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/resenias
2025-05-30T23:03:20.074+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/resenias", parameters={}
2025-05-30T23:03:20.074+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ReseniaController#crearResenia(CrearReseniaDto)
2025-05-30T23:03:20.123+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CrearReseniaDto(productoId=36, usuarioId=50, comentario=Muy buena calidad, valoracion=4)]
2025-05-30T23:03:20.953+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T23:03:21.277+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T23:03:22.493+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    insert 
    into
        resenas
        (comentario, fecha, producto_id, usuario_id, valoracion) 
    values
        (?, ?, ?, ?, ?)
2025-05-30T23:03:22.711+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T23:03:22.734+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ReseniaDto(id=11, productoId=36, nombreProducto=Spray ambiental relajante, usuarioId=50, nombreUsuar (truncated)...]
2025-05-30T23:03:22.740+02:00 DEBUG 16864 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-05-30T23:03:22.778+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/resenias/producto/36
2025-05-30T23:03:22.779+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T23:03:22.779+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/resenias/producto/36
2025-05-30T23:03:22.779+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/resenias/producto/36", parameters={}
2025-05-30T23:03:22.780+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ReseniaController#obtenerReseniasPorProducto(Long)
2025-05-30T23:03:22.943+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T23:03:23.766+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        rm1_0.id,
        rm1_0.comentario,
        rm1_0.fecha,
        rm1_0.producto_id,
        rm1_0.usuario_id,
        rm1_0.valoracion 
    from
        resenas rm1_0 
    where
        rm1_0.producto_id=? 
    order by
        rm1_0.fecha desc
2025-05-30T23:03:23.827+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T23:03:23.885+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T23:03:23.886+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ReseniaDto(id=11, productoId=36, nombreProducto=Spray ambiental relajante, usuarioId=50, nombreUsua (truncated)...]
2025-05-30T23:03:23.887+02:00 DEBUG 16864 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T23:03:30.667+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T23:03:30.667+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T23:03:30.668+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T23:03:30.668+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T23:03:30.668+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T23:03:30.782+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T23:03:30.783+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T23:03:30.783+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T23:03:30.783+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T23:03:30.784+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T23:03:30.959+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T23:03:30.960+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T23:03:31.369+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T23:03:31.473+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T23:03:31.551+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T23:03:32.242+02:00  INFO 16864 --- [http-nio-8081-exec-10] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T23:03:32.243+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T23:03:32.252+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T23:03:32.272+02:00 DEBUG 16864 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T23:03:36.260+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T23:03:36.987+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T23:03:37.055+02:00 DEBUG 16864 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T23:06:51.139+02:00  INFO 16864 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-30T23:06:51.174+02:00  INFO 16864 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-05-30T23:06:51.192+02:00  INFO 16864 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T23:06:51.209+02:00  INFO 16864 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-30T23:06:51.217+02:00  INFO 16864 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-30T23:06:58.699+02:00  INFO 19808 --- [restartedMain] c.t.t.TerraNostraApiApplication          : Starting TerraNostraApiApplication using Java 21.0.5 with PID 19808 (C:\Users\balle\Documents\Proyectos\terra-nostra-api\target\classes started by balle in C:\Users\balle\Documents\Proyectos\terra-nostra-api)
2025-05-30T23:06:58.704+02:00  INFO 19808 --- [restartedMain] c.t.t.TerraNostraApiApplication          : No active profile set, falling back to 1 default profile: "default"
2025-05-30T23:06:58.802+02:00  INFO 19808 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-05-30T23:06:58.803+02:00  INFO 19808 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-05-30T23:07:00.314+02:00  INFO 19808 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-30T23:07:00.563+02:00  INFO 19808 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 208 ms. Found 8 JPA repository interfaces.
2025-05-30T23:07:01.708+02:00  INFO 19808 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-05-30T23:07:01.733+02:00  INFO 19808 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-30T23:07:01.733+02:00  INFO 19808 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-05-30T23:07:01.805+02:00  INFO 19808 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-30T23:07:01.805+02:00  INFO 19808 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3000 ms
2025-05-30T23:07:02.070+02:00  INFO 19808 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-30T23:07:02.166+02:00  INFO 19808 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.4.Final
2025-05-30T23:07:02.219+02:00  INFO 19808 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-30T23:07:02.628+02:00  INFO 19808 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-30T23:07:02.668+02:00  WARN 19808 --- [restartedMain] com.zaxxer.hikari.HikariConfig           : HikariPool-1 - idleTimeout has been set but has no effect because the pool is operating as a fixed size pool.
2025-05-30T23:07:02.669+02:00  INFO 19808 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-30T23:07:08.051+02:00  INFO 19808 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@729794b1
2025-05-30T23:07:08.055+02:00  INFO 19808 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-30T23:07:08.271+02:00  WARN 19808 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-30T23:07:08.313+02:00  INFO 19808 --- [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.4.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-30T23:07:10.306+02:00  INFO 19808 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-30T23:07:12.538+02:00  INFO 19808 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T23:07:13.890+02:00 DEBUG 19808 --- [restartedMain] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-05-30T23:07:13.947+02:00  WARN 19808 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-30T23:07:14.319+02:00 DEBUG 19808 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 32 mappings in 'requestMappingHandlerMapping'
2025-05-30T23:07:14.398+02:00 DEBUG 19808 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /static/**] in 'resourceHandlerMapping'
2025-05-30T23:07:14.491+02:00 DEBUG 19808 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-30T23:07:14.633+02:00 DEBUG 19808 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-30T23:07:14.752+02:00 DEBUG 19808 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-30T23:07:15.058+02:00  INFO 19808 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-05-30T23:07:15.154+02:00  INFO 19808 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-05-30T23:07:15.175+02:00  INFO 19808 --- [restartedMain] c.t.t.TerraNostraApiApplication          : Started TerraNostraApiApplication in 17.533 seconds (process running for 18.55)
2025-05-30T23:08:17.198+02:00  INFO 19808 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-30T23:08:17.219+02:00  INFO 19808 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-05-30T23:08:17.231+02:00  INFO 19808 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T23:08:17.241+02:00  INFO 19808 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-30T23:08:17.255+02:00  INFO 19808 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-30T23:08:20.811+02:00  INFO 26616 --- [restartedMain] c.t.t.TerraNostraApiApplication          : Starting TerraNostraApiApplication using Java 21.0.5 with PID 26616 (C:\Users\balle\Documents\Proyectos\terra-nostra-api\target\classes started by balle in C:\Users\balle\Documents\Proyectos\terra-nostra-api)
2025-05-30T23:08:20.814+02:00  INFO 26616 --- [restartedMain] c.t.t.TerraNostraApiApplication          : No active profile set, falling back to 1 default profile: "default"
2025-05-30T23:08:20.894+02:00  INFO 26616 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-05-30T23:08:20.894+02:00  INFO 26616 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-05-30T23:08:22.312+02:00  INFO 26616 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-30T23:08:22.474+02:00  INFO 26616 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 145 ms. Found 8 JPA repository interfaces.
2025-05-30T23:08:23.800+02:00  INFO 26616 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-05-30T23:08:23.830+02:00  INFO 26616 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-30T23:08:23.832+02:00  INFO 26616 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-05-30T23:08:23.939+02:00  INFO 26616 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-30T23:08:23.941+02:00  INFO 26616 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3044 ms
2025-05-30T23:08:24.305+02:00  INFO 26616 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-30T23:08:24.448+02:00  INFO 26616 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.4.Final
2025-05-30T23:08:24.533+02:00  INFO 26616 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-30T23:08:25.063+02:00  INFO 26616 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-30T23:08:25.113+02:00  WARN 26616 --- [restartedMain] com.zaxxer.hikari.HikariConfig           : HikariPool-1 - idleTimeout has been set but has no effect because the pool is operating as a fixed size pool.
2025-05-30T23:08:25.114+02:00  INFO 26616 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-30T23:08:31.350+02:00  INFO 26616 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6507688d
2025-05-30T23:08:31.354+02:00  INFO 26616 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-30T23:08:31.539+02:00  WARN 26616 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-30T23:08:31.591+02:00  INFO 26616 --- [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.4.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-30T23:08:34.055+02:00  INFO 26616 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-30T23:08:35.823+02:00  INFO 26616 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T23:08:37.559+02:00 DEBUG 26616 --- [restartedMain] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-05-30T23:08:37.632+02:00  WARN 26616 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-30T23:08:38.017+02:00 DEBUG 26616 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 32 mappings in 'requestMappingHandlerMapping'
2025-05-30T23:08:38.136+02:00 DEBUG 26616 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /static/**] in 'resourceHandlerMapping'
2025-05-30T23:08:38.264+02:00 DEBUG 26616 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-30T23:08:38.447+02:00 DEBUG 26616 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-30T23:08:38.594+02:00 DEBUG 26616 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-30T23:08:38.926+02:00  INFO 26616 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-05-30T23:08:38.988+02:00  INFO 26616 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-05-30T23:08:39.008+02:00  INFO 26616 --- [restartedMain] c.t.t.TerraNostraApiApplication          : Started TerraNostraApiApplication in 19.086 seconds (process running for 20.231)
2025-05-30T23:08:39.510+02:00  INFO 26616 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-30T23:08:39.510+02:00  INFO 26616 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-30T23:08:39.511+02:00 DEBUG 26616 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-30T23:08:39.511+02:00 DEBUG 26616 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-30T23:08:39.511+02:00 DEBUG 26616 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-30T23:08:39.515+02:00 DEBUG 26616 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@43f07b67
2025-05-30T23:08:39.517+02:00 DEBUG 26616 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@3824e2a9
2025-05-30T23:08:39.519+02:00 DEBUG 26616 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-30T23:08:39.521+02:00  INFO 26616 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 11 ms
2025-05-30T23:08:39.594+02:00 DEBUG 26616 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T23:08:39.594+02:00 DEBUG 26616 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T23:08:39.615+02:00 DEBUG 26616 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T23:08:39.615+02:00 DEBUG 26616 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T23:08:39.624+02:00 DEBUG 26616 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T23:08:39.624+02:00 DEBUG 26616 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T23:08:39.630+02:00 DEBUG 26616 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T23:08:39.630+02:00 DEBUG 26616 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T23:08:39.633+02:00 DEBUG 26616 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T23:08:39.634+02:00 DEBUG 26616 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T23:08:39.975+02:00 DEBUG 26616 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T23:08:40.082+02:00 DEBUG 26616 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T23:08:40.395+02:00 DEBUG 26616 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T23:08:40.489+02:00 DEBUG 26616 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T23:08:40.566+02:00 DEBUG 26616 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T23:08:42.357+02:00  INFO 26616 --- [http-nio-8081-exec-2] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T23:08:42.458+02:00 DEBUG 26616 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T23:08:42.478+02:00 DEBUG 26616 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T23:08:42.589+02:00 DEBUG 26616 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T23:08:42.646+02:00 DEBUG 26616 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T23:08:42.647+02:00 DEBUG 26616 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T23:08:42.648+02:00 DEBUG 26616 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T23:08:42.649+02:00 DEBUG 26616 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T23:08:42.652+02:00 DEBUG 26616 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T23:08:42.878+02:00 DEBUG 26616 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T23:08:43.132+02:00 DEBUG 26616 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T23:08:43.156+02:00 DEBUG 26616 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T23:08:43.228+02:00 DEBUG 26616 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T23:08:43.302+02:00 DEBUG 26616 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T23:08:43.803+02:00 DEBUG 26616 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T23:08:43.919+02:00  INFO 26616 --- [http-nio-8081-exec-3] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T23:08:43.921+02:00 DEBUG 26616 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T23:08:43.929+02:00 DEBUG 26616 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T23:08:43.969+02:00 DEBUG 26616 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T23:08:43.970+02:00 DEBUG 26616 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T23:09:11.980+02:00 DEBUG 26616 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T23:09:11.981+02:00 DEBUG 26616 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T23:09:11.982+02:00 DEBUG 26616 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T23:09:11.983+02:00 DEBUG 26616 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T23:09:11.983+02:00 DEBUG 26616 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T23:09:12.117+02:00 DEBUG 26616 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T23:09:12.118+02:00 DEBUG 26616 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T23:09:12.120+02:00 DEBUG 26616 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T23:09:12.120+02:00 DEBUG 26616 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T23:09:12.121+02:00 DEBUG 26616 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T23:09:12.156+02:00 DEBUG 26616 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T23:09:12.351+02:00 DEBUG 26616 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T23:09:12.691+02:00 DEBUG 26616 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T23:09:12.798+02:00 DEBUG 26616 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T23:09:12.887+02:00 DEBUG 26616 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T23:09:13.898+02:00  INFO 26616 --- [http-nio-8081-exec-5] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T23:09:13.899+02:00 DEBUG 26616 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T23:09:13.911+02:00 DEBUG 26616 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T23:09:13.931+02:00 DEBUG 26616 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T23:09:13.976+02:00 DEBUG 26616 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T23:09:13.977+02:00 DEBUG 26616 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T23:09:13.977+02:00 DEBUG 26616 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T23:09:13.977+02:00 DEBUG 26616 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T23:09:13.978+02:00 DEBUG 26616 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T23:09:14.266+02:00 DEBUG 26616 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T23:09:14.425+02:00 DEBUG 26616 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T23:09:14.516+02:00 DEBUG 26616 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T23:09:14.597+02:00 DEBUG 26616 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T23:09:14.660+02:00 DEBUG 26616 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T23:09:15.092+02:00 DEBUG 26616 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T23:09:15.175+02:00 DEBUG 26616 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T23:09:15.312+02:00  INFO 26616 --- [http-nio-8081-exec-6] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T23:09:15.314+02:00 DEBUG 26616 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T23:09:15.319+02:00 DEBUG 26616 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T23:09:15.359+02:00 DEBUG 26616 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T23:09:47.283+02:00 DEBUG 26616 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T23:09:47.284+02:00 DEBUG 26616 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T23:09:47.285+02:00 DEBUG 26616 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T23:09:47.286+02:00 DEBUG 26616 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T23:09:47.287+02:00 DEBUG 26616 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T23:09:47.444+02:00 DEBUG 26616 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T23:09:47.446+02:00 DEBUG 26616 --- [http-nio-8081-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T23:09:47.446+02:00 DEBUG 26616 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T23:09:47.448+02:00 DEBUG 26616 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T23:09:47.449+02:00 DEBUG 26616 --- [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T23:09:47.484+02:00 DEBUG 26616 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T23:09:48.220+02:00 DEBUG 26616 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T23:09:48.517+02:00 DEBUG 26616 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T23:09:48.662+02:00 DEBUG 26616 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T23:09:48.828+02:00 DEBUG 26616 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T23:09:51.551+02:00 DEBUG 26616 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T23:09:51.944+02:00  INFO 26616 --- [http-nio-8081-exec-10] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T23:09:51.946+02:00 DEBUG 26616 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T23:09:51.973+02:00 DEBUG 26616 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T23:09:52.012+02:00 DEBUG 26616 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T23:09:52.059+02:00 DEBUG 26616 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T23:09:52.060+02:00 DEBUG 26616 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T23:09:52.061+02:00 DEBUG 26616 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T23:09:52.061+02:00 DEBUG 26616 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T23:09:52.062+02:00 DEBUG 26616 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T23:09:52.181+02:00 DEBUG 26616 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T23:09:52.276+02:00 DEBUG 26616 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T23:09:52.378+02:00 DEBUG 26616 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T23:09:52.440+02:00 DEBUG 26616 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T23:09:52.499+02:00 DEBUG 26616 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T23:09:52.566+02:00 DEBUG 26616 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T23:09:54.656+02:00  INFO 26616 --- [http-nio-8081-exec-2] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T23:09:54.657+02:00 DEBUG 26616 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T23:09:54.665+02:00 DEBUG 26616 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T23:09:54.697+02:00 DEBUG 26616 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T23:11:43.471+02:00 DEBUG 26616 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T23:11:43.473+02:00 DEBUG 26616 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T23:11:43.473+02:00 DEBUG 26616 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T23:11:43.474+02:00 DEBUG 26616 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T23:11:43.475+02:00 DEBUG 26616 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T23:11:43.621+02:00 DEBUG 26616 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T23:11:43.622+02:00 DEBUG 26616 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T23:11:43.622+02:00 DEBUG 26616 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T23:11:43.623+02:00 DEBUG 26616 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T23:11:43.624+02:00 DEBUG 26616 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T23:11:43.634+02:00 DEBUG 26616 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T23:11:43.946+02:00 DEBUG 26616 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T23:11:44.220+02:00 DEBUG 26616 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T23:11:44.320+02:00 DEBUG 26616 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T23:11:44.386+02:00 DEBUG 26616 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T23:11:45.295+02:00  INFO 26616 --- [http-nio-8081-exec-4] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T23:11:45.297+02:00 DEBUG 26616 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T23:11:45.309+02:00 DEBUG 26616 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T23:11:45.335+02:00 DEBUG 26616 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T23:11:45.380+02:00 DEBUG 26616 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T23:11:45.381+02:00 DEBUG 26616 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T23:11:45.382+02:00 DEBUG 26616 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T23:11:45.383+02:00 DEBUG 26616 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T23:11:45.384+02:00 DEBUG 26616 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T23:11:45.540+02:00 DEBUG 26616 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T23:11:45.975+02:00 DEBUG 26616 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T23:11:46.130+02:00 DEBUG 26616 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T23:11:46.232+02:00 DEBUG 26616 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T23:11:47.188+02:00  INFO 26616 --- [http-nio-8081-exec-6] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T23:11:47.188+02:00 DEBUG 26616 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T23:11:47.195+02:00 DEBUG 26616 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T23:11:47.220+02:00 DEBUG 26616 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T23:11:48.822+02:00 DEBUG 26616 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T23:11:49.458+02:00 DEBUG 26616 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T23:11:49.553+02:00 DEBUG 26616 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T23:11:52.063+02:00 DEBUG 26616 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar?disponibles=false&categoria=Packs+y+Regalos+Naturales
2025-05-30T23:11:52.063+02:00 DEBUG 26616 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T23:11:52.063+02:00 DEBUG 26616 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar?disponibles=false&categoria=Packs+y+Regalos+Naturales
2025-05-30T23:11:52.065+02:00 DEBUG 26616 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar?disponibles=false&categoria=Packs+y+Regalos+Naturales", parameters={masked}
2025-05-30T23:11:52.066+02:00 DEBUG 26616 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T23:11:52.227+02:00 DEBUG 26616 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T23:11:55.604+02:00 DEBUG 26616 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T23:11:55.604+02:00 DEBUG 26616 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-05-30T23:11:55.606+02:00 DEBUG 26616 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T23:11:57.916+02:00 DEBUG 26616 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar?disponibles=false
2025-05-30T23:11:57.916+02:00 DEBUG 26616 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T23:11:57.917+02:00 DEBUG 26616 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar?disponibles=false
2025-05-30T23:11:57.918+02:00 DEBUG 26616 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar?disponibles=false", parameters={masked}
2025-05-30T23:11:57.918+02:00 DEBUG 26616 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T23:11:58.093+02:00 DEBUG 26616 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T23:12:00.789+02:00 DEBUG 26616 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T23:12:01.437+02:00 DEBUG 26616 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T23:12:01.514+02:00 DEBUG 26616 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T23:13:08.686+02:00 DEBUG 26616 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T23:13:08.686+02:00 DEBUG 26616 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T23:13:08.686+02:00 DEBUG 26616 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T23:13:08.688+02:00 DEBUG 26616 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T23:13:08.688+02:00 DEBUG 26616 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T23:13:08.690+02:00  INFO 26616 --- [http-nio-8081-exec-2] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T23:13:08.857+02:00  INFO 26616 --- [http-nio-8081-exec-2] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T23:13:08.860+02:00 DEBUG 26616 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T23:13:09.061+02:00  INFO 26616 --- [http-nio-8081-exec-2] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 1
2025-05-30T23:13:09.063+02:00 DEBUG 26616 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T23:13:09.076+02:00 DEBUG 26616 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T23:13:09.087+02:00 DEBUG 26616 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T23:13:09.623+02:00 DEBUG 26616 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T23:13:09.624+02:00 DEBUG 26616 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T23:13:09.625+02:00 DEBUG 26616 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T23:13:09.625+02:00 DEBUG 26616 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T23:13:09.626+02:00 DEBUG 26616 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/categorias
2025-05-30T23:13:09.626+02:00 DEBUG 26616 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T23:13:09.626+02:00 DEBUG 26616 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T23:13:09.627+02:00 DEBUG 26616 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/categorias
2025-05-30T23:13:09.627+02:00 DEBUG 26616 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/categorias", parameters={}
2025-05-30T23:13:09.629+02:00 DEBUG 26616 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#obtenerCategorias()
2025-05-30T23:13:09.642+02:00 DEBUG 26616 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-05-30T23:13:09.643+02:00 DEBUG 26616 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T23:13:09.643+02:00 DEBUG 26616 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-05-30T23:13:09.643+02:00 DEBUG 26616 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T23:13:09.644+02:00 DEBUG 26616 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-05-30T23:13:09.644+02:00 DEBUG 26616 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[Suplementos Naturales, Tés e Infusiones Naturales, Superalimentos, Alimentación Saludable, Cosmétic (truncated)...]
2025-05-30T23:13:09.645+02:00 DEBUG 26616 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-05-30T23:13:09.646+02:00  INFO 26616 --- [http-nio-8081-exec-4] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-05-30T23:13:09.651+02:00 DEBUG 26616 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T23:13:09.786+02:00 DEBUG 26616 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T23:13:09.804+02:00  INFO 26616 --- [http-nio-8081-exec-4] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-05-30T23:13:09.807+02:00 DEBUG 26616 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-05-30T23:13:10.133+02:00 DEBUG 26616 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T23:13:10.134+02:00 DEBUG 26616 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T23:13:10.134+02:00 DEBUG 26616 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T23:13:10.134+02:00 DEBUG 26616 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T23:13:10.135+02:00 DEBUG 26616 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T23:13:10.168+02:00  INFO 26616 --- [http-nio-8081-exec-4] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 1
2025-05-30T23:13:10.170+02:00 DEBUG 26616 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T23:13:10.171+02:00 DEBUG 26616 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=50, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrase (truncated)...]
2025-05-30T23:13:10.175+02:00 DEBUG 26616 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T23:13:10.408+02:00 DEBUG 26616 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T23:13:10.760+02:00 DEBUG 26616 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T23:13:11.156+02:00 DEBUG 26616 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T23:13:11.238+02:00 DEBUG 26616 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T23:13:12.724+02:00  INFO 26616 --- [http-nio-8081-exec-6] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T23:13:12.725+02:00 DEBUG 26616 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T23:13:12.743+02:00 DEBUG 26616 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T23:13:12.769+02:00 DEBUG 26616 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T23:13:12.810+02:00 DEBUG 26616 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T23:13:12.811+02:00 DEBUG 26616 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T23:13:12.812+02:00 DEBUG 26616 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T23:13:12.812+02:00 DEBUG 26616 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T23:13:12.814+02:00 DEBUG 26616 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T23:13:13.095+02:00 DEBUG 26616 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T23:13:13.451+02:00 DEBUG 26616 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T23:13:13.531+02:00 DEBUG 26616 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T23:13:13.619+02:00 DEBUG 26616 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T23:13:13.950+02:00 DEBUG 26616 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T23:13:14.249+02:00  INFO 26616 --- [http-nio-8081-exec-5] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T23:13:14.250+02:00 DEBUG 26616 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T23:13:14.258+02:00 DEBUG 26616 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T23:13:14.280+02:00 DEBUG 26616 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T23:13:14.426+02:00 DEBUG 26616 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T23:13:14.518+02:00 DEBUG 26616 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T23:19:55.544+02:00 DEBUG 26616 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/productos/guardar
2025-05-30T23:19:55.545+02:00 DEBUG 26616 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T23:19:55.545+02:00 DEBUG 26616 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/productos/guardar
2025-05-30T23:19:55.545+02:00 DEBUG 26616 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/productos/guardar", parameters={}
2025-05-30T23:19:55.546+02:00 DEBUG 26616 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#agregarProducto(ProductoDto, BindingResult)
2025-05-30T23:19:55.671+02:00 DEBUG 26616 --- [http-nio-8081-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ProductoDto(id=null, nombre=Pack “Defensas Naturales” , descripcionBreve=Refuerza tus defensas de fo (truncated)...]
2025-05-30T23:19:55.697+02:00  INFO 26616 --- [http-nio-8081-exec-1] c.t.t.controllers.ProductoController     : 📥 Se ha recibido la solicitud para agregar el producto: Pack “Defensas Naturales” 
2025-05-30T23:19:55.697+02:00  INFO 26616 --- [http-nio-8081-exec-1] c.t.t.services.ProductoService           : 📦 Creando nuevo producto: Pack “Defensas Naturales” 
2025-05-30T23:19:55.833+02:00 DEBUG 26616 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    insert 
    into
        productos
        (categoria, descripcion, descripcion_breve, descuento, fecha_alta, fecha_modificacion, imagen, nombre, precio, stock) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-30T23:19:56.849+02:00  INFO 26616 --- [http-nio-8081-exec-1] c.t.t.services.ProductoService           : ✅ Producto guardado correctamente: Pack “Defensas Naturales” 
2025-05-30T23:19:56.849+02:00  INFO 26616 --- [http-nio-8081-exec-1] c.t.t.controllers.ProductoController     : ✅ Producto agregado exitosamente: Pack “Defensas Naturales” 
2025-05-30T23:19:56.852+02:00 DEBUG 26616 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T23:19:56.883+02:00 DEBUG 26616 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ProductoDto(id=null, nombre=Pack “Defensas Naturales” , descripcionBreve=Refuerza tus defensas de fo (truncated)...]
2025-05-30T23:19:56.890+02:00 DEBUG 26616 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-05-30T23:19:56.923+02:00 DEBUG 26616 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T23:19:56.924+02:00 DEBUG 26616 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T23:19:56.924+02:00 DEBUG 26616 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T23:19:56.924+02:00 DEBUG 26616 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T23:19:56.924+02:00 DEBUG 26616 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T23:19:57.027+02:00 DEBUG 26616 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T23:19:59.982+02:00 DEBUG 26616 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T23:20:00.320+02:00 DEBUG 26616 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T23:20:00.365+02:00 DEBUG 26616 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T23:21:33.865+02:00 DEBUG 26616 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/productos/guardar
2025-05-30T23:21:33.865+02:00 DEBUG 26616 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T23:21:33.865+02:00 DEBUG 26616 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/productos/guardar
2025-05-30T23:21:33.865+02:00 DEBUG 26616 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/productos/guardar", parameters={}
2025-05-30T23:21:33.866+02:00 DEBUG 26616 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#agregarProducto(ProductoDto, BindingResult)
2025-05-30T23:21:33.948+02:00 DEBUG 26616 --- [http-nio-8081-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ProductoDto(id=null, nombre=Pack “Desayuno Vital”, descripcionBreve=Un desayuno sano y completo con  (truncated)...]
2025-05-30T23:21:33.949+02:00  INFO 26616 --- [http-nio-8081-exec-5] c.t.t.controllers.ProductoController     : 📥 Se ha recibido la solicitud para agregar el producto: Pack “Desayuno Vital”
2025-05-30T23:21:33.949+02:00  INFO 26616 --- [http-nio-8081-exec-5] c.t.t.services.ProductoService           : 📦 Creando nuevo producto: Pack “Desayuno Vital”
2025-05-30T23:21:34.059+02:00 DEBUG 26616 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    insert 
    into
        productos
        (categoria, descripcion, descripcion_breve, descuento, fecha_alta, fecha_modificacion, imagen, nombre, precio, stock) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-30T23:21:34.819+02:00  INFO 26616 --- [http-nio-8081-exec-5] c.t.t.services.ProductoService           : ✅ Producto guardado correctamente: Pack “Desayuno Vital”
2025-05-30T23:21:34.820+02:00  INFO 26616 --- [http-nio-8081-exec-5] c.t.t.controllers.ProductoController     : ✅ Producto agregado exitosamente: Pack “Desayuno Vital”
2025-05-30T23:21:34.820+02:00 DEBUG 26616 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T23:21:34.854+02:00 DEBUG 26616 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ProductoDto(id=null, nombre=Pack “Desayuno Vital”, descripcionBreve=Un desayuno sano y completo con  (truncated)...]
2025-05-30T23:21:34.862+02:00 DEBUG 26616 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-05-30T23:21:34.904+02:00 DEBUG 26616 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T23:21:34.904+02:00 DEBUG 26616 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T23:21:34.904+02:00 DEBUG 26616 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T23:21:34.905+02:00 DEBUG 26616 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T23:21:34.905+02:00 DEBUG 26616 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T23:21:35.070+02:00 DEBUG 26616 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T23:21:37.981+02:00 DEBUG 26616 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T23:21:38.436+02:00 DEBUG 26616 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T23:21:38.437+02:00 DEBUG 26616 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T23:21:38.438+02:00 DEBUG 26616 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T23:21:38.438+02:00 DEBUG 26616 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T23:21:38.440+02:00 DEBUG 26616 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T23:21:38.496+02:00 DEBUG 26616 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T23:21:38.544+02:00 DEBUG 26616 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T23:21:38.618+02:00 DEBUG 26616 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T23:21:38.744+02:00 DEBUG 26616 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T23:21:38.745+02:00 DEBUG 26616 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T23:21:38.745+02:00 DEBUG 26616 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T23:21:38.747+02:00 DEBUG 26616 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T23:21:38.748+02:00 DEBUG 26616 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T23:21:38.870+02:00 DEBUG 26616 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T23:21:39.395+02:00 DEBUG 26616 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T23:21:39.541+02:00 DEBUG 26616 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T23:21:39.561+02:00 DEBUG 26616 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T23:21:39.561+02:00 DEBUG 26616 --- [http-nio-8081-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T23:21:39.562+02:00 DEBUG 26616 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T23:21:39.562+02:00 DEBUG 26616 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T23:21:39.562+02:00 DEBUG 26616 --- [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T23:21:39.639+02:00 DEBUG 26616 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T23:21:39.640+02:00 DEBUG 26616 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T23:21:39.640+02:00 DEBUG 26616 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T23:21:39.641+02:00 DEBUG 26616 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T23:21:39.641+02:00 DEBUG 26616 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T23:21:39.660+02:00 DEBUG 26616 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T23:21:39.997+02:00 DEBUG 26616 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T23:21:40.229+02:00 DEBUG 26616 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T23:21:40.677+02:00 DEBUG 26616 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T23:21:40.678+02:00 DEBUG 26616 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T23:21:40.678+02:00 DEBUG 26616 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T23:21:40.678+02:00 DEBUG 26616 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T23:21:40.679+02:00 DEBUG 26616 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T23:21:40.709+02:00  INFO 26616 --- [http-nio-8081-exec-7] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T23:21:40.709+02:00 DEBUG 26616 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T23:21:40.719+02:00 DEBUG 26616 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T23:21:40.733+02:00 DEBUG 26616 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T23:21:40.937+02:00 DEBUG 26616 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T23:21:41.027+02:00 DEBUG 26616 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T23:21:41.048+02:00 DEBUG 26616 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T23:21:41.135+02:00 DEBUG 26616 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T23:21:41.422+02:00 DEBUG 26616 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T23:21:41.545+02:00 DEBUG 26616 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T23:21:41.682+02:00 DEBUG 26616 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T23:21:42.078+02:00 DEBUG 26616 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-05-30T23:21:42.080+02:00 DEBUG 26616 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T23:21:42.080+02:00 DEBUG 26616 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-05-30T23:21:42.080+02:00 DEBUG 26616 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-05-30T23:21:42.080+02:00 DEBUG 26616 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos(String, Boolean, String)
2025-05-30T23:21:42.147+02:00 DEBUG 26616 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T23:21:42.148+02:00 DEBUG 26616 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T23:21:42.148+02:00 DEBUG 26616 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T23:21:42.148+02:00 DEBUG 26616 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T23:21:42.150+02:00 DEBUG 26616 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T23:21:42.480+02:00 DEBUG 26616 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T23:21:42.481+02:00 DEBUG 26616 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-05-30T23:21:42.592+02:00 DEBUG 26616 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T23:21:42.854+02:00  INFO 26616 --- [http-nio-8081-exec-2] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T23:21:42.854+02:00 DEBUG 26616 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T23:21:42.869+02:00 DEBUG 26616 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T23:21:42.949+02:00 DEBUG 26616 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T23:21:42.961+02:00 DEBUG 26616 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T23:21:43.112+02:00 DEBUG 26616 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T23:21:43.115+02:00 DEBUG 26616 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T23:21:43.171+02:00 DEBUG 26616 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T23:21:43.228+02:00 DEBUG 26616 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T23:21:43.727+02:00  INFO 26616 --- [http-nio-8081-exec-9] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T23:21:43.728+02:00 DEBUG 26616 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T23:21:43.733+02:00 DEBUG 26616 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T23:21:43.743+02:00 DEBUG 26616 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T23:21:44.315+02:00 DEBUG 26616 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T23:21:44.665+02:00  INFO 26616 --- [http-nio-8081-exec-4] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T23:21:44.666+02:00 DEBUG 26616 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T23:21:44.675+02:00 DEBUG 26616 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T23:21:44.699+02:00 DEBUG 26616 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T23:21:44.728+02:00 DEBUG 26616 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /carrito/50
2025-05-30T23:21:44.728+02:00 DEBUG 26616 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-30T23:21:44.728+02:00 DEBUG 26616 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /carrito/50
2025-05-30T23:21:44.728+02:00 DEBUG 26616 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/carrito/50", parameters={}
2025-05-30T23:21:44.729+02:00 DEBUG 26616 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.CarritoController#obtenerCarrito(Long)
2025-05-30T23:21:44.815+02:00 DEBUG 26616 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T23:21:44.878+02:00 DEBUG 26616 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T23:21:44.908+02:00 DEBUG 26616 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.correo_verificado,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.id=?
2025-05-30T23:21:45.121+02:00 DEBUG 26616 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        cm1_0.id,
        cm1_0.fecha_creacion,
        cm1_0.usuario_id 
    from
        carrito cm1_0 
    where
        cm1_0.usuario_id=?
2025-05-30T23:21:45.177+02:00 DEBUG 26616 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        i1_0.carrito_id,
        i1_0.id,
        i1_0.cantidad,
        i1_0.imagen,
        i1_0.nombre,
        i1_0.precio_unitario,
        i1_0.producto_id 
    from
        carrito_item i1_0 
    where
        i1_0.carrito_id=?
2025-05-30T23:21:45.234+02:00 DEBUG 26616 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.descripcion_breve,
        pm1_0.descuento,
        pm1_0.fecha_alta,
        pm1_0.fecha_modificacion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0 
    where
        pm1_0.id=?
2025-05-30T23:21:46.035+02:00  INFO 26616 --- [http-nio-8081-exec-6] c.t.terranostra.services.CarritoService  : ✅ Carrito obtenido correctamente para el usuario 50
2025-05-30T23:21:46.035+02:00 DEBUG 26616 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-05-30T23:21:46.041+02:00 DEBUG 26616 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CarritoDto(id=3, usuarioId=50, fechaCreacion=2025-05-30T00:39:20.874241, items=[CarritoItemDto(produ (truncated)...]
2025-05-30T23:21:46.050+02:00 DEBUG 26616 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-30T23:21:47.582+02:00 DEBUG 26616 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-05-30T23:21:48.042+02:00 DEBUG 26616 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=32, nombre=Cola de Caballo seca, descripcionBreve=Infusión natural que ayuda a elimi (truncated)...]
2025-05-30T23:21:48.103+02:00 DEBUG 26616 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-31T00:20:22.080+02:00  INFO 29616 --- [restartedMain] c.t.t.TerraNostraApiApplication          : Starting TerraNostraApiApplication using Java 21.0.5 with PID 29616 (C:\Users\balle\Documents\terra-nostra\api\target\classes started by balle in C:\Users\balle\Documents\terra-nostra\api)
2025-05-31T00:20:22.082+02:00  INFO 29616 --- [restartedMain] c.t.t.TerraNostraApiApplication          : No active profile set, falling back to 1 default profile: "default"
2025-05-31T00:20:22.130+02:00  INFO 29616 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-05-31T00:20:22.130+02:00  INFO 29616 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-05-31T00:20:23.107+02:00  INFO 29616 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-31T00:20:23.224+02:00  INFO 29616 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 100 ms. Found 8 JPA repository interfaces.
2025-05-31T00:20:24.140+02:00  INFO 29616 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-05-31T00:20:24.162+02:00  INFO 29616 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-31T00:20:24.162+02:00  INFO 29616 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-05-31T00:20:24.231+02:00  INFO 29616 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-31T00:20:24.231+02:00  INFO 29616 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2100 ms
2025-05-31T00:20:24.476+02:00  INFO 29616 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-31T00:20:24.587+02:00  INFO 29616 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.4.Final
2025-05-31T00:20:24.648+02:00  INFO 29616 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-31T00:20:24.987+02:00  INFO 29616 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-31T00:20:25.023+02:00  WARN 29616 --- [restartedMain] com.zaxxer.hikari.HikariConfig           : HikariPool-1 - idleTimeout has been set but has no effect because the pool is operating as a fixed size pool.
2025-05-31T00:20:25.024+02:00  INFO 29616 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-31T00:20:30.328+02:00  INFO 29616 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@33cd33f1
2025-05-31T00:20:30.330+02:00  INFO 29616 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-31T00:20:30.473+02:00  WARN 29616 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-31T00:20:30.492+02:00  INFO 29616 --- [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.4.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-31T00:20:31.572+02:00  INFO 29616 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-31T00:20:33.063+02:00  INFO 29616 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-31T00:20:33.804+02:00 DEBUG 29616 --- [restartedMain] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-05-31T00:20:33.844+02:00  WARN 29616 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-31T00:20:34.071+02:00 DEBUG 29616 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 32 mappings in 'requestMappingHandlerMapping'
2025-05-31T00:20:34.118+02:00 DEBUG 29616 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /static/**] in 'resourceHandlerMapping'
2025-05-31T00:20:34.181+02:00 DEBUG 29616 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-05-31T00:20:34.290+02:00 DEBUG 29616 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-31T00:20:34.367+02:00 DEBUG 29616 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-31T00:20:34.569+02:00  INFO 29616 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-05-31T00:20:34.616+02:00  INFO 29616 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-05-31T00:20:34.627+02:00  INFO 29616 --- [restartedMain] c.t.t.TerraNostraApiApplication          : Started TerraNostraApiApplication in 13.108 seconds (process running for 13.727)
