2025-04-27T11:14:36.473+02:00  INFO 27944 --- [restartedMain] c.t.t.TerraNostraApiApplication          : Starting TerraNostraApiApplication using Java 21.0.5 with PID 27944 (C:\Users\balle\Documents\Proyectos\terra-nostra-api\target\classes started by balle in C:\Users\balle\Documents\Proyectos\terra-nostra-api)
2025-04-27T11:14:36.495+02:00  INFO 27944 --- [restartedMain] c.t.t.TerraNostraApiApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-27T11:14:36.591+02:00  INFO 27944 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-27T11:14:36.592+02:00  INFO 27944 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-27T11:14:38.749+02:00  INFO 27944 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-27T11:14:38.907+02:00  INFO 27944 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 135 ms. Found 3 JPA repository interfaces.
2025-04-27T11:14:40.047+02:00  INFO 27944 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-04-27T11:14:40.073+02:00  INFO 27944 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-27T11:14:40.073+02:00  INFO 27944 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-04-27T11:14:40.168+02:00  INFO 27944 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-27T11:14:40.169+02:00  INFO 27944 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3576 ms
2025-04-27T11:14:40.548+02:00  INFO 27944 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-27T11:14:40.698+02:00  INFO 27944 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.4.Final
2025-04-27T11:14:40.782+02:00  INFO 27944 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-27T11:14:41.259+02:00  INFO 27944 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-27T11:14:41.303+02:00  WARN 27944 --- [restartedMain] com.zaxxer.hikari.HikariConfig           : HikariPool-1 - idleTimeout has been set but has no effect because the pool is operating as a fixed size pool.
2025-04-27T11:14:41.304+02:00  INFO 27944 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-27T11:14:41.549+02:00  INFO 27944 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@27fa1232
2025-04-27T11:14:41.551+02:00  INFO 27944 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-27T11:14:41.611+02:00  WARN 27944 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-27T11:14:41.635+02:00  INFO 27944 --- [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.4.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-27T11:14:42.881+02:00  INFO 27944 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-27T11:14:42.988+02:00  INFO 27944 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-27T11:14:43.748+02:00 DEBUG 27944 --- [restartedMain] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-04-27T11:14:43.802+02:00  WARN 27944 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-27T11:14:44.466+02:00 DEBUG 27944 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 15 mappings in 'requestMappingHandlerMapping'
2025-04-27T11:14:44.721+02:00 DEBUG 27944 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-04-27T11:14:44.860+02:00 DEBUG 27944 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-04-27T11:14:45.033+02:00 DEBUG 27944 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-04-27T11:14:45.163+02:00 DEBUG 27944 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-04-27T11:14:45.504+02:00  WARN 27944 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2025-04-27T11:14:45.552+02:00  INFO 27944 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-04-27T11:14:45.566+02:00  INFO 27944 --- [restartedMain] c.t.t.TerraNostraApiApplication          : Started TerraNostraApiApplication in 9.998 seconds (process running for 11.226)
2025-04-27T11:15:08.410+02:00  INFO 27944 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-27T11:15:08.411+02:00  INFO 27944 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-27T11:15:08.412+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-04-27T11:15:08.412+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-04-27T11:15:08.412+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-04-27T11:15:08.415+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@1102c2de
2025-04-27T11:15:08.416+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@7fa85509
2025-04-27T11:15:08.417+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-04-27T11:15:08.417+02:00  INFO 27944 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2025-04-27T11:15:08.445+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-04-27T11:15:08.458+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:15:08.460+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-04-27T11:15:08.463+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-04-27T11:15:08.466+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos()
2025-04-27T11:15:08.611+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-04-27T11:15:08.665+02:00  INFO 27944 --- [http-nio-8081-exec-1] c.t.t.controllers.ProductoController     : ✅ Productos obtenidos correctamente. Total: 1
2025-04-27T11:15:08.689+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:15:08.717+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=23, nombre=Citrato de Magnesio, descripcion=bUENO PARA DORMIR, precio=45.66, stock=6 (truncated)...]
2025-04-27T11:15:08.819+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:15:21.671+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-04-27T11:15:21.671+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:15:21.671+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-04-27T11:15:21.672+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-04-27T11:15:21.672+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos()
2025-04-27T11:15:21.678+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-04-27T11:15:21.682+02:00  INFO 27944 --- [http-nio-8081-exec-2] c.t.t.controllers.ProductoController     : ✅ Productos obtenidos correctamente. Total: 1
2025-04-27T11:15:21.683+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:15:21.688+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=23, nombre=Citrato de Magnesio, descripcion=bUENO PARA DORMIR, precio=45.66, stock=6 (truncated)...]
2025-04-27T11:15:21.692+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:15:42.480+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-04-27T11:15:42.480+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:15:42.482+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-04-27T11:15:42.482+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-04-27T11:15:42.483+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos()
2025-04-27T11:15:42.488+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-04-27T11:15:42.497+02:00  INFO 27944 --- [http-nio-8081-exec-3] c.t.t.controllers.ProductoController     : ✅ Productos obtenidos correctamente. Total: 1
2025-04-27T11:15:42.499+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:15:42.507+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=23, nombre=Citrato de Magnesio, descripcion=bUENO PARA DORMIR, precio=45.66, stock=6 (truncated)...]
2025-04-27T11:15:42.515+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:15:50.186+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-04-27T11:15:50.186+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:15:50.187+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-04-27T11:15:50.187+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-04-27T11:15:50.187+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.AuthController#inicioSesion(LoginDto)
2025-04-27T11:15:50.219+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginDto(email=ballesterospereze@gmail.com, contrasenia=123456)]
2025-04-27T11:15:50.227+02:00  INFO 27944 --- [http-nio-8081-exec-4] c.t.t.controllers.AuthController         : 🔐 Intento de inicio de sesión para el usuario: ballesterospereze@gmail.com
2025-04-27T11:15:50.227+02:00  INFO 27944 --- [http-nio-8081-exec-4] c.tfg.terranostra.services.AuthService   : 📩 Intentando autenticar usuario con email: ballesterospereze@gmail.com
2025-04-27T11:15:50.250+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-04-27T11:15:50.324+02:00  INFO 27944 --- [http-nio-8081-exec-4] c.tfg.terranostra.services.AuthService   : 🔎 ¿Las contraseñas coinciden? true
2025-04-27T11:15:50.327+02:00  INFO 27944 --- [http-nio-8081-exec-4] c.tfg.terranostra.services.AuthService   : 🔐 Usuario autenticado correctamente en SecurityContext: ballesterospereze@gmail.com
2025-04-27T11:15:50.327+02:00  INFO 27944 --- [http-nio-8081-exec-4] c.t.t.controllers.AuthController         : ✅ Inicio de sesión exitoso para el usuario: ballesterospereze@gmail.com
2025-04-27T11:15:50.334+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-04-27T11:15:50.336+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UsuarioDto(id=1, nombre=Eduardo, apellido=Ballesteros Pérez, email=ballesterospereze@gmail.com, cont (truncated)...]
2025-04-27T11:15:50.337+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:15:52.093+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-04-27T11:15:52.096+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:15:52.097+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-04-27T11:15:52.098+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-04-27T11:15:52.099+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos()
2025-04-27T11:15:52.108+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-04-27T11:15:52.119+02:00  INFO 27944 --- [http-nio-8081-exec-5] c.t.t.controllers.ProductoController     : ✅ Productos obtenidos correctamente. Total: 1
2025-04-27T11:15:52.120+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:15:52.131+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=23, nombre=Citrato de Magnesio, descripcion=bUENO PARA DORMIR, precio=45.66, stock=6 (truncated)...]
2025-04-27T11:15:52.136+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:15:54.834+02:00 DEBUG 27944 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-04-27T11:15:54.837+02:00 DEBUG 27944 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:15:54.838+02:00 DEBUG 27944 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-04-27T11:15:54.839+02:00 DEBUG 27944 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-04-27T11:15:54.840+02:00 DEBUG 27944 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-04-27T11:15:54.841+02:00  INFO 27944 --- [http-nio-8081-exec-6] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-04-27T11:15:54.850+02:00  INFO 27944 --- [http-nio-8081-exec-6] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-04-27T11:15:54.855+02:00 DEBUG 27944 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-04-27T11:15:54.872+02:00  INFO 27944 --- [http-nio-8081-exec-6] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 4
2025-04-27T11:15:54.875+02:00 DEBUG 27944 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:15:54.875+02:00 DEBUG 27944 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=1, nombre=Eduardo, apellido=Ballesteros Pérez, email=ballesterospereze@gmail.com, con (truncated)...]
2025-04-27T11:15:54.880+02:00 DEBUG 27944 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:15:55.157+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-04-27T11:15:55.158+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:15:55.160+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-04-27T11:15:55.162+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-04-27T11:15:55.164+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos()
2025-04-27T11:15:55.170+02:00 DEBUG 27944 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-04-27T11:15:55.170+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-04-27T11:15:55.170+02:00 DEBUG 27944 --- [http-nio-8081-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:15:55.171+02:00 DEBUG 27944 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-04-27T11:15:55.171+02:00 DEBUG 27944 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-04-27T11:15:55.172+02:00 DEBUG 27944 --- [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-04-27T11:15:55.172+02:00  INFO 27944 --- [http-nio-8081-exec-10] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-04-27T11:15:55.176+02:00  INFO 27944 --- [http-nio-8081-exec-10] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-04-27T11:15:55.178+02:00  INFO 27944 --- [http-nio-8081-exec-9] c.t.t.controllers.ProductoController     : ✅ Productos obtenidos correctamente. Total: 1
2025-04-27T11:15:55.180+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:15:55.181+02:00 DEBUG 27944 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-04-27T11:15:55.188+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=23, nombre=Citrato de Magnesio, descripcion=bUENO PARA DORMIR, precio=45.66, stock=6 (truncated)...]
2025-04-27T11:15:55.192+02:00  INFO 27944 --- [http-nio-8081-exec-10] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 4
2025-04-27T11:15:55.193+02:00 DEBUG 27944 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:15:55.193+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:15:55.195+02:00 DEBUG 27944 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=1, nombre=Eduardo, apellido=Ballesteros Pérez, email=ballesterospereze@gmail.com, con (truncated)...]
2025-04-27T11:15:55.197+02:00 DEBUG 27944 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:16:13.650+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing DELETE /api/usuario/email/nachoeduba@gmail.com
2025-04-27T11:16:13.651+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:16:13.651+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured DELETE /api/usuario/email/nachoeduba@gmail.com
2025-04-27T11:16:13.651+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : DELETE "/api/usuario/email/nachoeduba@gmail.com", parameters={}
2025-04-27T11:16:13.652+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#eliminarUsuarioPorEmail(String)
2025-04-27T11:16:13.659+02:00  INFO 27944 --- [http-nio-8081-exec-1] c.t.t.controllers.UsuarioController      : 🗑️ Intentando eliminar usuario con email: nachoeduba@gmail.com
2025-04-27T11:16:13.661+02:00  INFO 27944 --- [http-nio-8081-exec-1] c.t.terranostra.services.UsuarioService  : 🗑️ Intentando eliminar usuario con email: nachoeduba@gmail.com
2025-04-27T11:16:13.663+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-04-27T11:16:13.680+02:00  INFO 27944 --- [http-nio-8081-exec-1] c.t.terranostra.services.UsuarioService  : ✅ Usuario con email nachoeduba@gmail.com eliminado correctamente
2025-04-27T11:16:13.704+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    delete 
    from
        usuarios 
    where
        id=?
2025-04-27T11:16:13.756+02:00  INFO 27944 --- [http-nio-8081-exec-1] c.t.t.controllers.UsuarioController      : ✅ Usuario eliminado correctamente: nachoeduba@gmail.com
2025-04-27T11:16:13.757+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [text/plain, */*, application/json, application/*+json]
2025-04-27T11:16:13.758+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Usuario eliminado correctamente"]
2025-04-27T11:16:13.764+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:16:13.791+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-04-27T11:16:13.792+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:16:13.792+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-04-27T11:16:13.792+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-04-27T11:16:13.793+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-04-27T11:16:13.793+02:00  INFO 27944 --- [http-nio-8081-exec-2] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-04-27T11:16:13.795+02:00  INFO 27944 --- [http-nio-8081-exec-2] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-04-27T11:16:13.797+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-04-27T11:16:13.801+02:00  INFO 27944 --- [http-nio-8081-exec-2] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 3
2025-04-27T11:16:13.802+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:16:13.802+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=1, nombre=Eduardo, apellido=Ballesteros Pérez, email=ballesterospereze@gmail.com, con (truncated)...]
2025-04-27T11:16:13.803+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:16:26.900+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing PUT /api/usuario/email/ballesterosperezn@gmail.com
2025-04-27T11:16:26.901+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:16:26.901+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured PUT /api/usuario/email/ballesterosperezn@gmail.com
2025-04-27T11:16:26.901+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : PUT "/api/usuario/email/ballesterosperezn@gmail.com", parameters={}
2025-04-27T11:16:26.902+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#actualizarUsuarioPorEmail(String, UsuarioDto)
2025-04-27T11:16:26.912+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UsuarioDto(id=null, nombre=Ignacio, apellido=Ballesteros, email=ballesterosperezn@gmail.com, contras (truncated)...]
2025-04-27T11:16:26.912+02:00  INFO 27944 --- [http-nio-8081-exec-5] c.t.t.controllers.UsuarioController      : ✏️ Intentando actualizar usuario con email: ballesterosperezn@gmail.com
2025-04-27T11:16:26.915+02:00  INFO 27944 --- [http-nio-8081-exec-5] c.t.terranostra.services.UsuarioService  : 🛠️ Intentando actualizar usuario con email: ballesterosperezn@gmail.com
2025-04-27T11:16:26.916+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-04-27T11:16:26.923+02:00  INFO 27944 --- [http-nio-8081-exec-5] c.t.terranostra.services.UsuarioService  : ✅ Usuario con email ballesterosperezn@gmail.com actualizado correctamente
2025-04-27T11:16:26.964+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    update
        usuarios 
    set
        apellido=?,
        contrasenia=?,
        direccion=?,
        email=?,
        fecha_registro=?,
        nombre=?,
        rol=?,
        telefono=? 
    where
        id=?
2025-04-27T11:16:26.978+02:00  INFO 27944 --- [http-nio-8081-exec-5] c.t.t.controllers.UsuarioController      : ✅ Usuario actualizado correctamente: ballesterosperezn@gmail.com
2025-04-27T11:16:26.979+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-04-27T11:16:26.979+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Usuario actualizado con éxito"]
2025-04-27T11:16:26.980+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:16:26.995+02:00 DEBUG 27944 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-04-27T11:16:26.996+02:00 DEBUG 27944 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:16:26.996+02:00 DEBUG 27944 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-04-27T11:16:26.996+02:00 DEBUG 27944 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-04-27T11:16:26.997+02:00 DEBUG 27944 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-04-27T11:16:26.997+02:00  INFO 27944 --- [http-nio-8081-exec-6] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-04-27T11:16:26.998+02:00  INFO 27944 --- [http-nio-8081-exec-6] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-04-27T11:16:27.000+02:00 DEBUG 27944 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-04-27T11:16:27.003+02:00  INFO 27944 --- [http-nio-8081-exec-6] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 3
2025-04-27T11:16:27.004+02:00 DEBUG 27944 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:16:27.004+02:00 DEBUG 27944 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=1, nombre=Eduardo, apellido=Ballesteros Pérez, email=ballesterospereze@gmail.com, con (truncated)...]
2025-04-27T11:16:27.006+02:00 DEBUG 27944 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:16:36.634+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing DELETE /api/usuario/email/ballesterospereze@gmail.com
2025-04-27T11:16:36.634+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:16:36.634+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured DELETE /api/usuario/email/ballesterospereze@gmail.com
2025-04-27T11:16:36.634+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : DELETE "/api/usuario/email/ballesterospereze@gmail.com", parameters={}
2025-04-27T11:16:36.634+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#eliminarUsuarioPorEmail(String)
2025-04-27T11:16:36.635+02:00  INFO 27944 --- [http-nio-8081-exec-7] c.t.t.controllers.UsuarioController      : 🗑️ Intentando eliminar usuario con email: ballesterospereze@gmail.com
2025-04-27T11:16:36.636+02:00  INFO 27944 --- [http-nio-8081-exec-7] c.t.terranostra.services.UsuarioService  : 🗑️ Intentando eliminar usuario con email: ballesterospereze@gmail.com
2025-04-27T11:16:36.638+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-04-27T11:16:36.641+02:00  INFO 27944 --- [http-nio-8081-exec-7] c.t.terranostra.services.UsuarioService  : ✅ Usuario con email ballesterospereze@gmail.com eliminado correctamente
2025-04-27T11:16:36.643+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    delete 
    from
        usuarios 
    where
        id=?
2025-04-27T11:16:36.646+02:00  INFO 27944 --- [http-nio-8081-exec-7] c.t.t.controllers.UsuarioController      : ✅ Usuario eliminado correctamente: ballesterospereze@gmail.com
2025-04-27T11:16:36.647+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [text/plain, */*, application/json, application/*+json]
2025-04-27T11:16:36.647+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Usuario eliminado correctamente"]
2025-04-27T11:16:36.649+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:16:36.662+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-04-27T11:16:36.662+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:16:36.662+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-04-27T11:16:36.663+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-04-27T11:16:36.664+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-04-27T11:16:36.666+02:00  INFO 27944 --- [http-nio-8081-exec-8] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-04-27T11:16:36.668+02:00  INFO 27944 --- [http-nio-8081-exec-8] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-04-27T11:16:36.670+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-04-27T11:16:36.674+02:00  INFO 27944 --- [http-nio-8081-exec-8] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 2
2025-04-27T11:16:36.674+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:16:36.675+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=26, nombre=Alicia, apellido=Pérez Ortega, email=ali@gmail.com, contrasenia=null, tele (truncated)...]
2025-04-27T11:16:36.677+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:16:38.427+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-04-27T11:16:38.428+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:16:38.429+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-04-27T11:16:38.429+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-04-27T11:16:38.430+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-04-27T11:16:38.430+02:00  INFO 27944 --- [http-nio-8081-exec-9] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-04-27T11:16:38.433+02:00  INFO 27944 --- [http-nio-8081-exec-9] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-04-27T11:16:38.435+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-04-27T11:16:38.439+02:00  INFO 27944 --- [http-nio-8081-exec-9] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 2
2025-04-27T11:16:38.439+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:16:38.440+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=26, nombre=Alicia, apellido=Pérez Ortega, email=ali@gmail.com, contrasenia=null, tele (truncated)...]
2025-04-27T11:16:38.441+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:16:38.544+02:00 DEBUG 27944 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-04-27T11:16:38.545+02:00 DEBUG 27944 --- [http-nio-8081-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:16:38.546+02:00 DEBUG 27944 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-04-27T11:16:38.547+02:00 DEBUG 27944 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-04-27T11:16:38.547+02:00 DEBUG 27944 --- [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos()
2025-04-27T11:16:38.550+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-04-27T11:16:38.550+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:16:38.552+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-04-27T11:16:38.552+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-04-27T11:16:38.553+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-04-27T11:16:38.553+02:00  INFO 27944 --- [http-nio-8081-exec-1] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-04-27T11:16:38.556+02:00 DEBUG 27944 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-04-27T11:16:38.558+02:00  INFO 27944 --- [http-nio-8081-exec-1] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-04-27T11:16:38.561+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-04-27T11:16:38.566+02:00  INFO 27944 --- [http-nio-8081-exec-10] c.t.t.controllers.ProductoController     : ✅ Productos obtenidos correctamente. Total: 1
2025-04-27T11:16:38.567+02:00 DEBUG 27944 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:16:38.567+02:00  INFO 27944 --- [http-nio-8081-exec-1] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 2
2025-04-27T11:16:38.568+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:16:38.569+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=26, nombre=Alicia, apellido=Pérez Ortega, email=ali@gmail.com, contrasenia=null, tele (truncated)...]
2025-04-27T11:16:38.570+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:16:38.576+02:00 DEBUG 27944 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=23, nombre=Citrato de Magnesio, descripcion=bUENO PARA DORMIR, precio=45.66, stock=6 (truncated)...]
2025-04-27T11:16:38.581+02:00 DEBUG 27944 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:16:41.322+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-04-27T11:16:41.323+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:16:41.323+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-04-27T11:16:41.323+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-04-27T11:16:41.324+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos()
2025-04-27T11:16:41.329+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-04-27T11:16:41.334+02:00  INFO 27944 --- [http-nio-8081-exec-2] c.t.t.controllers.ProductoController     : ✅ Productos obtenidos correctamente. Total: 1
2025-04-27T11:16:41.335+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:16:41.346+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=23, nombre=Citrato de Magnesio, descripcion=bUENO PARA DORMIR, precio=45.66, stock=6 (truncated)...]
2025-04-27T11:16:41.352+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:16:43.923+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-04-27T11:16:43.924+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:16:43.925+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-04-27T11:16:43.925+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-04-27T11:16:43.926+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-04-27T11:16:43.927+02:00  INFO 27944 --- [http-nio-8081-exec-5] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-04-27T11:16:43.932+02:00  INFO 27944 --- [http-nio-8081-exec-5] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-04-27T11:16:43.934+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-04-27T11:16:43.938+02:00  INFO 27944 --- [http-nio-8081-exec-5] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 2
2025-04-27T11:16:43.939+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:16:43.939+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=26, nombre=Alicia, apellido=Pérez Ortega, email=ali@gmail.com, contrasenia=null, tele (truncated)...]
2025-04-27T11:16:43.941+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:16:44.019+02:00 DEBUG 27944 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-04-27T11:16:44.020+02:00 DEBUG 27944 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:16:44.020+02:00 DEBUG 27944 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-04-27T11:16:44.020+02:00 DEBUG 27944 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-04-27T11:16:44.021+02:00 DEBUG 27944 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos()
2025-04-27T11:16:44.025+02:00 DEBUG 27944 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-04-27T11:16:44.027+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario
2025-04-27T11:16:44.028+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:16:44.028+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario
2025-04-27T11:16:44.028+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario", parameters={}
2025-04-27T11:16:44.028+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarios()
2025-04-27T11:16:44.029+02:00  INFO 27944 --- [http-nio-8081-exec-7] c.t.t.controllers.UsuarioController      : 📢 Solicitando lista de usuarios...
2025-04-27T11:16:44.030+02:00  INFO 27944 --- [http-nio-8081-exec-6] c.t.t.controllers.ProductoController     : ✅ Productos obtenidos correctamente. Total: 1
2025-04-27T11:16:44.031+02:00 DEBUG 27944 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:16:44.031+02:00  INFO 27944 --- [http-nio-8081-exec-7] c.t.terranostra.services.UsuarioService  : 📋 Obteniendo la lista de todos los usuarios
2025-04-27T11:16:44.032+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0
2025-04-27T11:16:44.034+02:00  INFO 27944 --- [http-nio-8081-exec-7] c.t.t.controllers.UsuarioController      : ✅ Usuarios obtenidos con éxito. Total: 2
2025-04-27T11:16:44.034+02:00 DEBUG 27944 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=23, nombre=Citrato de Magnesio, descripcion=bUENO PARA DORMIR, precio=45.66, stock=6 (truncated)...]
2025-04-27T11:16:44.035+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:16:44.035+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[UsuarioDto(id=26, nombre=Alicia, apellido=Pérez Ortega, email=ali@gmail.com, contrasenia=null, tele (truncated)...]
2025-04-27T11:16:44.036+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:16:44.038+02:00 DEBUG 27944 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:16:48.143+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-04-27T11:16:48.144+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:16:48.144+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-04-27T11:16:48.145+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-04-27T11:16:48.145+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos()
2025-04-27T11:16:48.150+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-04-27T11:16:48.157+02:00  INFO 27944 --- [http-nio-8081-exec-8] c.t.t.controllers.ProductoController     : ✅ Productos obtenidos correctamente. Total: 1
2025-04-27T11:16:48.157+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:16:48.162+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=23, nombre=Citrato de Magnesio, descripcion=bUENO PARA DORMIR, precio=45.66, stock=6 (truncated)...]
2025-04-27T11:16:48.166+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:16:50.625+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-04-27T11:16:50.625+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:16:50.626+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-04-27T11:16:50.626+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-04-27T11:16:50.626+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos()
2025-04-27T11:16:50.630+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-04-27T11:16:50.634+02:00  INFO 27944 --- [http-nio-8081-exec-9] c.t.t.controllers.ProductoController     : ✅ Productos obtenidos correctamente. Total: 1
2025-04-27T11:16:50.634+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:16:50.638+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=23, nombre=Citrato de Magnesio, descripcion=bUENO PARA DORMIR, precio=45.66, stock=6 (truncated)...]
2025-04-27T11:16:50.642+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:17:18.157+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/usuario/registro
2025-04-27T11:17:18.157+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:17:18.157+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/usuario/registro
2025-04-27T11:17:18.158+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/usuario/registro", parameters={}
2025-04-27T11:17:18.158+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#aniadirUsuario(UsuarioDto)
2025-04-27T11:17:18.162+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UsuarioDto(id=null, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contras (truncated)...]
2025-04-27T11:17:18.162+02:00  INFO 27944 --- [http-nio-8081-exec-8] c.t.t.controllers.UsuarioController      : 📝 Intentando registrar un nuevo usuario: ballesterospereze@gmail.com
2025-04-27T11:17:18.165+02:00  INFO 27944 --- [http-nio-8081-exec-8] c.t.terranostra.services.UsuarioService  : 🟢 Intentando registrar un nuevo usuario con email: ballesterospereze@gmail.com
2025-04-27T11:17:18.168+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-04-27T11:17:18.239+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    insert 
    into
        usuarios
        (apellido, contrasenia, direccion, email, fecha_registro, nombre, rol, telefono) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-04-27T11:17:18.265+02:00  INFO 27944 --- [http-nio-8081-exec-8] c.t.terranostra.services.UsuarioService  : ✅ Usuario registrado con éxito: ballesterospereze@gmail.com
2025-04-27T11:17:18.271+02:00  INFO 27944 --- [http-nio-8081-exec-8] c.t.t.controllers.UsuarioController      : ✅ Usuario registrado con éxito. ID: 28
2025-04-27T11:17:18.272+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-04-27T11:17:18.272+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Usuario registrado con éxito. ID: 28"]
2025-04-27T11:17:18.275+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-04-27T11:17:19.931+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-04-27T11:17:19.932+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:17:19.932+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-04-27T11:17:19.932+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-04-27T11:17:19.934+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos()
2025-04-27T11:17:19.940+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-04-27T11:17:19.948+02:00  INFO 27944 --- [http-nio-8081-exec-9] c.t.t.controllers.ProductoController     : ✅ Productos obtenidos correctamente. Total: 1
2025-04-27T11:17:19.949+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:17:19.954+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=23, nombre=Citrato de Magnesio, descripcion=bUENO PARA DORMIR, precio=45.66, stock=6 (truncated)...]
2025-04-27T11:17:19.956+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:17:22.875+02:00 DEBUG 27944 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario/email/ballesterospereze@gmail.com
2025-04-27T11:17:22.876+02:00 DEBUG 27944 --- [http-nio-8081-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:17:22.876+02:00 DEBUG 27944 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario/email/ballesterospereze@gmail.com
2025-04-27T11:17:22.876+02:00 DEBUG 27944 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario/email/ballesterospereze@gmail.com", parameters={}
2025-04-27T11:17:22.877+02:00 DEBUG 27944 --- [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarioPorEmail(String)
2025-04-27T11:17:22.877+02:00  INFO 27944 --- [http-nio-8081-exec-10] c.t.t.controllers.UsuarioController      : 🔎 Buscando usuario con email: ballesterospereze@gmail.com
2025-04-27T11:17:22.879+02:00  INFO 27944 --- [http-nio-8081-exec-10] c.t.terranostra.services.UsuarioService  : 🔍 Buscando usuario por email: ballesterospereze@gmail.com
2025-04-27T11:17:22.881+02:00 DEBUG 27944 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-04-27T11:17:22.887+02:00  INFO 27944 --- [http-nio-8081-exec-10] c.t.t.controllers.UsuarioController      : ✅ Usuario encontrado: UsuarioDto(id=28, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrasenia=null, telefono=null, direccion=null, fechaRegistro=2025-04-27T11:17:18, rol=ROLE_USER)
2025-04-27T11:17:22.888+02:00 DEBUG 27944 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:17:22.890+02:00 DEBUG 27944 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UsuarioDto(id=28, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrasen (truncated)...]
2025-04-27T11:17:22.892+02:00 DEBUG 27944 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:17:33.708+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario/email/ballesterospereze@gmail.com
2025-04-27T11:17:33.709+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:17:33.709+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario/email/ballesterospereze@gmail.com
2025-04-27T11:17:33.709+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario/email/ballesterospereze@gmail.com", parameters={}
2025-04-27T11:17:33.709+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarioPorEmail(String)
2025-04-27T11:17:33.710+02:00  INFO 27944 --- [http-nio-8081-exec-3] c.t.t.controllers.UsuarioController      : 🔎 Buscando usuario con email: ballesterospereze@gmail.com
2025-04-27T11:17:33.713+02:00  INFO 27944 --- [http-nio-8081-exec-3] c.t.terranostra.services.UsuarioService  : 🔍 Buscando usuario por email: ballesterospereze@gmail.com
2025-04-27T11:17:33.715+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-04-27T11:17:33.719+02:00  INFO 27944 --- [http-nio-8081-exec-3] c.t.t.controllers.UsuarioController      : ✅ Usuario encontrado: UsuarioDto(id=28, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrasenia=null, telefono=null, direccion=null, fechaRegistro=2025-04-27T11:17:18, rol=ROLE_USER)
2025-04-27T11:17:33.720+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:17:33.720+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UsuarioDto(id=28, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrasen (truncated)...]
2025-04-27T11:17:33.721+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:17:43.072+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario/email/ballesterospereze@gmail.com
2025-04-27T11:17:43.072+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:17:43.073+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario/email/ballesterospereze@gmail.com
2025-04-27T11:17:43.073+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario/email/ballesterospereze@gmail.com", parameters={}
2025-04-27T11:17:43.074+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarioPorEmail(String)
2025-04-27T11:17:43.075+02:00  INFO 27944 --- [http-nio-8081-exec-2] c.t.t.controllers.UsuarioController      : 🔎 Buscando usuario con email: ballesterospereze@gmail.com
2025-04-27T11:17:43.078+02:00  INFO 27944 --- [http-nio-8081-exec-2] c.t.terranostra.services.UsuarioService  : 🔍 Buscando usuario por email: ballesterospereze@gmail.com
2025-04-27T11:17:43.080+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-04-27T11:17:43.083+02:00  INFO 27944 --- [http-nio-8081-exec-2] c.t.t.controllers.UsuarioController      : ✅ Usuario encontrado: UsuarioDto(id=28, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrasenia=null, telefono=null, direccion=null, fechaRegistro=2025-04-27T11:17:18, rol=ROLE_USER)
2025-04-27T11:17:43.084+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:17:43.084+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UsuarioDto(id=28, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrasen (truncated)...]
2025-04-27T11:17:43.085+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:17:45.780+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/usuario/solicitar-cambio
2025-04-27T11:17:45.780+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:17:45.780+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/usuario/solicitar-cambio
2025-04-27T11:17:45.780+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/usuario/solicitar-cambio", parameters={}
2025-04-27T11:17:45.780+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#solicitarCambioContrasenia(Map)
2025-04-27T11:17:45.785+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{email=ballesterospereze@gmail.com}]
2025-04-27T11:17:45.787+02:00  INFO 27944 --- [http-nio-8081-exec-4] c.t.t.controllers.UsuarioController      : 📩 Solicitud de cambio de contraseña para: ballesterospereze@gmail.com
2025-04-27T11:17:45.790+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-04-27T11:17:45.796+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.email=?
2025-04-27T11:17:45.802+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    insert 
    into
        password_reset_tokens
        (email, expiracion, token) 
    values
        (?, ?, ?)
2025-04-27T11:17:47.530+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    delete 
    from
        password_reset_tokens 
    where
        id=?
2025-04-27T11:17:47.534+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-04-27T11:17:47.535+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["📨 Se ha enviado un enlace de cambio de contraseña."]
2025-04-27T11:17:47.536+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:18:08.765+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/auth/validar-token?token=2e63c884-5e24-40d6-9e9a-954b4cd0f564
2025-04-27T11:18:08.766+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:18:08.767+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/auth/validar-token?token=2e63c884-5e24-40d6-9e9a-954b4cd0f564
2025-04-27T11:18:08.769+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/validar-token?token=2e63c884-5e24-40d6-9e9a-954b4cd0f564", parameters={masked}
2025-04-27T11:18:08.769+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.AuthController#validarToken(String)
2025-04-27T11:18:08.774+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.token=?
2025-04-27T11:18:08.781+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:18:08.781+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [true]
2025-04-27T11:18:08.783+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:18:31.259+02:00 DEBUG 27944 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Securing PUT /api/auth/cambiar-password
2025-04-27T11:18:31.259+02:00 DEBUG 27944 --- [http-nio-8081-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:18:31.259+02:00 DEBUG 27944 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Secured PUT /api/auth/cambiar-password
2025-04-27T11:18:31.259+02:00 DEBUG 27944 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : PUT "/api/auth/cambiar-password", parameters={}
2025-04-27T11:18:31.261+02:00 DEBUG 27944 --- [http-nio-8081-exec-10] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-04-27T11:18:31.262+02:00 DEBUG 27944 --- [http-nio-8081-exec-10] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found
2025-04-27T11:18:31.266+02:00 DEBUG 27944 --- [http-nio-8081-exec-10] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/auth/cambiar-password.]
2025-04-27T11:18:31.266+02:00 DEBUG 27944 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-04-27T11:18:31.274+02:00 DEBUG 27944 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Securing PUT /error
2025-04-27T11:18:31.274+02:00 DEBUG 27944 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Secured PUT /error
2025-04-27T11:18:31.275+02:00 DEBUG 27944 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for PUT "/error", parameters={}
2025-04-27T11:18:31.275+02:00 DEBUG 27944 --- [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-04-27T11:18:31.282+02:00 DEBUG 27944 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-04-27T11:18:31.282+02:00 DEBUG 27944 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Sun Apr 27 11:18:31 CEST 2025, status=404, error=Not Found, trace=org.springframework.web (truncated)...]
2025-04-27T11:18:31.292+02:00 DEBUG 27944 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-04-27T11:18:31.292+02:00 DEBUG 27944 --- [http-nio-8081-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:21:13.751+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing PUT /api/auth/cambiar-password
2025-04-27T11:21:13.751+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:21:13.751+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured PUT /api/auth/cambiar-password
2025-04-27T11:21:13.751+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : PUT "/api/auth/cambiar-password", parameters={}
2025-04-27T11:21:13.752+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-04-27T11:21:13.755+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found
2025-04-27T11:21:13.755+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/auth/cambiar-password.]
2025-04-27T11:21:13.756+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-04-27T11:21:13.757+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing PUT /error
2025-04-27T11:21:13.757+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured PUT /error
2025-04-27T11:21:13.757+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for PUT "/error", parameters={}
2025-04-27T11:21:13.757+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-04-27T11:21:13.758+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-04-27T11:21:13.758+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Sun Apr 27 11:21:13 CEST 2025, status=404, error=Not Found, trace=org.springframework.web (truncated)...]
2025-04-27T11:21:13.760+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-04-27T11:21:13.760+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:22:31.889+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/auth/validar-token?token=2e63c884-5e24-40d6-9e9a-954b4cd0f564
2025-04-27T11:22:31.889+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:22:31.890+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/auth/validar-token?token=2e63c884-5e24-40d6-9e9a-954b4cd0f564
2025-04-27T11:22:31.890+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/validar-token?token=2e63c884-5e24-40d6-9e9a-954b4cd0f564", parameters={masked}
2025-04-27T11:22:31.890+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.AuthController#validarToken(String)
2025-04-27T11:22:31.892+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.token=?
2025-04-27T11:22:31.896+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:22:31.896+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [true]
2025-04-27T11:22:31.897+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:24:45.859+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/auth/validar-token?token=2e63c884-5e24-40d6-9e9a-954b4cd0f564
2025-04-27T11:24:45.859+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:24:45.859+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/auth/validar-token?token=2e63c884-5e24-40d6-9e9a-954b4cd0f564
2025-04-27T11:24:45.860+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/validar-token?token=2e63c884-5e24-40d6-9e9a-954b4cd0f564", parameters={masked}
2025-04-27T11:24:45.860+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.AuthController#validarToken(String)
2025-04-27T11:24:45.862+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.token=?
2025-04-27T11:24:45.864+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:24:45.864+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [true]
2025-04-27T11:24:45.865+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:24:50.735+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/auth/validar-token?token=2e63c884-5e24-40d6-9e9a-954b4cd0f564
2025-04-27T11:24:50.735+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:24:50.735+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/auth/validar-token?token=2e63c884-5e24-40d6-9e9a-954b4cd0f564
2025-04-27T11:24:50.736+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/validar-token?token=2e63c884-5e24-40d6-9e9a-954b4cd0f564", parameters={masked}
2025-04-27T11:24:50.736+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.AuthController#validarToken(String)
2025-04-27T11:24:50.737+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.token=?
2025-04-27T11:24:50.740+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:24:50.741+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [true]
2025-04-27T11:24:50.743+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:25:59.233+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/auth/validar-token?token=2e63c884-5e24-40d6-9e9a-954b4cd0f564
2025-04-27T11:25:59.233+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:25:59.233+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/auth/validar-token?token=2e63c884-5e24-40d6-9e9a-954b4cd0f564
2025-04-27T11:25:59.233+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/validar-token?token=2e63c884-5e24-40d6-9e9a-954b4cd0f564", parameters={masked}
2025-04-27T11:25:59.234+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.AuthController#validarToken(String)
2025-04-27T11:25:59.238+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.token=?
2025-04-27T11:25:59.243+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:25:59.243+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [true]
2025-04-27T11:25:59.245+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:26:47.954+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/auth/validar-token?token=2e63c884-5e24-40d6-9e9a-954b4cd0f564
2025-04-27T11:26:47.954+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:26:47.955+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/auth/validar-token?token=2e63c884-5e24-40d6-9e9a-954b4cd0f564
2025-04-27T11:26:47.955+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/validar-token?token=2e63c884-5e24-40d6-9e9a-954b4cd0f564", parameters={masked}
2025-04-27T11:26:47.955+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.AuthController#validarToken(String)
2025-04-27T11:26:47.959+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.token=?
2025-04-27T11:26:47.964+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:26:47.964+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [true]
2025-04-27T11:26:47.965+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:27:53.672+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/auth/validar-token?token=2e63c884-5e24-40d6-9e9a-954b4cd0f564
2025-04-27T11:27:53.673+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:27:53.673+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/auth/validar-token?token=2e63c884-5e24-40d6-9e9a-954b4cd0f564
2025-04-27T11:27:53.673+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/validar-token?token=2e63c884-5e24-40d6-9e9a-954b4cd0f564", parameters={masked}
2025-04-27T11:27:53.673+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.AuthController#validarToken(String)
2025-04-27T11:27:53.677+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.token=?
2025-04-27T11:27:53.680+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:27:53.680+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [false]
2025-04-27T11:27:53.681+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:28:17.860+02:00 DEBUG 27944 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-04-27T11:28:17.861+02:00 DEBUG 27944 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:28:17.861+02:00 DEBUG 27944 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-04-27T11:28:17.861+02:00 DEBUG 27944 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-04-27T11:28:17.861+02:00 DEBUG 27944 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos()
2025-04-27T11:28:17.867+02:00 DEBUG 27944 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-04-27T11:28:17.875+02:00  INFO 27944 --- [http-nio-8081-exec-6] c.t.t.controllers.ProductoController     : ✅ Productos obtenidos correctamente. Total: 1
2025-04-27T11:28:17.876+02:00 DEBUG 27944 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:28:17.886+02:00 DEBUG 27944 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=23, nombre=Citrato de Magnesio, descripcion=bUENO PARA DORMIR, precio=45.66, stock=6 (truncated)...]
2025-04-27T11:28:17.889+02:00 DEBUG 27944 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:28:20.132+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario/email/ballesterospereze@gmail.com
2025-04-27T11:28:20.132+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:28:20.132+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario/email/ballesterospereze@gmail.com
2025-04-27T11:28:20.132+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario/email/ballesterospereze@gmail.com", parameters={}
2025-04-27T11:28:20.133+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarioPorEmail(String)
2025-04-27T11:28:20.133+02:00  INFO 27944 --- [http-nio-8081-exec-8] c.t.t.controllers.UsuarioController      : 🔎 Buscando usuario con email: ballesterospereze@gmail.com
2025-04-27T11:28:20.135+02:00  INFO 27944 --- [http-nio-8081-exec-8] c.t.terranostra.services.UsuarioService  : 🔍 Buscando usuario por email: ballesterospereze@gmail.com
2025-04-27T11:28:20.137+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-04-27T11:28:20.142+02:00  INFO 27944 --- [http-nio-8081-exec-8] c.t.t.controllers.UsuarioController      : ✅ Usuario encontrado: UsuarioDto(id=28, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrasenia=null, telefono=null, direccion=null, fechaRegistro=2025-04-27T11:17:18, rol=ROLE_USER)
2025-04-27T11:28:20.143+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:28:20.143+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UsuarioDto(id=28, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrasen (truncated)...]
2025-04-27T11:28:20.145+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:28:24.036+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/usuario/solicitar-cambio
2025-04-27T11:28:24.037+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:28:24.037+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/usuario/solicitar-cambio
2025-04-27T11:28:24.037+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/usuario/solicitar-cambio", parameters={}
2025-04-27T11:28:24.037+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#solicitarCambioContrasenia(Map)
2025-04-27T11:28:24.038+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{email=ballesterospereze@gmail.com}]
2025-04-27T11:28:24.039+02:00  INFO 27944 --- [http-nio-8081-exec-1] c.t.t.controllers.UsuarioController      : 📩 Solicitud de cambio de contraseña para: ballesterospereze@gmail.com
2025-04-27T11:28:24.042+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-04-27T11:28:24.045+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.email=?
2025-04-27T11:28:24.047+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    insert 
    into
        password_reset_tokens
        (email, expiracion, token) 
    values
        (?, ?, ?)
2025-04-27T11:28:24.989+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    delete 
    from
        password_reset_tokens 
    where
        id=?
2025-04-27T11:28:24.994+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-04-27T11:28:24.994+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["📨 Se ha enviado un enlace de cambio de contraseña."]
2025-04-27T11:28:24.995+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:28:30.505+02:00 DEBUG 27944 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e
2025-04-27T11:28:30.505+02:00 DEBUG 27944 --- [http-nio-8081-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:28:30.505+02:00 DEBUG 27944 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e
2025-04-27T11:28:30.506+02:00 DEBUG 27944 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e", parameters={masked}
2025-04-27T11:28:30.506+02:00 DEBUG 27944 --- [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.AuthController#validarToken(String)
2025-04-27T11:28:30.508+02:00 DEBUG 27944 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.token=?
2025-04-27T11:28:30.511+02:00 DEBUG 27944 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:28:30.511+02:00 DEBUG 27944 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [true]
2025-04-27T11:28:30.512+02:00 DEBUG 27944 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:29:26.523+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e
2025-04-27T11:29:26.523+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:29:26.523+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e
2025-04-27T11:29:26.524+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e", parameters={masked}
2025-04-27T11:29:26.524+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.AuthController#validarToken(String)
2025-04-27T11:29:26.525+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.token=?
2025-04-27T11:29:26.529+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:29:26.530+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [true]
2025-04-27T11:29:26.531+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:30:06.245+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e
2025-04-27T11:30:06.246+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:30:06.246+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e
2025-04-27T11:30:06.246+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e", parameters={masked}
2025-04-27T11:30:06.246+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.AuthController#validarToken(String)
2025-04-27T11:30:06.248+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.token=?
2025-04-27T11:30:06.252+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:30:06.252+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [true]
2025-04-27T11:30:06.253+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:31:23.236+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e
2025-04-27T11:31:23.237+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:31:23.238+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e
2025-04-27T11:31:23.238+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e", parameters={masked}
2025-04-27T11:31:23.239+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.AuthController#validarToken(String)
2025-04-27T11:31:23.244+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.token=?
2025-04-27T11:31:23.249+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:31:23.249+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [true]
2025-04-27T11:31:23.251+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:31:56.811+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e
2025-04-27T11:31:56.811+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:31:56.812+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e
2025-04-27T11:31:56.812+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e", parameters={masked}
2025-04-27T11:31:56.812+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.AuthController#validarToken(String)
2025-04-27T11:31:56.813+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.token=?
2025-04-27T11:31:56.819+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:31:56.819+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [true]
2025-04-27T11:31:56.820+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:32:03.536+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e
2025-04-27T11:32:03.536+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:32:03.537+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e
2025-04-27T11:32:03.537+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e", parameters={masked}
2025-04-27T11:32:03.538+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.AuthController#validarToken(String)
2025-04-27T11:32:03.542+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.token=?
2025-04-27T11:32:03.546+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:32:03.547+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [true]
2025-04-27T11:32:03.548+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:32:05.836+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e
2025-04-27T11:32:05.836+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:32:05.837+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e
2025-04-27T11:32:05.837+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e", parameters={masked}
2025-04-27T11:32:05.837+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.AuthController#validarToken(String)
2025-04-27T11:32:05.841+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.token=?
2025-04-27T11:32:05.846+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:32:05.846+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [true]
2025-04-27T11:32:05.847+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:32:11.937+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e
2025-04-27T11:32:11.938+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:32:11.938+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e
2025-04-27T11:32:11.938+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e", parameters={masked}
2025-04-27T11:32:11.939+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.AuthController#validarToken(String)
2025-04-27T11:32:11.942+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.token=?
2025-04-27T11:32:11.950+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:32:11.950+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [true]
2025-04-27T11:32:11.951+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:33:01.961+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e
2025-04-27T11:33:01.961+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:33:01.962+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e
2025-04-27T11:33:01.962+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e", parameters={masked}
2025-04-27T11:33:01.962+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.AuthController#validarToken(String)
2025-04-27T11:33:01.965+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.token=?
2025-04-27T11:33:01.971+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:33:01.971+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [true]
2025-04-27T11:33:01.972+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:33:04.376+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e
2025-04-27T11:33:04.376+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:33:04.376+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e
2025-04-27T11:33:04.377+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e", parameters={masked}
2025-04-27T11:33:04.377+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.AuthController#validarToken(String)
2025-04-27T11:33:04.380+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.token=?
2025-04-27T11:33:04.383+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:33:04.383+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [true]
2025-04-27T11:33:04.384+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:33:04.568+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e
2025-04-27T11:33:04.568+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:33:04.568+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e
2025-04-27T11:33:04.569+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e", parameters={masked}
2025-04-27T11:33:04.569+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.AuthController#validarToken(String)
2025-04-27T11:33:04.570+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.token=?
2025-04-27T11:33:04.573+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:33:04.573+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [true]
2025-04-27T11:33:04.574+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:33:04.771+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e
2025-04-27T11:33:04.771+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:33:04.771+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e
2025-04-27T11:33:04.771+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e", parameters={masked}
2025-04-27T11:33:04.771+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.AuthController#validarToken(String)
2025-04-27T11:33:04.773+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.token=?
2025-04-27T11:33:04.775+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:33:04.775+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [true]
2025-04-27T11:33:04.776+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:33:05.002+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e
2025-04-27T11:33:05.003+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:33:05.003+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e
2025-04-27T11:33:05.004+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e", parameters={masked}
2025-04-27T11:33:05.005+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.AuthController#validarToken(String)
2025-04-27T11:33:05.008+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.token=?
2025-04-27T11:33:05.013+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:33:05.014+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [true]
2025-04-27T11:33:05.016+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:33:21.496+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e
2025-04-27T11:33:21.497+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:33:21.497+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e
2025-04-27T11:33:21.498+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e", parameters={masked}
2025-04-27T11:33:21.498+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.AuthController#validarToken(String)
2025-04-27T11:33:21.501+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.token=?
2025-04-27T11:33:21.504+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:33:21.504+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [true]
2025-04-27T11:33:21.505+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:33:22.142+02:00 DEBUG 27944 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e
2025-04-27T11:33:22.142+02:00 DEBUG 27944 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:33:22.142+02:00 DEBUG 27944 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e
2025-04-27T11:33:22.142+02:00 DEBUG 27944 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e", parameters={masked}
2025-04-27T11:33:22.143+02:00 DEBUG 27944 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.AuthController#validarToken(String)
2025-04-27T11:33:22.144+02:00 DEBUG 27944 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.token=?
2025-04-27T11:33:22.148+02:00 DEBUG 27944 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:33:22.149+02:00 DEBUG 27944 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [true]
2025-04-27T11:33:22.150+02:00 DEBUG 27944 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:33:22.364+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e
2025-04-27T11:33:22.364+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:33:22.364+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e
2025-04-27T11:33:22.364+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e", parameters={masked}
2025-04-27T11:33:22.365+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.AuthController#validarToken(String)
2025-04-27T11:33:22.368+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.token=?
2025-04-27T11:33:22.372+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:33:22.373+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [true]
2025-04-27T11:33:22.374+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:33:22.728+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e
2025-04-27T11:33:22.728+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:33:22.728+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e
2025-04-27T11:33:22.729+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e", parameters={masked}
2025-04-27T11:33:22.729+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.AuthController#validarToken(String)
2025-04-27T11:33:22.732+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.token=?
2025-04-27T11:33:22.734+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:33:22.735+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [true]
2025-04-27T11:33:22.736+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:34:29.687+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e
2025-04-27T11:34:29.688+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:34:29.688+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e
2025-04-27T11:34:29.688+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e", parameters={masked}
2025-04-27T11:34:29.688+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.AuthController#validarToken(String)
2025-04-27T11:34:29.690+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.token=?
2025-04-27T11:34:29.693+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:34:29.693+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [true]
2025-04-27T11:34:29.694+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:34:30.366+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e
2025-04-27T11:34:30.367+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:34:30.367+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e
2025-04-27T11:34:30.367+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e", parameters={masked}
2025-04-27T11:34:30.367+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.AuthController#validarToken(String)
2025-04-27T11:34:30.369+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.token=?
2025-04-27T11:34:30.372+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:34:30.372+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [true]
2025-04-27T11:34:30.373+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:35:29.838+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e
2025-04-27T11:35:29.839+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:35:29.839+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e
2025-04-27T11:35:29.839+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e", parameters={masked}
2025-04-27T11:35:29.839+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.AuthController#validarToken(String)
2025-04-27T11:35:29.842+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.token=?
2025-04-27T11:35:29.845+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:35:29.845+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [true]
2025-04-27T11:35:29.846+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:35:30.628+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e
2025-04-27T11:35:30.629+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:35:30.629+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e
2025-04-27T11:35:30.629+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e", parameters={masked}
2025-04-27T11:35:30.630+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.AuthController#validarToken(String)
2025-04-27T11:35:30.632+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.token=?
2025-04-27T11:35:30.635+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:35:30.635+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [true]
2025-04-27T11:35:30.636+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:36:06.936+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing PUT /api/auth/cambiar-password
2025-04-27T11:36:06.936+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:36:06.937+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured PUT /api/auth/cambiar-password
2025-04-27T11:36:06.937+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : PUT "/api/auth/cambiar-password", parameters={}
2025-04-27T11:36:06.937+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-04-27T11:36:06.939+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found
2025-04-27T11:36:06.939+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/auth/cambiar-password.]
2025-04-27T11:36:06.939+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-04-27T11:36:06.940+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing PUT /error
2025-04-27T11:36:06.940+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured PUT /error
2025-04-27T11:36:06.940+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for PUT "/error", parameters={}
2025-04-27T11:36:06.941+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-04-27T11:36:06.942+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-04-27T11:36:06.942+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Sun Apr 27 11:36:06 CEST 2025, status=404, error=Not Found, trace=org.springframework.web (truncated)...]
2025-04-27T11:36:06.943+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-04-27T11:36:06.944+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:37:31.556+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e
2025-04-27T11:37:31.557+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:37:31.557+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e
2025-04-27T11:37:31.557+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e", parameters={masked}
2025-04-27T11:37:31.558+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.AuthController#validarToken(String)
2025-04-27T11:37:31.560+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.token=?
2025-04-27T11:37:31.564+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:37:31.564+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [true]
2025-04-27T11:37:31.567+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:37:41.865+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing PUT /api/auth/cambiar-password
2025-04-27T11:37:41.865+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:37:41.865+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured PUT /api/auth/cambiar-password
2025-04-27T11:37:41.865+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : PUT "/api/auth/cambiar-password", parameters={}
2025-04-27T11:37:41.866+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-04-27T11:37:41.867+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found
2025-04-27T11:37:41.867+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/auth/cambiar-password.]
2025-04-27T11:37:41.867+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-04-27T11:37:41.868+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing PUT /error
2025-04-27T11:37:41.868+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured PUT /error
2025-04-27T11:37:41.868+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for PUT "/error", parameters={}
2025-04-27T11:37:41.868+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-04-27T11:37:41.869+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-04-27T11:37:41.869+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Sun Apr 27 11:37:41 CEST 2025, status=404, error=Not Found, trace=org.springframework.web (truncated)...]
2025-04-27T11:37:41.871+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-04-27T11:37:41.871+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:38:49.960+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e
2025-04-27T11:38:49.961+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:38:49.962+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e
2025-04-27T11:38:49.963+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e", parameters={masked}
2025-04-27T11:38:49.965+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.AuthController#validarToken(String)
2025-04-27T11:38:49.977+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.token=?
2025-04-27T11:38:49.990+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:38:49.991+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [false]
2025-04-27T11:38:49.994+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:38:59.656+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/usuario/solicitar-cambio
2025-04-27T11:38:59.656+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:38:59.656+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/usuario/solicitar-cambio
2025-04-27T11:38:59.656+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/usuario/solicitar-cambio", parameters={}
2025-04-27T11:38:59.656+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#solicitarCambioContrasenia(Map)
2025-04-27T11:38:59.657+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{email=ballesterospereze@gmail.com}]
2025-04-27T11:38:59.657+02:00  INFO 27944 --- [http-nio-8081-exec-2] c.t.t.controllers.UsuarioController      : 📩 Solicitud de cambio de contraseña para: ballesterospereze@gmail.com
2025-04-27T11:38:59.663+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-04-27T11:38:59.669+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.email=?
2025-04-27T11:38:59.672+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        password_reset_tokens
        (email, expiracion, token) 
    values
        (?, ?, ?)
2025-04-27T11:39:00.684+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    delete 
    from
        password_reset_tokens 
    where
        id=?
2025-04-27T11:39:00.693+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-04-27T11:39:00.693+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["📨 Se ha enviado un enlace de cambio de contraseña."]
2025-04-27T11:39:00.695+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:39:08.496+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/auth/validar-token?token=9eb5e7f9-d8ee-4d66-8e25-b500d5f91489
2025-04-27T11:39:08.496+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:39:08.497+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/auth/validar-token?token=9eb5e7f9-d8ee-4d66-8e25-b500d5f91489
2025-04-27T11:39:08.497+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/validar-token?token=9eb5e7f9-d8ee-4d66-8e25-b500d5f91489", parameters={masked}
2025-04-27T11:39:08.497+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.AuthController#validarToken(String)
2025-04-27T11:39:08.499+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.token=?
2025-04-27T11:39:08.504+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:39:08.504+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [true]
2025-04-27T11:39:08.505+02:00 DEBUG 27944 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:39:16.688+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e
2025-04-27T11:39:16.689+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:39:16.689+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e
2025-04-27T11:39:16.689+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e", parameters={masked}
2025-04-27T11:39:16.689+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.AuthController#validarToken(String)
2025-04-27T11:39:16.691+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.token=?
2025-04-27T11:39:16.697+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:39:16.697+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [false]
2025-04-27T11:39:16.698+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:39:34.961+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing PUT /api/auth/cambiar-password
2025-04-27T11:39:34.961+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:39:34.961+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured PUT /api/auth/cambiar-password
2025-04-27T11:39:34.961+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : PUT "/api/auth/cambiar-password", parameters={}
2025-04-27T11:39:34.961+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-04-27T11:39:34.963+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found
2025-04-27T11:39:34.963+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/auth/cambiar-password.]
2025-04-27T11:39:34.963+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-04-27T11:39:34.964+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing PUT /error
2025-04-27T11:39:34.964+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured PUT /error
2025-04-27T11:39:34.964+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for PUT "/error", parameters={}
2025-04-27T11:39:34.965+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-04-27T11:39:34.967+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-04-27T11:39:34.967+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Sun Apr 27 11:39:34 CEST 2025, status=404, error=Not Found, trace=org.springframework.web (truncated)...]
2025-04-27T11:39:34.969+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-04-27T11:39:34.969+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:40:45.992+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e
2025-04-27T11:40:45.992+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:40:45.993+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e
2025-04-27T11:40:45.993+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e", parameters={masked}
2025-04-27T11:40:45.993+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.AuthController#validarToken(String)
2025-04-27T11:40:45.995+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.token=?
2025-04-27T11:40:45.997+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:40:45.998+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [false]
2025-04-27T11:40:45.998+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:40:49.301+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e
2025-04-27T11:40:49.301+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:40:49.301+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e
2025-04-27T11:40:49.301+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/validar-token?token=36fd3fb5-ddeb-4616-9140-4793a89b2a2e", parameters={masked}
2025-04-27T11:40:49.301+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.AuthController#validarToken(String)
2025-04-27T11:40:49.304+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.token=?
2025-04-27T11:40:49.308+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:40:49.308+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [false]
2025-04-27T11:40:49.309+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:42:14.036+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/auth/validar-token?token=9eb5e7f9-d8ee-4d66-8e25-b500d5f91489
2025-04-27T11:42:14.036+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:42:14.036+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/auth/validar-token?token=9eb5e7f9-d8ee-4d66-8e25-b500d5f91489
2025-04-27T11:42:14.037+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/validar-token?token=9eb5e7f9-d8ee-4d66-8e25-b500d5f91489", parameters={masked}
2025-04-27T11:42:14.037+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.AuthController#validarToken(String)
2025-04-27T11:42:14.039+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.token=?
2025-04-27T11:42:14.041+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:42:14.042+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [true]
2025-04-27T11:42:14.042+02:00 DEBUG 27944 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:44:03.762+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/auth/validar-token?token=9eb5e7f9-d8ee-4d66-8e25-b500d5f91489
2025-04-27T11:44:03.763+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:44:03.763+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/auth/validar-token?token=9eb5e7f9-d8ee-4d66-8e25-b500d5f91489
2025-04-27T11:44:03.763+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/validar-token?token=9eb5e7f9-d8ee-4d66-8e25-b500d5f91489", parameters={masked}
2025-04-27T11:44:03.764+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.AuthController#validarToken(String)
2025-04-27T11:44:03.766+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.token=?
2025-04-27T11:44:03.770+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:44:03.770+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [true]
2025-04-27T11:44:03.771+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:44:22.457+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/auth/validar-token?token=9eb5e7f9-d8ee-4d66-8e25-b500d5f91489
2025-04-27T11:44:22.457+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:44:22.458+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/auth/validar-token?token=9eb5e7f9-d8ee-4d66-8e25-b500d5f91489
2025-04-27T11:44:22.458+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/validar-token?token=9eb5e7f9-d8ee-4d66-8e25-b500d5f91489", parameters={masked}
2025-04-27T11:44:22.458+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.AuthController#validarToken(String)
2025-04-27T11:44:22.461+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.token=?
2025-04-27T11:44:22.463+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:44:22.463+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [true]
2025-04-27T11:44:22.464+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:46:16.870+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/auth/validar-token?token=9eb5e7f9-d8ee-4d66-8e25-b500d5f91489
2025-04-27T11:46:16.870+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:46:16.871+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/auth/validar-token?token=9eb5e7f9-d8ee-4d66-8e25-b500d5f91489
2025-04-27T11:46:16.871+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/validar-token?token=9eb5e7f9-d8ee-4d66-8e25-b500d5f91489", parameters={masked}
2025-04-27T11:46:16.872+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.AuthController#validarToken(String)
2025-04-27T11:46:16.876+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.token=?
2025-04-27T11:46:16.880+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:46:16.880+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [true]
2025-04-27T11:46:16.881+02:00 DEBUG 27944 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:46:29.726+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/auth/validar-token?token=9eb5e7f9-d8ee-4d66-8e25-b500d5f91489
2025-04-27T11:46:29.726+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:46:29.727+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/auth/validar-token?token=9eb5e7f9-d8ee-4d66-8e25-b500d5f91489
2025-04-27T11:46:29.727+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/validar-token?token=9eb5e7f9-d8ee-4d66-8e25-b500d5f91489", parameters={masked}
2025-04-27T11:46:29.727+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.AuthController#validarToken(String)
2025-04-27T11:46:29.730+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.token=?
2025-04-27T11:46:29.732+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T11:46:29.732+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [true]
2025-04-27T11:46:29.733+02:00 DEBUG 27944 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T11:46:56.288+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing PUT /api/auth/cambiar-password
2025-04-27T11:46:56.289+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T11:46:56.289+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured PUT /api/auth/cambiar-password
2025-04-27T11:46:56.289+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : PUT "/api/auth/cambiar-password", parameters={}
2025-04-27T11:46:56.289+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-04-27T11:46:56.290+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found
2025-04-27T11:46:56.291+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/auth/cambiar-password.]
2025-04-27T11:46:56.291+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-04-27T11:46:56.291+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing PUT /error
2025-04-27T11:46:56.291+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured PUT /error
2025-04-27T11:46:56.292+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for PUT "/error", parameters={}
2025-04-27T11:46:56.292+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-04-27T11:46:56.292+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-04-27T11:46:56.293+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Sun Apr 27 11:46:56 CEST 2025, status=404, error=Not Found, trace=org.springframework.web (truncated)...]
2025-04-27T11:46:56.295+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-04-27T11:46:56.295+02:00 DEBUG 27944 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T12:02:03.388+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/usuario/solicitar-cambio
2025-04-27T12:02:03.389+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T12:02:03.389+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/usuario/solicitar-cambio
2025-04-27T12:02:03.389+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/usuario/solicitar-cambio", parameters={}
2025-04-27T12:02:03.389+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#solicitarCambioContrasenia(Map)
2025-04-27T12:02:03.390+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{email=ballesterospereze@gmail.com}]
2025-04-27T12:02:03.390+02:00  INFO 27944 --- [http-nio-8081-exec-8] c.t.t.controllers.UsuarioController      : 📩 Solicitud de cambio de contraseña para: ballesterospereze@gmail.com
2025-04-27T12:02:03.394+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-04-27T12:02:03.398+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.email=?
2025-04-27T12:02:03.402+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    insert 
    into
        password_reset_tokens
        (email, expiracion, token) 
    values
        (?, ?, ?)
2025-04-27T12:02:04.423+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    delete 
    from
        password_reset_tokens 
    where
        id=?
2025-04-27T12:02:04.428+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-04-27T12:02:04.428+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["📨 Se ha enviado un enlace de cambio de contraseña."]
2025-04-27T12:02:04.429+02:00 DEBUG 27944 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T12:02:14.077+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/auth/validar-token?token=3cac24cf-1fdf-49c5-b813-d9600a120189
2025-04-27T12:02:14.078+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T12:02:14.078+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/auth/validar-token?token=3cac24cf-1fdf-49c5-b813-d9600a120189
2025-04-27T12:02:14.078+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/validar-token?token=3cac24cf-1fdf-49c5-b813-d9600a120189", parameters={masked}
2025-04-27T12:02:14.078+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.AuthController#validarToken(String)
2025-04-27T12:02:14.080+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.token=?
2025-04-27T12:02:14.084+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T12:02:14.085+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [true]
2025-04-27T12:02:14.085+02:00 DEBUG 27944 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T12:02:41.018+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing PUT /api/auth/cambiar-password
2025-04-27T12:02:41.018+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T12:02:41.018+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured PUT /api/auth/cambiar-password
2025-04-27T12:02:41.018+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : PUT "/api/auth/cambiar-password", parameters={}
2025-04-27T12:02:41.019+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-04-27T12:02:41.020+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found
2025-04-27T12:02:41.021+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/auth/cambiar-password.]
2025-04-27T12:02:41.021+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-04-27T12:02:41.021+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing PUT /error
2025-04-27T12:02:41.022+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured PUT /error
2025-04-27T12:02:41.022+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for PUT "/error", parameters={}
2025-04-27T12:02:41.022+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-04-27T12:02:41.023+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-04-27T12:02:41.024+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Sun Apr 27 12:02:41 CEST 2025, status=404, error=Not Found, trace=org.springframework.web (truncated)...]
2025-04-27T12:02:41.025+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-04-27T12:02:41.025+02:00 DEBUG 27944 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T12:04:22.267+02:00  INFO 27944 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-27T12:04:22.278+02:00  INFO 27944 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-27T12:04:22.285+02:00  INFO 27944 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-27T12:04:22.291+02:00  INFO 27944 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-27T12:04:22.295+02:00  INFO 27944 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-27T12:08:05.293+02:00  INFO 21384 --- [restartedMain] c.t.t.TerraNostraApiApplication          : Starting TerraNostraApiApplication using Java 21.0.5 with PID 21384 (C:\Users\balle\Documents\Proyectos\terra-nostra-api\target\classes started by balle in C:\Users\balle\Documents\Proyectos\terra-nostra-api)
2025-04-27T12:08:05.296+02:00  INFO 21384 --- [restartedMain] c.t.t.TerraNostraApiApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-27T12:08:05.346+02:00  INFO 21384 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-27T12:08:05.347+02:00  INFO 21384 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-27T12:08:06.330+02:00  INFO 21384 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-27T12:08:06.426+02:00  INFO 21384 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 82 ms. Found 3 JPA repository interfaces.
2025-04-27T12:08:07.392+02:00  INFO 21384 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-04-27T12:08:07.413+02:00  INFO 21384 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-27T12:08:07.414+02:00  INFO 21384 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-04-27T12:08:07.476+02:00  INFO 21384 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-27T12:08:07.476+02:00  INFO 21384 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2129 ms
2025-04-27T12:08:07.710+02:00  INFO 21384 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-27T12:08:07.835+02:00  INFO 21384 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.4.Final
2025-04-27T12:08:07.889+02:00  INFO 21384 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-27T12:08:08.283+02:00  INFO 21384 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-27T12:08:08.324+02:00  WARN 21384 --- [restartedMain] com.zaxxer.hikari.HikariConfig           : HikariPool-1 - idleTimeout has been set but has no effect because the pool is operating as a fixed size pool.
2025-04-27T12:08:08.324+02:00  INFO 21384 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-27T12:08:08.537+02:00  INFO 21384 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@227335df
2025-04-27T12:08:08.539+02:00  INFO 21384 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-27T12:08:08.582+02:00  WARN 21384 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-27T12:08:08.604+02:00  INFO 21384 --- [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.4.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-27T12:08:09.518+02:00  INFO 21384 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-27T12:08:09.574+02:00  INFO 21384 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-27T12:08:10.141+02:00 DEBUG 21384 --- [restartedMain] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-04-27T12:08:10.182+02:00  WARN 21384 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-27T12:08:10.478+02:00 DEBUG 21384 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 16 mappings in 'requestMappingHandlerMapping'
2025-04-27T12:08:10.608+02:00 DEBUG 21384 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-04-27T12:08:10.682+02:00 DEBUG 21384 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-04-27T12:08:10.790+02:00 DEBUG 21384 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-04-27T12:08:10.863+02:00 DEBUG 21384 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-04-27T12:08:11.065+02:00  WARN 21384 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2025-04-27T12:08:11.116+02:00  INFO 21384 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-04-27T12:08:11.127+02:00  INFO 21384 --- [restartedMain] c.t.t.TerraNostraApiApplication          : Started TerraNostraApiApplication in 6.408 seconds (process running for 7.019)
2025-04-27T12:09:23.857+02:00  INFO 21384 --- [http-nio-8081-exec-3] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-27T12:09:23.857+02:00  INFO 21384 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-27T12:09:23.858+02:00 DEBUG 21384 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-04-27T12:09:23.858+02:00 DEBUG 21384 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-04-27T12:09:23.858+02:00 DEBUG 21384 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-04-27T12:09:23.859+02:00 DEBUG 21384 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@685af910
2025-04-27T12:09:23.859+02:00 DEBUG 21384 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@5399b7fa
2025-04-27T12:09:23.860+02:00 DEBUG 21384 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-04-27T12:09:23.860+02:00  INFO 21384 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-04-27T12:09:23.881+02:00 DEBUG 21384 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/auth/validar-token?token=3cac24cf-1fdf-49c5-b813-d9600a120189
2025-04-27T12:09:23.892+02:00 DEBUG 21384 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T12:09:23.895+02:00 DEBUG 21384 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/auth/validar-token?token=3cac24cf-1fdf-49c5-b813-d9600a120189
2025-04-27T12:09:23.900+02:00 DEBUG 21384 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/validar-token?token=3cac24cf-1fdf-49c5-b813-d9600a120189", parameters={masked}
2025-04-27T12:09:23.904+02:00 DEBUG 21384 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.AuthController#validarToken(String)
2025-04-27T12:09:24.091+02:00 DEBUG 21384 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.token=?
2025-04-27T12:09:24.164+02:00 DEBUG 21384 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T12:09:24.166+02:00 DEBUG 21384 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [true]
2025-04-27T12:09:24.188+02:00 DEBUG 21384 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T12:09:37.700+02:00 DEBUG 21384 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing PUT /api/auth/cambiar-password
2025-04-27T12:09:37.700+02:00 DEBUG 21384 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T12:09:37.700+02:00 DEBUG 21384 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured PUT /api/auth/cambiar-password
2025-04-27T12:09:37.701+02:00 DEBUG 21384 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : PUT "/api/auth/cambiar-password", parameters={}
2025-04-27T12:09:37.701+02:00 DEBUG 21384 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.AuthController#cambiarContrasenia(CambioContraseniaDto)
2025-04-27T12:09:37.763+02:00 DEBUG 21384 --- [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CambioContraseniaDto(token=3cac24cf-1fdf-49c5-b813-d9600a120189, nuevaContrasenia=edusfc)]
2025-04-27T12:09:37.774+02:00  INFO 21384 --- [http-nio-8081-exec-4] c.tfg.terranostra.services.AuthService   : 🔁 Intentando cambiar la contraseña con token: 3cac24cf-1fdf-49c5-b813-d9600a120189
2025-04-27T12:09:37.777+02:00 DEBUG 21384 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.token=?
2025-04-27T12:09:37.800+02:00 DEBUG 21384 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-04-27T12:09:37.885+02:00  INFO 21384 --- [http-nio-8081-exec-4] c.tfg.terranostra.services.AuthService   : ✅ Contraseña actualizada exitosamente para el usuario: ballesterospereze@gmail.com
2025-04-27T12:09:37.937+02:00 DEBUG 21384 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    update
        usuarios 
    set
        apellido=?,
        contrasenia=?,
        direccion=?,
        email=?,
        fecha_registro=?,
        nombre=?,
        rol=?,
        telefono=? 
    where
        id=?
2025-04-27T12:09:37.953+02:00 DEBUG 21384 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    delete 
    from
        password_reset_tokens 
    where
        id=?
2025-04-27T12:09:37.964+02:00 DEBUG 21384 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-04-27T12:09:37.965+02:00 DEBUG 21384 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["✅ Contraseña cambiada exitosamente."]
2025-04-27T12:09:37.966+02:00 DEBUG 21384 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T12:16:34.111+02:00 DEBUG 21384 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-04-27T12:16:34.112+02:00 DEBUG 21384 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T12:16:34.113+02:00 DEBUG 21384 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-04-27T12:16:34.113+02:00 DEBUG 21384 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-04-27T12:16:34.113+02:00 DEBUG 21384 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos()
2025-04-27T12:16:34.130+02:00 DEBUG 21384 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-04-27T12:16:34.146+02:00  INFO 21384 --- [http-nio-8081-exec-5] c.t.t.controllers.ProductoController     : ✅ Productos obtenidos correctamente. Total: 1
2025-04-27T12:16:34.154+02:00 DEBUG 21384 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T12:16:34.194+02:00 DEBUG 21384 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=23, nombre=Citrato de Magnesio, descripcion=bUENO PARA DORMIR, precio=45.66, stock=6 (truncated)...]
2025-04-27T12:16:34.240+02:00 DEBUG 21384 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T12:17:37.690+02:00 DEBUG 21384 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-04-27T12:17:37.691+02:00 DEBUG 21384 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T12:17:37.692+02:00 DEBUG 21384 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-04-27T12:17:37.693+02:00 DEBUG 21384 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-04-27T12:17:37.694+02:00 DEBUG 21384 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos()
2025-04-27T12:17:37.702+02:00 DEBUG 21384 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-04-27T12:17:37.712+02:00  INFO 21384 --- [http-nio-8081-exec-7] c.t.t.controllers.ProductoController     : ✅ Productos obtenidos correctamente. Total: 1
2025-04-27T12:17:37.714+02:00 DEBUG 21384 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T12:17:37.723+02:00 DEBUG 21384 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=23, nombre=Citrato de Magnesio, descripcion=bUENO PARA DORMIR, precio=45.66, stock=6 (truncated)...]
2025-04-27T12:17:37.729+02:00 DEBUG 21384 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T12:17:45.094+02:00 DEBUG 21384 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-04-27T12:17:45.095+02:00 DEBUG 21384 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T12:17:45.095+02:00 DEBUG 21384 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-04-27T12:17:45.095+02:00 DEBUG 21384 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-04-27T12:17:45.096+02:00 DEBUG 21384 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.AuthController#inicioSesion(LoginDto)
2025-04-27T12:17:45.099+02:00 DEBUG 21384 --- [http-nio-8081-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginDto(email=ballesterospereze@gmail.com, contrasenia=edusfc)]
2025-04-27T12:17:45.100+02:00  INFO 21384 --- [http-nio-8081-exec-8] c.t.t.controllers.AuthController         : 🔐 Intento de inicio de sesión para el usuario: ballesterospereze@gmail.com
2025-04-27T12:17:45.100+02:00  INFO 21384 --- [http-nio-8081-exec-8] c.tfg.terranostra.services.AuthService   : 📩 Intentando autenticar usuario con email: ballesterospereze@gmail.com
2025-04-27T12:17:45.102+02:00 DEBUG 21384 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-04-27T12:17:45.162+02:00  INFO 21384 --- [http-nio-8081-exec-8] c.tfg.terranostra.services.AuthService   : 🔎 ¿Las contraseñas coinciden? true
2025-04-27T12:17:45.165+02:00  INFO 21384 --- [http-nio-8081-exec-8] c.tfg.terranostra.services.AuthService   : 🔐 Usuario autenticado correctamente en SecurityContext: ballesterospereze@gmail.com
2025-04-27T12:17:45.165+02:00  INFO 21384 --- [http-nio-8081-exec-8] c.t.t.controllers.AuthController         : ✅ Inicio de sesión exitoso para el usuario: ballesterospereze@gmail.com
2025-04-27T12:17:45.171+02:00 DEBUG 21384 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-04-27T12:17:45.174+02:00 DEBUG 21384 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UsuarioDto(id=28, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrasen (truncated)...]
2025-04-27T12:17:45.176+02:00 DEBUG 21384 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T12:17:47.004+02:00 DEBUG 21384 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-04-27T12:17:47.004+02:00 DEBUG 21384 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T12:17:47.004+02:00 DEBUG 21384 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-04-27T12:17:47.005+02:00 DEBUG 21384 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-04-27T12:17:47.005+02:00 DEBUG 21384 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos()
2025-04-27T12:17:47.010+02:00 DEBUG 21384 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-04-27T12:17:47.018+02:00  INFO 21384 --- [http-nio-8081-exec-9] c.t.t.controllers.ProductoController     : ✅ Productos obtenidos correctamente. Total: 1
2025-04-27T12:17:47.019+02:00 DEBUG 21384 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T12:17:47.027+02:00 DEBUG 21384 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=23, nombre=Citrato de Magnesio, descripcion=bUENO PARA DORMIR, precio=45.66, stock=6 (truncated)...]
2025-04-27T12:17:47.033+02:00 DEBUG 21384 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T12:48:21.678+02:00  WARN 21384 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=14m42s585ms762µs900ns).
2025-04-27T14:29:37.757+02:00  WARN 21384 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1h30m45s904ms755µs500ns).
2025-04-27T18:08:43.470+02:00  WARN 21384 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3h36m34s601ms603µs100ns).
2025-04-27T18:25:54.387+02:00 DEBUG 21384 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario/email/ballesterospereze@gmail.com
2025-04-27T18:25:54.388+02:00 DEBUG 21384 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T18:25:54.389+02:00 DEBUG 21384 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario/email/ballesterospereze@gmail.com
2025-04-27T18:25:54.391+02:00 DEBUG 21384 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario/email/ballesterospereze@gmail.com", parameters={}
2025-04-27T18:25:54.392+02:00 DEBUG 21384 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarioPorEmail(String)
2025-04-27T18:25:54.407+02:00  INFO 21384 --- [http-nio-8081-exec-2] c.t.t.controllers.UsuarioController      : 🔎 Buscando usuario con email: ballesterospereze@gmail.com
2025-04-27T18:25:54.413+02:00  INFO 21384 --- [http-nio-8081-exec-2] c.t.terranostra.services.UsuarioService  : 🔍 Buscando usuario por email: ballesterospereze@gmail.com
2025-04-27T18:25:54.425+02:00 DEBUG 21384 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-04-27T18:25:54.437+02:00  INFO 21384 --- [http-nio-8081-exec-2] c.t.t.controllers.UsuarioController      : ✅ Usuario encontrado: UsuarioDto(id=28, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrasenia=null, telefono=null, direccion=null, fechaRegistro=2025-04-27T11:17:18, rol=ROLE_USER)
2025-04-27T18:25:54.440+02:00 DEBUG 21384 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T18:25:54.441+02:00 DEBUG 21384 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UsuarioDto(id=28, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrasen (truncated)...]
2025-04-27T18:25:54.450+02:00 DEBUG 21384 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T18:32:22.901+02:00  INFO 21384 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-27T18:32:22.916+02:00  INFO 21384 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-27T18:32:22.926+02:00  INFO 21384 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-27T18:32:22.936+02:00  INFO 21384 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-27T18:32:22.950+02:00  INFO 21384 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-27T18:32:30.162+02:00  INFO 18996 --- [restartedMain] c.t.t.TerraNostraApiApplication          : Starting TerraNostraApiApplication using Java 21.0.5 with PID 18996 (C:\Users\balle\Documents\Proyectos\terra-nostra-api\target\classes started by balle in C:\Users\balle\Documents\Proyectos\terra-nostra-api)
2025-04-27T18:32:30.166+02:00  INFO 18996 --- [restartedMain] c.t.t.TerraNostraApiApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-27T18:32:30.237+02:00  INFO 18996 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-27T18:32:30.237+02:00  INFO 18996 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-27T18:32:32.095+02:00  INFO 18996 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-27T18:32:32.251+02:00  INFO 18996 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 138 ms. Found 3 JPA repository interfaces.
2025-04-27T18:32:33.800+02:00  INFO 18996 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-04-27T18:32:33.822+02:00  INFO 18996 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-27T18:32:33.823+02:00  INFO 18996 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-04-27T18:32:33.891+02:00  INFO 18996 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-27T18:32:33.891+02:00  INFO 18996 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3653 ms
2025-04-27T18:32:34.197+02:00  INFO 18996 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-27T18:32:34.328+02:00  INFO 18996 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.4.Final
2025-04-27T18:32:34.382+02:00  INFO 18996 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-27T18:32:34.768+02:00  INFO 18996 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-27T18:32:34.813+02:00  WARN 18996 --- [restartedMain] com.zaxxer.hikari.HikariConfig           : HikariPool-1 - idleTimeout has been set but has no effect because the pool is operating as a fixed size pool.
2025-04-27T18:32:34.814+02:00  INFO 18996 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-27T18:32:35.022+02:00  INFO 18996 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@70699aa2
2025-04-27T18:32:35.024+02:00  INFO 18996 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-27T18:32:35.067+02:00  WARN 18996 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-27T18:32:35.087+02:00  INFO 18996 --- [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.4.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-27T18:32:36.034+02:00  INFO 18996 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-27T18:32:36.092+02:00 DEBUG 18996 --- [restartedMain] org.hibernate.SQL                        : 
    alter table usuarios 
       add column fecha_modificacion datetime(6)
2025-04-27T18:32:36.150+02:00  INFO 18996 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-27T18:32:36.681+02:00 DEBUG 18996 --- [restartedMain] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-04-27T18:32:36.734+02:00  WARN 18996 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-27T18:32:37.049+02:00 DEBUG 18996 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 16 mappings in 'requestMappingHandlerMapping'
2025-04-27T18:32:37.174+02:00 DEBUG 18996 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-04-27T18:32:37.237+02:00 DEBUG 18996 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-04-27T18:32:37.393+02:00 DEBUG 18996 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-04-27T18:32:37.482+02:00 DEBUG 18996 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-04-27T18:32:37.651+02:00  WARN 18996 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2025-04-27T18:32:37.696+02:00  INFO 18996 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-04-27T18:32:37.705+02:00  INFO 18996 --- [restartedMain] c.t.t.TerraNostraApiApplication          : Started TerraNostraApiApplication in 8.388 seconds (process running for 9.17)
2025-04-27T18:33:45.626+02:00  INFO 18996 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-27T18:33:45.626+02:00  INFO 18996 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-27T18:33:45.626+02:00 DEBUG 18996 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-04-27T18:33:45.626+02:00 DEBUG 18996 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-04-27T18:33:45.626+02:00 DEBUG 18996 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-04-27T18:33:45.628+02:00 DEBUG 18996 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@35021902
2025-04-27T18:33:45.628+02:00 DEBUG 18996 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@3eeda2c1
2025-04-27T18:33:45.629+02:00 DEBUG 18996 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-04-27T18:33:45.629+02:00  INFO 18996 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-04-27T18:33:45.656+02:00 DEBUG 18996 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-04-27T18:33:45.664+02:00 DEBUG 18996 --- [http-nio-8081-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T18:33:45.666+02:00 DEBUG 18996 --- [http-nio-8081-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-04-27T18:33:45.669+02:00 DEBUG 18996 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-04-27T18:33:45.671+02:00 DEBUG 18996 --- [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos()
2025-04-27T18:33:45.827+02:00 DEBUG 18996 --- [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-04-27T18:33:45.884+02:00  INFO 18996 --- [http-nio-8081-exec-1] c.t.t.controllers.ProductoController     : ✅ Productos obtenidos correctamente. Total: 1
2025-04-27T18:33:45.910+02:00 DEBUG 18996 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T18:33:45.939+02:00 DEBUG 18996 --- [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=23, nombre=Citrato de Magnesio, descripcion=bUENO PARA DORMIR, precio=45.66, stock=6 (truncated)...]
2025-04-27T18:33:46.074+02:00 DEBUG 18996 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T18:36:20.246+02:00 DEBUG 18996 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-04-27T18:36:20.247+02:00 DEBUG 18996 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T18:36:20.249+02:00 DEBUG 18996 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-04-27T18:36:20.250+02:00 DEBUG 18996 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-04-27T18:36:20.251+02:00 DEBUG 18996 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos()
2025-04-27T18:36:20.262+02:00 DEBUG 18996 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-04-27T18:36:20.271+02:00  INFO 18996 --- [http-nio-8081-exec-3] c.t.t.controllers.ProductoController     : ✅ Productos obtenidos correctamente. Total: 1
2025-04-27T18:36:20.272+02:00 DEBUG 18996 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T18:36:20.277+02:00 DEBUG 18996 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=23, nombre=Citrato de Magnesio, descripcion=bUENO PARA DORMIR, precio=45.66, stock=6 (truncated)...]
2025-04-27T18:36:20.285+02:00 DEBUG 18996 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T18:36:24.866+02:00 DEBUG 18996 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-04-27T18:36:24.868+02:00 DEBUG 18996 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T18:36:24.869+02:00 DEBUG 18996 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-04-27T18:36:24.870+02:00 DEBUG 18996 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-04-27T18:36:24.870+02:00 DEBUG 18996 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos()
2025-04-27T18:36:24.877+02:00 DEBUG 18996 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-04-27T18:36:24.881+02:00  INFO 18996 --- [http-nio-8081-exec-7] c.t.t.controllers.ProductoController     : ✅ Productos obtenidos correctamente. Total: 1
2025-04-27T18:36:24.882+02:00 DEBUG 18996 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T18:36:24.890+02:00 DEBUG 18996 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=23, nombre=Citrato de Magnesio, descripcion=bUENO PARA DORMIR, precio=45.66, stock=6 (truncated)...]
2025-04-27T18:36:24.894+02:00 DEBUG 18996 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T18:37:06.113+02:00  INFO 18996 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-27T18:37:06.122+02:00  INFO 18996 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-27T18:37:06.126+02:00  INFO 18996 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-27T18:37:06.129+02:00  INFO 18996 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-27T18:37:06.137+02:00  INFO 18996 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-04-27T18:37:08.568+02:00  INFO 18548 --- [restartedMain] c.t.t.TerraNostraApiApplication          : Starting TerraNostraApiApplication using Java 21.0.5 with PID 18548 (C:\Users\balle\Documents\Proyectos\terra-nostra-api\target\classes started by balle in C:\Users\balle\Documents\Proyectos\terra-nostra-api)
2025-04-27T18:37:08.570+02:00  INFO 18548 --- [restartedMain] c.t.t.TerraNostraApiApplication          : No active profile set, falling back to 1 default profile: "default"
2025-04-27T18:37:08.619+02:00  INFO 18548 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-27T18:37:08.619+02:00  INFO 18548 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-27T18:37:09.569+02:00  INFO 18548 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-27T18:37:09.669+02:00  INFO 18548 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 84 ms. Found 3 JPA repository interfaces.
2025-04-27T18:37:10.556+02:00  INFO 18548 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-04-27T18:37:10.574+02:00  INFO 18548 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-27T18:37:10.575+02:00  INFO 18548 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-04-27T18:37:10.631+02:00  INFO 18548 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-27T18:37:10.631+02:00  INFO 18548 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2011 ms
2025-04-27T18:37:10.911+02:00  INFO 18548 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-27T18:37:11.037+02:00  INFO 18548 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.4.Final
2025-04-27T18:37:11.103+02:00  INFO 18548 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-27T18:37:11.517+02:00  INFO 18548 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-27T18:37:11.556+02:00  WARN 18548 --- [restartedMain] com.zaxxer.hikari.HikariConfig           : HikariPool-1 - idleTimeout has been set but has no effect because the pool is operating as a fixed size pool.
2025-04-27T18:37:11.557+02:00  INFO 18548 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-27T18:37:11.781+02:00  INFO 18548 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@37296204
2025-04-27T18:37:11.784+02:00  INFO 18548 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-27T18:37:11.820+02:00  WARN 18548 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-27T18:37:11.838+02:00  INFO 18548 --- [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.4.3
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-27T18:37:12.695+02:00  INFO 18548 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-27T18:37:12.746+02:00  INFO 18548 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-27T18:37:13.295+02:00 DEBUG 18548 --- [restartedMain] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-04-27T18:37:13.342+02:00  WARN 18548 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-27T18:37:13.621+02:00 DEBUG 18548 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 16 mappings in 'requestMappingHandlerMapping'
2025-04-27T18:37:13.757+02:00 DEBUG 18548 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-04-27T18:37:13.824+02:00 DEBUG 18548 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-04-27T18:37:13.944+02:00 DEBUG 18548 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-04-27T18:37:14.028+02:00 DEBUG 18548 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-04-27T18:37:14.229+02:00  WARN 18548 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2025-04-27T18:37:14.269+02:00  INFO 18548 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-04-27T18:37:14.280+02:00  INFO 18548 --- [restartedMain] c.t.t.TerraNostraApiApplication          : Started TerraNostraApiApplication in 6.375 seconds (process running for 7.157)
2025-04-27T18:37:33.164+02:00  INFO 18548 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-27T18:37:33.165+02:00  INFO 18548 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-27T18:37:33.165+02:00 DEBUG 18548 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-04-27T18:37:33.165+02:00 DEBUG 18548 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-04-27T18:37:33.165+02:00 DEBUG 18548 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-04-27T18:37:33.166+02:00 DEBUG 18548 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@5ac789f7
2025-04-27T18:37:33.167+02:00 DEBUG 18548 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@1dbb277e
2025-04-27T18:37:33.167+02:00 DEBUG 18548 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-04-27T18:37:33.167+02:00  INFO 18548 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-04-27T18:37:33.185+02:00 DEBUG 18548 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-04-27T18:37:33.194+02:00 DEBUG 18548 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T18:37:33.196+02:00 DEBUG 18548 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-04-27T18:37:33.199+02:00 DEBUG 18548 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-04-27T18:37:33.201+02:00 DEBUG 18548 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos()
2025-04-27T18:37:33.309+02:00 DEBUG 18548 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-04-27T18:37:33.342+02:00  INFO 18548 --- [http-nio-8081-exec-2] c.t.t.controllers.ProductoController     : ✅ Productos obtenidos correctamente. Total: 1
2025-04-27T18:37:33.360+02:00 DEBUG 18548 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T18:37:33.391+02:00 DEBUG 18548 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=23, nombre=Citrato de Magnesio, descripcion=bUENO PARA DORMIR, precio=45.66, stock=6 (truncated)...]
2025-04-27T18:37:33.484+02:00 DEBUG 18548 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T18:39:23.873+02:00 DEBUG 18548 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-04-27T18:39:23.874+02:00 DEBUG 18548 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T18:39:23.874+02:00 DEBUG 18548 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-04-27T18:39:23.874+02:00 DEBUG 18548 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-04-27T18:39:23.875+02:00 DEBUG 18548 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.AuthController#inicioSesion(LoginDto)
2025-04-27T18:39:23.917+02:00 DEBUG 18548 --- [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginDto(email=ballesterospereze@gmail.com, contrasenia=edusfc)]
2025-04-27T18:39:23.926+02:00  INFO 18548 --- [http-nio-8081-exec-3] c.t.t.controllers.AuthController         : 🔐 Intento de inicio de sesión para el usuario: ballesterospereze@gmail.com
2025-04-27T18:39:23.926+02:00  INFO 18548 --- [http-nio-8081-exec-3] c.tfg.terranostra.services.AuthService   : 📩 Intentando autenticar usuario con email: ballesterospereze@gmail.com
2025-04-27T18:39:23.966+02:00 DEBUG 18548 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-04-27T18:39:24.052+02:00  INFO 18548 --- [http-nio-8081-exec-3] c.tfg.terranostra.services.AuthService   : 🔎 ¿Las contraseñas coinciden? true
2025-04-27T18:39:24.056+02:00  INFO 18548 --- [http-nio-8081-exec-3] c.tfg.terranostra.services.AuthService   : 🔐 Usuario autenticado correctamente en SecurityContext: ballesterospereze@gmail.com
2025-04-27T18:39:24.056+02:00  INFO 18548 --- [http-nio-8081-exec-3] c.t.t.controllers.AuthController         : ✅ Inicio de sesión exitoso para el usuario: ballesterospereze@gmail.com
2025-04-27T18:39:24.065+02:00 DEBUG 18548 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-04-27T18:39:24.068+02:00 DEBUG 18548 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UsuarioDto(id=28, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrasen (truncated)...]
2025-04-27T18:39:24.070+02:00 DEBUG 18548 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T18:39:25.937+02:00 DEBUG 18548 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-04-27T18:39:25.938+02:00 DEBUG 18548 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T18:39:25.940+02:00 DEBUG 18548 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-04-27T18:39:25.940+02:00 DEBUG 18548 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-04-27T18:39:25.941+02:00 DEBUG 18548 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos()
2025-04-27T18:39:25.947+02:00 DEBUG 18548 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-04-27T18:39:25.956+02:00  INFO 18548 --- [http-nio-8081-exec-4] c.t.t.controllers.ProductoController     : ✅ Productos obtenidos correctamente. Total: 1
2025-04-27T18:39:25.957+02:00 DEBUG 18548 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T18:39:25.963+02:00 DEBUG 18548 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=23, nombre=Citrato de Magnesio, descripcion=bUENO PARA DORMIR, precio=45.66, stock=6 (truncated)...]
2025-04-27T18:39:25.967+02:00 DEBUG 18548 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T18:39:29.301+02:00 DEBUG 18548 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario/email/ballesterospereze@gmail.com
2025-04-27T18:39:29.302+02:00 DEBUG 18548 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T18:39:29.302+02:00 DEBUG 18548 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario/email/ballesterospereze@gmail.com
2025-04-27T18:39:29.302+02:00 DEBUG 18548 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario/email/ballesterospereze@gmail.com", parameters={}
2025-04-27T18:39:29.303+02:00 DEBUG 18548 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarioPorEmail(String)
2025-04-27T18:39:29.312+02:00  INFO 18548 --- [http-nio-8081-exec-5] c.t.t.controllers.UsuarioController      : 🔎 Buscando usuario con email: ballesterospereze@gmail.com
2025-04-27T18:39:29.317+02:00  INFO 18548 --- [http-nio-8081-exec-5] c.t.terranostra.services.UsuarioService  : 🔍 Buscando usuario por email: ballesterospereze@gmail.com
2025-04-27T18:39:29.320+02:00 DEBUG 18548 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-04-27T18:39:29.326+02:00  INFO 18548 --- [http-nio-8081-exec-5] c.t.t.controllers.UsuarioController      : ✅ Usuario encontrado: UsuarioDto(id=28, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrasenia=null, telefono=null, direccion=null, fechaRegistro=2025-04-27T11:17:18, fechaModificacion=null, rol=ROLE_USER)
2025-04-27T18:39:29.327+02:00 DEBUG 18548 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T18:39:29.328+02:00 DEBUG 18548 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UsuarioDto(id=28, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrasen (truncated)...]
2025-04-27T18:39:29.334+02:00 DEBUG 18548 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T18:39:31.280+02:00 DEBUG 18548 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/usuario/solicitar-cambio
2025-04-27T18:39:31.280+02:00 DEBUG 18548 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T18:39:31.281+02:00 DEBUG 18548 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/usuario/solicitar-cambio
2025-04-27T18:39:31.281+02:00 DEBUG 18548 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/usuario/solicitar-cambio", parameters={}
2025-04-27T18:39:31.281+02:00 DEBUG 18548 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#solicitarCambioContrasenia(Map)
2025-04-27T18:39:31.287+02:00 DEBUG 18548 --- [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{email=ballesterospereze@gmail.com}]
2025-04-27T18:39:31.288+02:00  INFO 18548 --- [http-nio-8081-exec-6] c.t.t.controllers.UsuarioController      : 📩 Solicitud de cambio de contraseña para: ballesterospereze@gmail.com
2025-04-27T18:39:31.292+02:00 DEBUG 18548 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-04-27T18:39:31.311+02:00 DEBUG 18548 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.email=?
2025-04-27T18:39:31.374+02:00 DEBUG 18548 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    insert 
    into
        password_reset_tokens
        (email, expiracion, token) 
    values
        (?, ?, ?)
2025-04-27T18:39:33.041+02:00 DEBUG 18548 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-04-27T18:39:33.043+02:00 DEBUG 18548 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["📨 Se ha enviado un enlace de cambio de contraseña."]
2025-04-27T18:39:33.044+02:00 DEBUG 18548 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T18:39:57.786+02:00 DEBUG 18548 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-04-27T18:39:57.786+02:00 DEBUG 18548 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T18:39:57.786+02:00 DEBUG 18548 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-04-27T18:39:57.787+02:00 DEBUG 18548 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-04-27T18:39:57.788+02:00 DEBUG 18548 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos()
2025-04-27T18:39:57.799+02:00 DEBUG 18548 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-04-27T18:39:57.808+02:00  INFO 18548 --- [http-nio-8081-exec-9] c.t.t.controllers.ProductoController     : ✅ Productos obtenidos correctamente. Total: 1
2025-04-27T18:39:57.810+02:00 DEBUG 18548 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T18:39:57.815+02:00 DEBUG 18548 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=23, nombre=Citrato de Magnesio, descripcion=bUENO PARA DORMIR, precio=45.66, stock=6 (truncated)...]
2025-04-27T18:39:57.821+02:00 DEBUG 18548 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T18:39:59.903+02:00 DEBUG 18548 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-04-27T18:39:59.903+02:00 DEBUG 18548 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T18:39:59.903+02:00 DEBUG 18548 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-04-27T18:39:59.904+02:00 DEBUG 18548 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-04-27T18:39:59.904+02:00 DEBUG 18548 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos()
2025-04-27T18:39:59.908+02:00 DEBUG 18548 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-04-27T18:39:59.911+02:00  INFO 18548 --- [http-nio-8081-exec-2] c.t.t.controllers.ProductoController     : ✅ Productos obtenidos correctamente. Total: 1
2025-04-27T18:39:59.912+02:00 DEBUG 18548 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T18:39:59.917+02:00 DEBUG 18548 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=23, nombre=Citrato de Magnesio, descripcion=bUENO PARA DORMIR, precio=45.66, stock=6 (truncated)...]
2025-04-27T18:39:59.920+02:00 DEBUG 18548 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T18:40:04.154+02:00 DEBUG 18548 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-04-27T18:40:04.155+02:00 DEBUG 18548 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T18:40:04.155+02:00 DEBUG 18548 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-04-27T18:40:04.155+02:00 DEBUG 18548 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-04-27T18:40:04.156+02:00 DEBUG 18548 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos()
2025-04-27T18:40:04.161+02:00 DEBUG 18548 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-04-27T18:40:04.168+02:00  INFO 18548 --- [http-nio-8081-exec-3] c.t.t.controllers.ProductoController     : ✅ Productos obtenidos correctamente. Total: 1
2025-04-27T18:40:04.169+02:00 DEBUG 18548 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T18:40:04.180+02:00 DEBUG 18548 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=23, nombre=Citrato de Magnesio, descripcion=bUENO PARA DORMIR, precio=45.66, stock=6 (truncated)...]
2025-04-27T18:40:04.183+02:00 DEBUG 18548 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T18:47:35.321+02:00 DEBUG 18548 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-04-27T18:47:35.322+02:00 DEBUG 18548 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T18:47:35.322+02:00 DEBUG 18548 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-04-27T18:47:35.322+02:00 DEBUG 18548 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-04-27T18:47:35.322+02:00 DEBUG 18548 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos()
2025-04-27T18:47:35.326+02:00 DEBUG 18548 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-04-27T18:47:35.330+02:00  INFO 18548 --- [http-nio-8081-exec-5] c.t.t.controllers.ProductoController     : ✅ Productos obtenidos correctamente. Total: 1
2025-04-27T18:47:35.331+02:00 DEBUG 18548 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T18:47:35.335+02:00 DEBUG 18548 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=23, nombre=Citrato de Magnesio, descripcion=bUENO PARA DORMIR, precio=45.66, stock=6 (truncated)...]
2025-04-27T18:47:35.340+02:00 DEBUG 18548 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T18:49:37.775+02:00 DEBUG 18548 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-04-27T18:49:37.776+02:00 DEBUG 18548 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T18:49:37.776+02:00 DEBUG 18548 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-04-27T18:49:37.776+02:00 DEBUG 18548 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-04-27T18:49:37.777+02:00 DEBUG 18548 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos()
2025-04-27T18:49:37.781+02:00 DEBUG 18548 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-04-27T18:49:37.785+02:00  INFO 18548 --- [http-nio-8081-exec-7] c.t.t.controllers.ProductoController     : ✅ Productos obtenidos correctamente. Total: 1
2025-04-27T18:49:37.786+02:00 DEBUG 18548 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T18:49:37.792+02:00 DEBUG 18548 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=23, nombre=Citrato de Magnesio, descripcion=bUENO PARA DORMIR, precio=45.66, stock=6 (truncated)...]
2025-04-27T18:49:37.816+02:00 DEBUG 18548 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T18:53:29.894+02:00 DEBUG 18548 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-04-27T18:53:29.894+02:00 DEBUG 18548 --- [http-nio-8081-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T18:53:29.895+02:00 DEBUG 18548 --- [http-nio-8081-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-04-27T18:53:29.895+02:00 DEBUG 18548 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-04-27T18:53:29.895+02:00 DEBUG 18548 --- [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos()
2025-04-27T18:53:29.904+02:00 DEBUG 18548 --- [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-04-27T18:53:29.913+02:00  INFO 18548 --- [http-nio-8081-exec-9] c.t.t.controllers.ProductoController     : ✅ Productos obtenidos correctamente. Total: 1
2025-04-27T18:53:29.915+02:00 DEBUG 18548 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T18:53:29.923+02:00 DEBUG 18548 --- [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=23, nombre=Citrato de Magnesio, descripcion=bUENO PARA DORMIR, precio=45.66, stock=6 (truncated)...]
2025-04-27T18:53:29.927+02:00 DEBUG 18548 --- [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T18:54:32.751+02:00 DEBUG 18548 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-04-27T18:54:32.752+02:00 DEBUG 18548 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T18:54:32.752+02:00 DEBUG 18548 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-04-27T18:54:32.753+02:00 DEBUG 18548 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-04-27T18:54:32.753+02:00 DEBUG 18548 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos()
2025-04-27T18:54:32.761+02:00 DEBUG 18548 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-04-27T18:54:32.768+02:00  INFO 18548 --- [http-nio-8081-exec-2] c.t.t.controllers.ProductoController     : ✅ Productos obtenidos correctamente. Total: 1
2025-04-27T18:54:32.769+02:00 DEBUG 18548 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T18:54:32.778+02:00 DEBUG 18548 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=23, nombre=Citrato de Magnesio, descripcion=bUENO PARA DORMIR, precio=45.66, stock=6 (truncated)...]
2025-04-27T18:54:32.782+02:00 DEBUG 18548 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T18:58:30.572+02:00 DEBUG 18548 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-04-27T18:58:30.572+02:00 DEBUG 18548 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T18:58:30.572+02:00 DEBUG 18548 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-04-27T18:58:30.572+02:00 DEBUG 18548 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-04-27T18:58:30.572+02:00 DEBUG 18548 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos()
2025-04-27T18:58:30.576+02:00 DEBUG 18548 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-04-27T18:58:30.586+02:00  INFO 18548 --- [http-nio-8081-exec-3] c.t.t.controllers.ProductoController     : ✅ Productos obtenidos correctamente. Total: 1
2025-04-27T18:58:30.587+02:00 DEBUG 18548 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T18:58:30.595+02:00 DEBUG 18548 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=23, nombre=Citrato de Magnesio, descripcion=bUENO PARA DORMIR, precio=45.66, stock=6 (truncated)...]
2025-04-27T18:58:30.618+02:00 DEBUG 18548 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T18:58:40.311+02:00 DEBUG 18548 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/usuario/solicitar-cambio
2025-04-27T18:58:40.311+02:00 DEBUG 18548 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T18:58:40.311+02:00 DEBUG 18548 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/usuario/solicitar-cambio
2025-04-27T18:58:40.312+02:00 DEBUG 18548 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/usuario/solicitar-cambio", parameters={}
2025-04-27T18:58:40.312+02:00 DEBUG 18548 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#solicitarCambioContrasenia(Map)
2025-04-27T18:58:40.313+02:00 DEBUG 18548 --- [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{email=ballesterospereze@gmail.com}]
2025-04-27T18:58:40.313+02:00  INFO 18548 --- [http-nio-8081-exec-4] c.t.t.controllers.UsuarioController      : 📩 Solicitud de cambio de contraseña para: ballesterospereze@gmail.com
2025-04-27T18:58:40.315+02:00 DEBUG 18548 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-04-27T18:58:40.318+02:00 DEBUG 18548 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.email=?
2025-04-27T18:58:40.325+02:00 DEBUG 18548 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    insert 
    into
        password_reset_tokens
        (email, expiracion, token) 
    values
        (?, ?, ?)
2025-04-27T18:58:41.079+02:00 DEBUG 18548 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/usuario/solicitar-cambio
2025-04-27T18:58:41.079+02:00 DEBUG 18548 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T18:58:41.080+02:00 DEBUG 18548 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/usuario/solicitar-cambio
2025-04-27T18:58:41.080+02:00 DEBUG 18548 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/usuario/solicitar-cambio", parameters={}
2025-04-27T18:58:41.080+02:00 DEBUG 18548 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#solicitarCambioContrasenia(Map)
2025-04-27T18:58:41.081+02:00 DEBUG 18548 --- [http-nio-8081-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{email=ballesterospereze@gmail.com}]
2025-04-27T18:58:41.081+02:00  INFO 18548 --- [http-nio-8081-exec-5] c.t.t.controllers.UsuarioController      : 📩 Solicitud de cambio de contraseña para: ballesterospereze@gmail.com
2025-04-27T18:58:41.086+02:00 DEBUG 18548 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-04-27T18:58:41.092+02:00 DEBUG 18548 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.email=?
2025-04-27T18:58:41.095+02:00 DEBUG 18548 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    insert 
    into
        password_reset_tokens
        (email, expiracion, token) 
    values
        (?, ?, ?)
2025-04-27T18:58:41.277+02:00 DEBUG 18548 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/usuario/solicitar-cambio
2025-04-27T18:58:41.277+02:00 DEBUG 18548 --- [http-nio-8081-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T18:58:41.277+02:00 DEBUG 18548 --- [http-nio-8081-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/usuario/solicitar-cambio
2025-04-27T18:58:41.277+02:00 DEBUG 18548 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/usuario/solicitar-cambio", parameters={}
2025-04-27T18:58:41.277+02:00 DEBUG 18548 --- [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#solicitarCambioContrasenia(Map)
2025-04-27T18:58:41.278+02:00 DEBUG 18548 --- [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{email=ballesterospereze@gmail.com}]
2025-04-27T18:58:41.279+02:00  INFO 18548 --- [http-nio-8081-exec-6] c.t.t.controllers.UsuarioController      : 📩 Solicitud de cambio de contraseña para: ballesterospereze@gmail.com
2025-04-27T18:58:41.281+02:00 DEBUG 18548 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-04-27T18:58:41.285+02:00 DEBUG 18548 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.email=?
2025-04-27T18:58:41.291+02:00 DEBUG 18548 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    insert 
    into
        password_reset_tokens
        (email, expiracion, token) 
    values
        (?, ?, ?)
2025-04-27T18:58:41.329+02:00 DEBUG 18548 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    delete 
    from
        password_reset_tokens 
    where
        id=?
2025-04-27T18:58:41.338+02:00 DEBUG 18548 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-04-27T18:58:41.338+02:00 DEBUG 18548 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["📨 Se ha enviado un enlace de cambio de contraseña."]
2025-04-27T18:58:41.339+02:00 DEBUG 18548 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T18:58:42.065+02:00 DEBUG 18548 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    delete 
    from
        password_reset_tokens 
    where
        id=?
2025-04-27T18:58:42.079+02:00 DEBUG 18548 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.id=?
2025-04-27T18:58:42.081+02:00 ERROR 18548 --- [http-nio-8081-exec-5] c.t.t.controllers.UsuarioController      : ❌ Error al enviar enlace de recuperación: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [com.tfg.terranostra.models.PasswordResetToken#26]
2025-04-27T18:58:42.081+02:00 DEBUG 18548 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-04-27T18:58:42.081+02:00 DEBUG 18548 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["❌ Usuario no encontrado con ese email."]
2025-04-27T18:58:42.082+02:00 DEBUG 18548 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-04-27T18:58:42.352+02:00 DEBUG 18548 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    delete 
    from
        password_reset_tokens 
    where
        id=?
2025-04-27T18:58:42.356+02:00 DEBUG 18548 --- [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.id=?
2025-04-27T18:58:42.357+02:00 ERROR 18548 --- [http-nio-8081-exec-6] c.t.t.controllers.UsuarioController      : ❌ Error al enviar enlace de recuperación: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [com.tfg.terranostra.models.PasswordResetToken#26]
2025-04-27T18:58:42.358+02:00 DEBUG 18548 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-04-27T18:58:42.358+02:00 DEBUG 18548 --- [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["❌ Usuario no encontrado con ese email."]
2025-04-27T18:58:42.359+02:00 DEBUG 18548 --- [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-04-27T18:58:57.565+02:00 DEBUG 18548 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/usuario/solicitar-cambio
2025-04-27T18:58:57.565+02:00 DEBUG 18548 --- [http-nio-8081-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T18:58:57.566+02:00 DEBUG 18548 --- [http-nio-8081-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/usuario/solicitar-cambio
2025-04-27T18:58:57.566+02:00 DEBUG 18548 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/usuario/solicitar-cambio", parameters={}
2025-04-27T18:58:57.566+02:00 DEBUG 18548 --- [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#solicitarCambioContrasenia(Map)
2025-04-27T18:58:57.567+02:00 DEBUG 18548 --- [http-nio-8081-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{email=ballesterospereze@gmail.com}]
2025-04-27T18:58:57.567+02:00  INFO 18548 --- [http-nio-8081-exec-7] c.t.t.controllers.UsuarioController      : 📩 Solicitud de cambio de contraseña para: ballesterospereze@gmail.com
2025-04-27T18:58:57.572+02:00 DEBUG 18548 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-04-27T18:58:57.577+02:00 DEBUG 18548 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.email=?
2025-04-27T18:58:57.582+02:00 DEBUG 18548 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    insert 
    into
        password_reset_tokens
        (email, expiracion, token) 
    values
        (?, ?, ?)
2025-04-27T18:58:58.535+02:00 DEBUG 18548 --- [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    delete 
    from
        password_reset_tokens 
    where
        id=?
2025-04-27T18:58:58.540+02:00 DEBUG 18548 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-04-27T18:58:58.541+02:00 DEBUG 18548 --- [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["📨 Se ha enviado un enlace de cambio de contraseña."]
2025-04-27T18:58:58.542+02:00 DEBUG 18548 --- [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T18:59:33.781+02:00 DEBUG 18548 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/auth/validar-token?token=9a1cad2b-d8e2-4e3f-9af6-cb1feaa39a7b
2025-04-27T18:59:33.782+02:00 DEBUG 18548 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T18:59:33.782+02:00 DEBUG 18548 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/auth/validar-token?token=9a1cad2b-d8e2-4e3f-9af6-cb1feaa39a7b
2025-04-27T18:59:33.783+02:00 DEBUG 18548 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/validar-token?token=9a1cad2b-d8e2-4e3f-9af6-cb1feaa39a7b", parameters={masked}
2025-04-27T18:59:33.783+02:00 DEBUG 18548 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.AuthController#validarToken(String)
2025-04-27T18:59:33.788+02:00 DEBUG 18548 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.token=?
2025-04-27T18:59:33.793+02:00 DEBUG 18548 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T18:59:33.794+02:00 DEBUG 18548 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [false]
2025-04-27T18:59:33.796+02:00 DEBUG 18548 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T18:59:41.030+02:00 DEBUG 18548 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-04-27T18:59:41.031+02:00 DEBUG 18548 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T18:59:41.031+02:00 DEBUG 18548 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-04-27T18:59:41.031+02:00 DEBUG 18548 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-04-27T18:59:41.031+02:00 DEBUG 18548 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos()
2025-04-27T18:59:41.036+02:00 DEBUG 18548 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-04-27T18:59:41.041+02:00  INFO 18548 --- [http-nio-8081-exec-4] c.t.t.controllers.ProductoController     : ✅ Productos obtenidos correctamente. Total: 1
2025-04-27T18:59:41.041+02:00 DEBUG 18548 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T18:59:41.047+02:00 DEBUG 18548 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=23, nombre=Citrato de Magnesio, descripcion=bUENO PARA DORMIR, precio=45.66, stock=6 (truncated)...]
2025-04-27T18:59:41.050+02:00 DEBUG 18548 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T18:59:53.958+02:00 DEBUG 18548 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/auth/validar-token?token=6da02525-d13f-4c38-947a-4fca3ff3e263
2025-04-27T18:59:53.958+02:00 DEBUG 18548 --- [http-nio-8081-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T18:59:53.959+02:00 DEBUG 18548 --- [http-nio-8081-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/auth/validar-token?token=6da02525-d13f-4c38-947a-4fca3ff3e263
2025-04-27T18:59:53.959+02:00 DEBUG 18548 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/validar-token?token=6da02525-d13f-4c38-947a-4fca3ff3e263", parameters={masked}
2025-04-27T18:59:53.959+02:00 DEBUG 18548 --- [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.AuthController#validarToken(String)
2025-04-27T18:59:53.962+02:00 DEBUG 18548 --- [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.token=?
2025-04-27T18:59:53.965+02:00 DEBUG 18548 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T18:59:53.965+02:00 DEBUG 18548 --- [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [true]
2025-04-27T18:59:53.966+02:00 DEBUG 18548 --- [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T19:00:20.976+02:00 DEBUG 18548 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Securing PUT /api/auth/cambiar-password
2025-04-27T19:00:20.977+02:00 DEBUG 18548 --- [http-nio-8081-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T19:00:20.977+02:00 DEBUG 18548 --- [http-nio-8081-exec-8] o.s.security.web.FilterChainProxy        : Secured PUT /api/auth/cambiar-password
2025-04-27T19:00:20.977+02:00 DEBUG 18548 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : PUT "/api/auth/cambiar-password", parameters={}
2025-04-27T19:00:20.977+02:00 DEBUG 18548 --- [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.AuthController#cambiarContrasenia(CambioContraseniaDto)
2025-04-27T19:00:20.979+02:00 DEBUG 18548 --- [http-nio-8081-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CambioContraseniaDto(token=6da02525-d13f-4c38-947a-4fca3ff3e263, nuevaContrasenia=edu123)]
2025-04-27T19:00:20.981+02:00  INFO 18548 --- [http-nio-8081-exec-8] c.tfg.terranostra.services.AuthService   : 🔁 Intentando cambiar la contraseña con token: 6da02525-d13f-4c38-947a-4fca3ff3e263
2025-04-27T19:00:20.982+02:00 DEBUG 18548 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        prt1_0.id,
        prt1_0.email,
        prt1_0.expiracion,
        prt1_0.token 
    from
        password_reset_tokens prt1_0 
    where
        prt1_0.token=?
2025-04-27T19:00:20.984+02:00 DEBUG 18548 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-04-27T19:00:21.050+02:00  INFO 18548 --- [http-nio-8081-exec-8] c.tfg.terranostra.services.AuthService   : ✅ Contraseña actualizada exitosamente para el usuario: ballesterospereze@gmail.com
2025-04-27T19:00:21.058+02:00 DEBUG 18548 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    update
        usuarios 
    set
        apellido=?,
        contrasenia=?,
        direccion=?,
        email=?,
        fecha_modificacion=?,
        fecha_registro=?,
        nombre=?,
        rol=?,
        telefono=? 
    where
        id=?
2025-04-27T19:00:21.064+02:00 DEBUG 18548 --- [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    delete 
    from
        password_reset_tokens 
    where
        id=?
2025-04-27T19:00:21.068+02:00 DEBUG 18548 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-04-27T19:00:21.068+02:00 DEBUG 18548 --- [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["✅ Contraseña cambiada exitosamente."]
2025-04-27T19:00:21.069+02:00 DEBUG 18548 --- [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T19:00:23.231+02:00 DEBUG 18548 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-04-27T19:00:23.232+02:00 DEBUG 18548 --- [http-nio-8081-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T19:00:23.232+02:00 DEBUG 18548 --- [http-nio-8081-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-04-27T19:00:23.232+02:00 DEBUG 18548 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-04-27T19:00:23.232+02:00 DEBUG 18548 --- [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos()
2025-04-27T19:00:23.237+02:00 DEBUG 18548 --- [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-04-27T19:00:23.242+02:00  INFO 18548 --- [http-nio-8081-exec-10] c.t.t.controllers.ProductoController     : ✅ Productos obtenidos correctamente. Total: 1
2025-04-27T19:00:23.242+02:00 DEBUG 18548 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T19:00:23.249+02:00 DEBUG 18548 --- [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=23, nombre=Citrato de Magnesio, descripcion=bUENO PARA DORMIR, precio=45.66, stock=6 (truncated)...]
2025-04-27T19:00:23.251+02:00 DEBUG 18548 --- [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T19:00:31.945+02:00 DEBUG 18548 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-04-27T19:00:31.946+02:00 DEBUG 18548 --- [http-nio-8081-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T19:00:31.947+02:00 DEBUG 18548 --- [http-nio-8081-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-04-27T19:00:31.947+02:00 DEBUG 18548 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-04-27T19:00:31.947+02:00 DEBUG 18548 --- [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.AuthController#inicioSesion(LoginDto)
2025-04-27T19:00:31.949+02:00 DEBUG 18548 --- [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginDto(email=ballesterospereze@gmail.com, contrasenia=edu123)]
2025-04-27T19:00:31.949+02:00  INFO 18548 --- [http-nio-8081-exec-2] c.t.t.controllers.AuthController         : 🔐 Intento de inicio de sesión para el usuario: ballesterospereze@gmail.com
2025-04-27T19:00:31.949+02:00  INFO 18548 --- [http-nio-8081-exec-2] c.tfg.terranostra.services.AuthService   : 📩 Intentando autenticar usuario con email: ballesterospereze@gmail.com
2025-04-27T19:00:31.952+02:00 DEBUG 18548 --- [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-04-27T19:00:32.015+02:00  INFO 18548 --- [http-nio-8081-exec-2] c.tfg.terranostra.services.AuthService   : 🔎 ¿Las contraseñas coinciden? true
2025-04-27T19:00:32.016+02:00  INFO 18548 --- [http-nio-8081-exec-2] c.tfg.terranostra.services.AuthService   : 🔐 Usuario autenticado correctamente en SecurityContext: ballesterospereze@gmail.com
2025-04-27T19:00:32.016+02:00  INFO 18548 --- [http-nio-8081-exec-2] c.t.t.controllers.AuthController         : ✅ Inicio de sesión exitoso para el usuario: ballesterospereze@gmail.com
2025-04-27T19:00:32.016+02:00 DEBUG 18548 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-04-27T19:00:32.016+02:00 DEBUG 18548 --- [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UsuarioDto(id=28, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrasen (truncated)...]
2025-04-27T19:00:32.017+02:00 DEBUG 18548 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T19:00:33.707+02:00 DEBUG 18548 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/productos/listar
2025-04-27T19:00:33.707+02:00 DEBUG 18548 --- [http-nio-8081-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T19:00:33.707+02:00 DEBUG 18548 --- [http-nio-8081-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/productos/listar
2025-04-27T19:00:33.707+02:00 DEBUG 18548 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/productos/listar", parameters={}
2025-04-27T19:00:33.707+02:00 DEBUG 18548 --- [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.ProductoController#listarProductos()
2025-04-27T19:00:33.711+02:00 DEBUG 18548 --- [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        pm1_0.id,
        pm1_0.categoria,
        pm1_0.descripcion,
        pm1_0.imagen,
        pm1_0.nombre,
        pm1_0.precio,
        pm1_0.stock 
    from
        productos pm1_0
2025-04-27T19:00:33.716+02:00  INFO 18548 --- [http-nio-8081-exec-3] c.t.t.controllers.ProductoController     : ✅ Productos obtenidos correctamente. Total: 1
2025-04-27T19:00:33.717+02:00 DEBUG 18548 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T19:00:33.721+02:00 DEBUG 18548 --- [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductoDto(id=23, nombre=Citrato de Magnesio, descripcion=bUENO PARA DORMIR, precio=45.66, stock=6 (truncated)...]
2025-04-27T19:00:33.724+02:00 DEBUG 18548 --- [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-27T19:00:41.454+02:00 DEBUG 18548 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/usuario/email/ballesterospereze@gmail.com
2025-04-27T19:00:41.454+02:00 DEBUG 18548 --- [http-nio-8081-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-27T19:00:41.454+02:00 DEBUG 18548 --- [http-nio-8081-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/usuario/email/ballesterospereze@gmail.com
2025-04-27T19:00:41.454+02:00 DEBUG 18548 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/usuario/email/ballesterospereze@gmail.com", parameters={}
2025-04-27T19:00:41.455+02:00 DEBUG 18548 --- [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.tfg.terranostra.controllers.UsuarioController#obtenerUsuarioPorEmail(String)
2025-04-27T19:00:41.455+02:00  INFO 18548 --- [http-nio-8081-exec-4] c.t.t.controllers.UsuarioController      : 🔎 Buscando usuario con email: ballesterospereze@gmail.com
2025-04-27T19:00:41.459+02:00  INFO 18548 --- [http-nio-8081-exec-4] c.t.terranostra.services.UsuarioService  : 🔍 Buscando usuario por email: ballesterospereze@gmail.com
2025-04-27T19:00:41.461+02:00 DEBUG 18548 --- [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        um1_0.id,
        um1_0.apellido,
        um1_0.contrasenia,
        um1_0.direccion,
        um1_0.email,
        um1_0.fecha_modificacion,
        um1_0.fecha_registro,
        um1_0.nombre,
        um1_0.rol,
        um1_0.telefono 
    from
        usuarios um1_0 
    where
        um1_0.email=?
2025-04-27T19:00:41.465+02:00  INFO 18548 --- [http-nio-8081-exec-4] c.t.t.controllers.UsuarioController      : ✅ Usuario encontrado: UsuarioDto(id=28, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrasenia=null, telefono=null, direccion=null, fechaRegistro=2025-04-27T11:17:18, fechaModificacion=2025-04-27T19:00:21.046664, rol=ROLE_USER)
2025-04-27T19:00:41.466+02:00 DEBUG 18548 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-04-27T19:00:41.466+02:00 DEBUG 18548 --- [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UsuarioDto(id=28, nombre=Eduardo, apellido=Ballesteros, email=ballesterospereze@gmail.com, contrasen (truncated)...]
2025-04-27T19:00:41.467+02:00 DEBUG 18548 --- [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
